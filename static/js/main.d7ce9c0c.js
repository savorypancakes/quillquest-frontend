/*! For license information please see main.d7ce9c0c.js.LICENSE.txt */
(()=>{var e={700:(e,t,n)=>{"use strict";e=n.nmd(e);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=>`\x1b[${38+e};5;${t}m`},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(t,n,r)=>`\x1b[${38+e};2;${t};${n};${r}m`};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,a]of Object.entries(r))t[n]={open:`\x1b[${a[0]}m`,close:`\x1b[${a[1]}m`},r[n]=t[n],e.set(a[0],a[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=r(),t.color.ansi16m=a(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=a(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},2661:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline")},6319:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},7988:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},6592:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},7999:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},3246:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess")},9768:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")},2917:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive")},2405:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone")},5858:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},8863:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97z"}),"ThumbUpAlt")},1982:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var a=r(n(9526)),i=n(4414);t.A=(0,a.default)((0,i.jsx)("path",{d:"m13.11 5.72-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82zM14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1"}),"ThumbUpOffAlt")},9526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1999)},1999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i,createChainedFunction:()=>o,createSvgIcon:()=>ue,debounce:()=>de,deprecatedPropType:()=>he,isMuiElement:()=>pe,ownerDocument:()=>me,ownerWindow:()=>ge,requirePropFactory:()=>ye,setRef:()=>be,unstable_ClassNameGenerator:()=>Fe,unstable_useEnhancedEffect:()=>xe,unstable_useId:()=>Se,unsupportedProp:()=>Ee,useControlled:()=>Ne,useEventCallback:()=>Oe,useForkRef:()=>je,useIsFocusVisible:()=>De});const r=e=>e,a=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})();const i=n(5501).A;const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}),(()=>{}))};var s=n(8168),l=n(9950),c=n.t(l,2),u=n(8587);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const h=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function p(e,t){const n=(0,s.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,s.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const a=e[r]||{},i=t[r];n[r]={},i&&Object.keys(i)?a&&Object.keys(a)?(n[r]=(0,s.A)({},i),Object.keys(a).forEach((e=>{n[r][e]=p(a[e],i[e])}))):n[r]=i:n[r]=a}else void 0===n[r]&&(n[r]=e[r])})),n}var f=n(4414);const m=l.createContext(void 0);function g(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const a=t.components[n];return a.defaultProps?p(a.defaultProps,r):a.styleOverrides||a.variants?r:p(a,r)}({props:t,name:n,theme:{components:l.useContext(m)}})}var y=n(7295),v=n(8099),b=n(7483),w=n(8076),x=n(505),_=n(2860);var k=n(9269);const S={black:"#000",white:"#fff"},E={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},N={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},O={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},j={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},C={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},P={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},T={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},A=["mode","contrastThreshold","tonalOffset"],I={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:S.white,default:S.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},R={text:{primary:S.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:S.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function L(e,t,n,r){const a=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,k.a)(e.main,a):"dark"===t&&(e.dark=(0,k.e$)(e.main,i)))}function $(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,a=(0,u.A)(e,A),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:C[200],light:C[50],dark:C[400]}:{main:C[700],light:C[400],dark:C[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:N[200],light:N[50],dark:N[400]}:{main:N[500],light:N[300],dark:N[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:O[500],light:O[300],dark:O[700]}:{main:O[700],light:O[400],dark:O[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:P[400],light:P[300],dark:P[700]}:{main:P[700],light:P[500],dark:P[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:T[400],light:T[300],dark:T[700]}:{main:T[800],light:T[500],dark:T[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:j[400],light:j[300],dark:j[700]}:{main:"#ed6c02",light:j[500],dark:j[900]}}(t);function p(e){return(0,k.eM)(e,R.text.primary)>=n?R.text.primary:I.text.primary}const f=e=>{let{color:t,name:n,mainShade:a=500,lightShade:i=300,darkShade:o=700}=e;if(t=(0,s.A)({},t),!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,v.A)(11,n?` (${n})`:"",a));if("string"!==typeof t.main)throw new Error((0,v.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return L(t,"light",i,r),L(t,"dark",o,r),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:R,light:I};return(0,b.A)((0,s.A)({common:(0,s.A)({},S),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:d,name:"success"}),grey:E,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},m[t]),a)}const M=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const D={textTransform:"uppercase"},F='"Roboto", "Helvetica", "Arial", sans-serif';function z(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=F,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:p}=n,f=(0,u.A)(n,M);const m=a/14,g=p||(e=>e/d*m+"rem"),y=(e,t,n,a,i)=>{return(0,s.A)({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===F?{letterSpacing:(o=a/t,Math.round(1e5*o)/1e5)+"em"}:{},i,h);var o},v={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(l,14,1.75,.4,D),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,D),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,b.A)((0,s.A)({htmlFontSize:d,pxToRem:g,fontFamily:r,fontSize:a,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c},v),f,{clone:!1})}function U(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const B=["none",U(0,2,1,-1,0,1,1,0,0,1,3,0),U(0,3,1,-2,0,2,2,0,0,1,5,0),U(0,3,3,-2,0,3,4,0,0,1,8,0),U(0,2,4,-1,0,4,5,0,0,1,10,0),U(0,3,5,-1,0,5,8,0,0,1,14,0),U(0,3,5,-1,0,6,10,0,0,1,18,0),U(0,4,5,-2,0,7,10,1,0,2,16,1),U(0,5,5,-3,0,8,10,1,0,3,14,2),U(0,5,6,-3,0,9,12,1,0,3,16,2),U(0,6,6,-3,0,10,14,1,0,4,18,3),U(0,6,7,-4,0,11,15,1,0,4,20,3),U(0,7,8,-4,0,12,17,2,0,5,22,4),U(0,7,8,-4,0,13,19,2,0,5,24,4),U(0,7,9,-4,0,14,21,2,0,5,26,4),U(0,8,9,-5,0,15,22,2,0,6,28,5),U(0,8,10,-5,0,16,24,2,0,6,30,5),U(0,8,11,-5,0,17,26,2,0,6,32,5),U(0,9,11,-5,0,18,28,2,0,7,34,6),U(0,9,12,-6,0,19,29,2,0,7,36,6),U(0,10,13,-6,0,20,31,3,0,8,38,7),U(0,10,13,-6,0,21,33,3,0,8,40,7),U(0,10,14,-6,0,22,35,3,0,8,42,7),U(0,11,14,-7,0,23,36,3,0,9,44,8),U(0,11,15,-7,0,24,38,3,0,9,46,8)],H=["duration","easing","delay"],q={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},W={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V(e){return`${Math.round(e)}ms`}function Z(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function G(e){const t=(0,s.A)({},q,e.easing),n=(0,s.A)({},W,e.duration);return(0,s.A)({getAutoHeightDuration:Z,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=n.standard,easing:i=t.easeInOut,delay:o=0}=r;(0,u.A)(r,H);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof a?a:V(a)} ${i} ${"string"===typeof o?o:V(o)}`)).join(",")}},e,{easing:t,duration:n})}const J={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},K=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:a={}}=e,i=(0,u.A)(e,K);if(e.vars)throw new Error((0,v.A)(18));const o=$(n),l=(0,_.A)(e);let c=(0,b.A)(l,{mixins:(d=l.breakpoints,h=t,(0,s.A)({toolbar:{minHeight:56,[d.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[d.up("sm")]:{minHeight:64}}},h)),palette:o,shadows:B.slice(),typography:z(o,a),transitions:G(r),zIndex:(0,s.A)({},J)});var d,h;c=(0,b.A)(c,i);for(var p=arguments.length,f=new Array(p>1?p-1:0),m=1;m<p;m++)f[m-1]=arguments[m];return c=f.reduce(((e,t)=>(0,b.A)(e,t)),c),c.unstable_sxConfig=(0,s.A)({},w.A,null==i?void 0:i.unstable_sxConfig),c.unstable_sx=function(e){return(0,x.A)({sx:e,theme:this})},c}const Q=X();const Y=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},ee=e=>Y(e)&&"classes"!==e,te=(0,y.Ay)({themeId:"$$material",defaultTheme:Q,rootShouldForwardProp:ee}),ne={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function re(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=ne[t];return r?`${n}-${r}`:`${a.generate(e)}-${t}`}function ae(e){return re("MuiSvgIcon",e)}!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};t.forEach((t=>{r[t]=re(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ie=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],oe=e=>{const{color:t,fontSize:n,classes:r}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((a=>{r[a]=e[a].reduce(((e,r)=>{if(r){const a=t(r);""!==a&&e.push(a),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&`color${i(t)}`,`fontSize${i(n)}`]},ae,r)},se=te("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${i(n.color)}`],t[`fontSize${i(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,a,i,o,s,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(a=r.create)?void 0:a.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),le=l.forwardRef((function(e,t){const n=g({props:e,name:"MuiSvgIcon"});const{children:r,className:a,color:i="inherit",component:o="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:m,viewBox:y="0 0 24 24"}=n,v=(0,u.A)(n,ie),b=l.isValidElement(r)&&"svg"===r.type,w=(0,s.A)({},n,{color:i,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:b}),x={};p||(x.viewBox=y);const _=oe(w);return(0,f.jsxs)(se,(0,s.A)({as:o,className:h(_.root,a),focusable:"false",color:d,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},x,v,b&&r.props,{ownerState:w,children:[b?r.props.children:r,m?(0,f.jsx)("title",{children:m}):null]}))}));le.muiName="SvgIcon";const ce=le;function ue(e,t){function n(n,r){return(0,f.jsx)(ce,(0,s.A)({"data-testid":`${t}Icon`,ref:r},n,{children:e}))}return n.muiName=ce.muiName,l.memo(l.forwardRef(n))}const de=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,a)}),n)}return r.clear=()=>{clearTimeout(t)},r};const he=function(e,t){return()=>null};const pe=function(e,t){var n,r;return l.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function fe(e){return e&&e.ownerDocument||document}const me=fe;const ge=function(e){return fe(e).defaultView||window};const ye=function(e,t){return()=>null};function ve(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const be=ve,we="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,xe=we;let _e=0;const ke=c["useId".toString()];const Se=function(e){if(void 0!==ke){const t=ke();return null!=e?e:t}return function(e){const[t,n]=l.useState(e),r=e||t;return l.useEffect((()=>{null==t&&(_e+=1,n(`mui-${_e}`))}),[t]),r}(e)};const Ee=function(e,t,n,r,a){return null};const Ne=function(e){let{controlled:t,default:n,name:r,state:a="value"}=e;const{current:i}=l.useRef(void 0!==t),[o,s]=l.useState(n);return[i?t:o,l.useCallback((e=>{i||s(e)}),[])]};const Oe=function(e){const t=l.useRef(e);return we((()=>{t.current=e})),l.useRef((function(){return(0,t.current)(...arguments)})).current};const je=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{ve(t,e)}))}),t)};class Ce{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Ce}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}let Pe=!0,Te=!1;const Ae=new Ce,Ie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Re(e){e.metaKey||e.altKey||e.ctrlKey||(Pe=!0)}function Le(){Pe=!1}function $e(){"hidden"===this.visibilityState&&Te&&(Pe=!0)}function Me(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Pe||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Ie[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const De=function(){const e=l.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Re,!0),t.addEventListener("mousedown",Le,!0),t.addEventListener("pointerdown",Le,!0),t.addEventListener("touchstart",Le,!0),t.addEventListener("visibilitychange",$e,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Me(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Te=!0,Ae.start(100,(()=>{Te=!1})),t.current=!1,!0)},ref:e}},Fe={configure:e=>{a.configure(e)}}},929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>We,StyledEngineProvider:()=>qe,ThemeContext:()=>Pe,css:()=>ze,default:()=>Ve,internal_processStyles:()=>Ze,keyframes:()=>Ue});var r=n(8168),a=n(9950),i=n.t(a,2);function o(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=o((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var c=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),u=Math.abs,d=String.fromCharCode,h=Object.assign;function p(e){return e.trim()}function f(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function y(e,t,n){return e.slice(t,n)}function v(e){return e.length}function b(e){return e.length}function w(e,t){return t.push(e),e}var x=1,_=1,k=0,S=0,E=0,N="";function O(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:x,column:_,length:o,return:""}}function j(e,t){return h(O("",null,null,"",null,null,0),e,{length:-e.length},t)}function C(){return E=S>0?g(N,--S):0,_--,10===E&&(_=1,x--),E}function P(){return E=S<k?g(N,S++):0,_++,10===E&&(_=1,x++),E}function T(){return g(N,S)}function A(){return S}function I(e,t){return y(N,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return x=_=1,k=v(N=e),S=0,[]}function $(e){return N="",e}function M(e){return p(I(S-1,z(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(E=T())&&E<33;)P();return R(e)>2||R(E)>3?"":" "}function F(e,t){for(;--t&&P()&&!(E<48||E>102||E>57&&E<65||E>70&&E<97););return I(e,A()+(t<6&&32==T()&&32==P()))}function z(e){for(;P();)switch(E){case e:return S;case 34:case 39:34!==e&&39!==e&&z(E);break;case 40:41===e&&z(e);break;case 92:P()}return S}function U(e,t){for(;P()&&e+E!==57&&(e+E!==84||47!==T()););return"/*"+I(t,S-1)+"*"+d(47===e?e:P())}function B(e){for(;!R(T());)P();return I(e,S)}var H="-ms-",q="-moz-",W="-webkit-",V="comm",Z="rule",G="decl",J="@keyframes";function K(e,t){for(var n="",r=b(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function X(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case G:return e.return=e.return||e.value;case V:return"";case J:return e.return=e.value+"{"+K(e.children,r)+"}";case Z:e.value=e.props.join(",")}return v(n=K(e.children,r))?e.return=e.value+"{"+n+"}":""}function Q(e){return $(Y("",null,null,null,[""],e=L(e),0,[0],e))}function Y(e,t,n,r,a,i,o,s,l){for(var c=0,u=0,h=o,p=0,y=0,b=0,x=1,_=1,k=1,S=0,E="",N=a,O=i,j=r,I=E;_;)switch(b=S,S=P()){case 40:if(108!=b&&58==g(I,h-1)){-1!=m(I+=f(M(S),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:I+=M(S);break;case 9:case 10:case 13:case 32:I+=D(b);break;case 92:I+=F(A()-1,7);continue;case 47:switch(T()){case 42:case 47:w(te(U(P(),A()),t,n),l);break;default:I+="/"}break;case 123*x:s[c++]=v(I)*k;case 125*x:case 59:case 0:switch(S){case 0:case 125:_=0;case 59+u:-1==k&&(I=f(I,/\f/g,"")),y>0&&v(I)-h&&w(y>32?ne(I+";",r,n,h-1):ne(f(I," ","")+";",r,n,h-2),l);break;case 59:I+=";";default:if(w(j=ee(I,t,n,c,u,a,s,E,N=[],O=[],h),i),123===S)if(0===u)Y(I,t,j,j,N,i,h,s,O);else switch(99===p&&110===g(I,3)?100:p){case 100:case 108:case 109:case 115:Y(e,j,j,r&&w(ee(e,j,j,0,0,a,s,E,a,N=[],h),O),a,O,h,s,r?N:O);break;default:Y(I,j,j,j,[""],O,0,s,O)}}c=u=y=0,x=k=1,E=I="",h=o;break;case 58:h=1+v(I),y=b;default:if(x<1)if(123==S)--x;else if(125==S&&0==x++&&125==C())continue;switch(I+=d(S),S*x){case 38:k=u>0?1:(I+="\f",-1);break;case 44:s[c++]=(v(I)-1)*k,k=1;break;case 64:45===T()&&(I+=M(P())),p=T(),u=h=v(E=I+=B(A())),S++;break;case 45:45===b&&2==v(I)&&(x=0)}}return i}function ee(e,t,n,r,a,i,o,s,l,c,d){for(var h=a-1,m=0===a?i:[""],g=b(m),v=0,w=0,x=0;v<r;++v)for(var _=0,k=y(e,h+1,h=u(w=o[v])),S=e;_<g;++_)(S=p(w>0?m[_]+" "+k:f(k,/&\f/g,m[_])))&&(l[x++]=S);return O(e,t,n,0===a?Z:s,l,c,d)}function te(e,t,n){return O(e,t,n,V,d(E),y(e,2,-2),0)}function ne(e,t,n,r){return O(e,t,n,G,y(e,0,r),y(e,r+1,-1),r)}var re=function(e,t,n){for(var r=0,a=0;r=a,a=T(),38===r&&12===a&&(t[n]=1),!R(a);)P();return I(e,S)},ae=function(e,t){return $(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===T()&&(t[n]=1),e[n]+=re(S-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===T()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=d(r)}}while(r=P());return e}(L(e),t))},ie=new WeakMap,oe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ie.get(n))&&!r){ie.set(e,!0);for(var a=[],i=ae(t,a),o=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=a[s]?i[s].replace(/&\f/g,o[c]):o[c]+" "+i[s]}}},se=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function le(e,t){switch(function(e,t){return 45^g(e,0)?(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3):0}(e,t)){case 5103:return W+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return W+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return W+e+q+e+H+e+e;case 6828:case 4268:return W+e+H+e+e;case 6165:return W+e+H+"flex-"+e+e;case 5187:return W+e+f(e,/(\w+).+(:[^]+)/,W+"box-$1$2"+H+"flex-$1$2")+e;case 5443:return W+e+H+"flex-item-"+f(e,/flex-|-self/,"")+e;case 4675:return W+e+H+"flex-line-pack"+f(e,/align-content|flex-|-self/,"")+e;case 5548:return W+e+H+f(e,"shrink","negative")+e;case 5292:return W+e+H+f(e,"basis","preferred-size")+e;case 6060:return W+"box-"+f(e,"-grow","")+W+e+H+f(e,"grow","positive")+e;case 4554:return W+f(e,/([^-])(transform)/g,"$1"+W+"$2")+e;case 6187:return f(f(f(e,/(zoom-|grab)/,W+"$1"),/(image-set)/,W+"$1"),e,"")+e;case 5495:case 3959:return f(e,/(image-set\([^]*)/,W+"$1$`$1");case 4968:return f(f(e,/(.+:)(flex-)?(.*)/,W+"box-pack:$3"+H+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+W+e+e;case 4095:case 3583:case 4068:case 2532:return f(e,/(.+)-inline(.+)/,W+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return f(e,/(.+:)(.+)-([^]+)/,"$1"+W+"$2-$3$1"+q+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?le(f(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,v(e)-3-(~m(e,"!important")&&10))){case 107:return f(e,":",":"+W)+e;case 101:return f(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+W+(45===g(e,14)?"inline-":"")+"box$3$1"+W+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return W+e+H+f(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return W+e+H+f(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return W+e+H+f(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return W+e+H+e+e}return e}var ce=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case G:e.return=le(e.value,e.length);break;case J:return K([j(e,{value:f(e.value,"@","@"+W)})],r);case Z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return K([j(e,{props:[f(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return K([j(e,{props:[f(t,/:(plac\w+)/,":"+W+"input-$1")]}),j(e,{props:[f(t,/:(plac\w+)/,":-moz-$1")]}),j(e,{props:[f(t,/:(plac\w+)/,H+"input-$1")]})],r)}return""}))}}],ue=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,i=e.stylisPlugins||ce,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,u,d=[X,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=b(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}([oe,se].concat(i,d));a=function(e,t,n,r){l=n,K(Q(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new c({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return p.sheet.hydrate(s),p};var de={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},he=!1,pe=/[A-Z]|^ms/g,fe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,me=function(e){return 45===e.charCodeAt(1)},ge=function(e){return null!=e&&"boolean"!==typeof e},ye=o((function(e){return me(e)?e:e.replace(pe,"-$&").toLowerCase()})),ve=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(fe,(function(e,t,n){return xe={name:t,styles:n,next:xe},t}))}return 1===de[e]||me(e)||"number"!==typeof t||0===t?t:t+"px"},be="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function we(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var a=n;if(1===a.anim)return xe={name:a.name,styles:a.styles,next:xe},a.name;var i=n;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)xe={name:o.name,styles:o.styles,next:xe},o=o.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=we(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!==typeof o){var s=o;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":ge(s)&&(r+=ye(i)+":"+ve(i,s)+";")}else{if("NO_COMPONENT_SELECTOR"===i&&he)throw new Error(be);if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=we(e,t,o);switch(i){case"animation":case"animationName":r+=ye(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<o.length;c++)ge(o[c])&&(r+=ye(i)+":"+ve(i,o[c])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var s=xe,l=n(e);return xe=s,we(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var xe,_e=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function ke(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";xe=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=we(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++){if(a+=we(n,t,e[o]),r)a+=i[o]}_e.lastIndex=0;for(var s,l="";null!==(s=_e.exec(a));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:xe}}var Se=!!i.useInsertionEffect&&i.useInsertionEffect,Ee=Se||function(e){return e()},Ne=Se||a.useLayoutEffect,Oe=a.createContext("undefined"!==typeof HTMLElement?ue({key:"css"}):null),je=Oe.Provider,Ce=function(e){return(0,a.forwardRef)((function(t,n){var r=(0,a.useContext)(Oe);return e(t,r,n)}))},Pe=a.createContext({});var Te=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ae=function(e,t,n){Te(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}},Ie=l,Re=function(e){return"theme"!==e},Le=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ie:Re},$e=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Me=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Te(t,n,r),Ee((function(){return Ae(t,n,r)})),null},De=function e(t,n){var i,o,s=t.__emotion_real===t,l=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var c=$e(t,n,s),u=c||Le(l),d=!u("as");return function(){var h=arguments,p=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&p.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{p.push(h[0][0]);for(var f=h.length,m=1;m<f;m++)p.push(h[m],h[0][m])}var g=Ce((function(e,t,n){var r=d&&e.as||l,i="",s=[],h=e;if(null==e.theme){for(var f in h={},e)h[f]=e[f];h.theme=a.useContext(Pe)}"string"===typeof e.className?i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var m=ke(p.concat(s),t.registered,h);i+=t.key+"-"+m.name,void 0!==o&&(i+=" "+o);var g=d&&void 0===c?Le(r):u,y={};for(var v in e)d&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=i,n&&(y.ref=n),a.createElement(a.Fragment,null,a.createElement(Me,{cache:t,serialized:m,isStringTag:"string"===typeof r}),a.createElement(r,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=l,g.__emotion_styles=p,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,a){return e(t,(0,r.A)({},n,a,{shouldForwardProp:$e(g,a,!0)})).apply(void 0,p)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){De[e]=De(e)}));n(3876);var Fe=Ce((function(e,t){var n=ke([e.styles],void 0,a.useContext(Pe)),r=a.useRef();return Ne((function(){var e=t.key+"-global",a=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),a.hydrate([o])),r.current=[a,i],function(){a.flush()}}),[t]),Ne((function(){var e=r.current,a=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Ae(t,n.next,!0),a.tags.length){var i=a.tags[a.tags.length-1].nextElementSibling;a.before=i,a.flush()}t.insert("",n,a,!1)}}),[t,n.name]),null}));function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ke(t)}var Ue=function(){var e=ze.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Be=n(4414);let He;function qe(e){const{injectFirst:t,children:n}=e;return t&&He?(0,Be.jsx)(je,{value:He,children:n}):n}function We(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Be.jsx)(Fe,{styles:r})}function Ve(e,t){return De(e,t)}"object"===typeof document&&(He=ue({key:"css",prepend:!0}));const Ze=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},9269:(e,t,n)=>{"use strict";var r=n(4994);t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var a=r(n(9234)),i=r(n(3383));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,a.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,a.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,i=r*Math.min(a,1-a),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),u({type:s,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},7295:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,a.default)({},e,{theme:y((0,a.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:x=v(g(p))}=c,_=(0,i.default)(c,h),k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,S=w||!1;let E=f;"Root"===p||"root"===p?E=r:p?E=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(E=void 0);const N=(0,o.default)(e,(0,a.default)({shouldForwardProp:E,label:undefined},_)),O=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,a.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,j=function(r){let i=O(r);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];const c=s?s.map(O):[];d&&x&&c.push((e=>{const r=y((0,a.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=b(i,(0,a.default)({},e,{theme:r}))})),x(e,o)})),d&&!k&&c.push((e=>{var r;const i=y((0,a.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,a.default)({},e,{theme:i}))})),S||c.push(u);const h=c.length-s.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=N(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return N.withConfig&&(j.withConfig=N.withConfig),j}};var a=r(n(4634)),i=r(n(4893)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(929)),s=n(7785),l=(r(n(7923)),r(n(8399)),r(n(9904))),c=r(n(993));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return a=n,0===Object.keys(a).length?t:n[r]||n;var a}function v(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const o="function"===typeof e?e((0,a.default)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>b(e,(0,a.default)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,i.default)(o,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,a.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,a.default)({ownerState:n},r,n)):e.style))})),t}return o}},8286:(e,t,n)=>{"use strict";n.d(t,{EU:()=>o,NI:()=>i,vf:()=>s,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||a;return t.reduce(((r,a,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=i.breakpoints||a;return Object.keys(t).reduce(((a,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i)){a[e.up(i)]=n(t[i],i)}else{const e=i;a[e]=t[e]}return a}),{})}return n(t)}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function s(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},86:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},3628:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),a=n(8168);const i=["values","unit","step"],o=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,a.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,i),c=o(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-s/100}${n})`}function p(e,r){const a=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==a&&"number"===typeof t[u[a]]?t[u[a]]:r)-s/100}${n})`}return(0,a.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},2860:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),a=n(8587),i=n(7483),o=n(3628);const s={borderRadius:4};var l=n(7937);var c=n(505),u=n(8076),d=n(86);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,a.A)(e,h),g=(0,o.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(p);let v=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},s,f)},m);v.applyStyles=d.A;for(var b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return v=w.reduce(((e,t)=>(0,i.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),v.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},v}},9904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>a.A,unstable_applyStyles:()=>i.A});var r=n(2860),a=n(3628),i=n(86)},6206:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7483);const a=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},7937:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>v,Ms:()=>b});var r=n(8286),a=n(2703),i=n(6206);const o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=o[t],a=s[n]||"";return Array.isArray(a)?a.map((e=>r+e)):[r+a]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const o=null!=(i=(0,a.Yn)(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,a){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),a),o=e[n];return(0,r.NI)(e,o,i)}function y(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function v(e){return y(e,u)}function b(e){return y(e,d)}function w(e){return y(e,h)}v.propTypes={},v.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},2703:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>o,Yn:()=>i});var r=n(5501),a=n(8286);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function o(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:i(e,n)||a,t&&(r=t(r,a,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,s)||{};return(0,a.NI)(e,c,(e=>{let a=o(u,l,e);return e===a&&"string"===typeof e&&(a=o(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?a:{[n]:a}}))};return c.propTypes={},c.filterProps=[t],c}},8076:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(7937),a=n(2703),i=n(6206);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),a=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return a.propTypes={},a.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),a};var s=n(8286);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,a.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),y=c("borderRightColor"),v=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];o(u,d,h,p,f,m,g,y,v,b,_,w,x);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const E=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};E.propTypes={},E.filterProps=["rowGap"];o(k,S,E,(0,a.Ay)({prop:"gridColumn"}),(0,a.Ay)({prop:"gridRow"}),(0,a.Ay)({prop:"gridAutoFlow"}),(0,a.Ay)({prop:"gridAutoColumns"}),(0,a.Ay)({prop:"gridAutoRows"}),(0,a.Ay)({prop:"gridTemplateColumns"}),(0,a.Ay)({prop:"gridTemplateRows"}),(0,a.Ay)({prop:"gridTemplateAreas"}),(0,a.Ay)({prop:"gridArea"}));function N(e,t){return"grey"===t?t:e}o((0,a.Ay)({prop:"color",themeKey:"palette",transform:N}),(0,a.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:N}),(0,a.Ay)({prop:"backgroundColor",themeKey:"palette",transform:N}));function O(e){return e<=1&&0!==e?100*e+"%":e}const j=(0,a.Ay)({prop:"width",transform:O}),C=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const a=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return a?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:O(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};C.filterProps=["maxWidth"];const P=(0,a.Ay)({prop:"minWidth",transform:O}),T=(0,a.Ay)({prop:"height",transform:O}),A=(0,a.Ay)({prop:"maxHeight",transform:O}),I=(0,a.Ay)({prop:"minHeight",transform:O}),R=((0,a.Ay)({prop:"size",cssProperty:"width",transform:O}),(0,a.Ay)({prop:"size",cssProperty:"height",transform:O}),o(j,C,P,T,A,I,(0,a.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:N},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:N},backgroundColor:{themeKey:"palette",transform:N},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:E},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:O},maxWidth:{style:C},minWidth:{transform:O},height:{transform:O},maxHeight:{transform:O},minHeight:{transform:O},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>u,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>s.A});var r=n(505),a=n(8168),i=n(8587),o=n(7483),s=n(8076);const l=["sx"],c=e=>{var t,n;const r={systemProps:{},otherProps:{}},a=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{a[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function u(e){const{sx:t}=e,n=(0,i.A)(e,l),{systemProps:r,otherProps:s}=c(n);let u;return u=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,a.A)({},r,e):r}:(0,a.A)({},r,t),(0,a.A)({},s,{sx:u})}},505:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(5501),a=n(6206),i=n(2703),o=n(8286),s=n(8076);function l(){function e(e,t,n,a){const s={[e]:t,theme:n},l=a[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(s);return(0,o.NI)(s,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:s.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,o.EU)(l.breakpoints),s=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,a.A)(u,e(n,i,l,c));else{const e=(0,o.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),a=new Set(r);return t.every((e=>a.size===Object.keys(e).length))}(e,i)?u=(0,a.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,a.A)(u,e(n,i,l,c))})),(0,o.vf)(s,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8099);function a(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7923:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(5501)},3383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},7483:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,Q:()=>a});var r=n(8168);function a(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(!a(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=n.clone?(0,r.A)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((r=>{a(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&a(e[r])?s[r]=o(e[r],t[r],n):n.clone?s[r]=a(t[r])?i(t[r]):t[r]:s[r]=t[r]})),s}},7785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(7483)},8099:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},9234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8099)},8399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(8762);const a=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(a);return t&&t[1]||""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function s(e,t,n){const r=o(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return o(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return s(e,e.render,"ForwardRef");case r.Memo:return s(e,e.type,"memo");default:return}}}},2262:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},8762:(e,t,n)=>{"use strict";e.exports=n(2262)},6676:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),o=i[0],l=i[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,c=r-a;s<c;s+=o)i.push(l(e,s,s+o>c?c:s+o));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},6383:e=>{"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,a=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),s=new RegExp(i.source+a.source,"gu"),l=new RegExp("\\d+"+a.source,"gu"),c=(e,a)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(a={pascalCase:!1,preserveConsecutiveUppercase:!1,...a},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const i=!1===a.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(a.locale),c=!1===a.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(a.locale);if(1===e.length)return a.pascalCase?c(e):i(e);return e!==i(e)&&(e=((e,r,a)=>{let i=!1,o=!1,s=!1;for(let l=0;l<e.length;l++){const c=e[l];i&&t.test(c)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,s=o,o=!0,l++):o&&s&&n.test(c)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),s=o,o=!1,i=!0):(i=r(c)===c&&a(c)!==c,s=o,o=a(c)===c&&r(c)!==c)}return e})(e,i,c)),e=e.replace(o,""),e=a.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,i):i(e),a.pascalCase&&(e=c(e.charAt(0))+e.slice(1)),((e,t)=>(s.lastIndex=0,l.lastIndex=0,e.replace(s,((e,n)=>t(n))).replace(l,(e=>t(e)))))(e,c)};e.exports=c,e.exports.default=c},1876:e=>{"use strict";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");return t="undefined"===typeof t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},5438:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},755:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,a=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},s=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(a)return a(e,n).value}return e[n]};e.exports=function e(){var t,n,r,a,c,u,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"===typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)r=l(d,n),d!==(a=l(t,n))&&(f&&a&&(o(a)||(c=i(a)))?(c?(c=!1,u=r&&i(r)?r:[]):u=r&&o(r)?r:{},s(d,{name:n,newValue:e(f,u,a)})):"undefined"!==typeof a&&s(d,{name:n,newValue:a}));return d}},3876:(e,t,n)=>{"use strict";var r=n(630),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var a=p(n);a&&a!==f&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!i[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},2138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case a:return t}}}function _(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},630:(e,t,n)=>{"use strict";e.exports=n(2138)},4814:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function p(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return p(r),e=e.slice(r.length),n}}function b(){v(r)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,p(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function _(){var e=f(),n=v(a);if(n){if(x(),!v(i))return y("property missing ':'");var r=v(o),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(s),l}}return b(),function(){var e,t=[];for(w(t);e=_();)!1!==e&&(t.push(e),w(t));return t}()}},6171:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},2272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5438),a=n(5079),i=n(8432),o=()=>{},s=new a.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,!("number"===typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(a=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==a?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():a.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(s)}));n(await i)}catch(i){r(i)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},9504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,a=e.length;for(;a>0;){const i=a/2|0;let o=r+i;n(e[o],t)<=0?(r=++o,a-=i+1):a=i}return r}},8432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9504);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const a=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(a,0,n)}dequeue(){const e=this._queue.shift();return null===e||void 0===e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},9174:(e,t,n)=>{"use strict";const r=n(371),a=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const o=(e,t)=>new Promise(((n,o)=>{t={onFailedAttempt:()=>{},retries:10,...t};const s=r.operation(t);s.attempt((async r=>{try{n(await e(r))}catch(c){if(!(c instanceof Error))return void o(new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`));if(c instanceof i)s.stop(),o(c.originalError);else if(c instanceof TypeError&&(l=c.message,!a.includes(l)))s.stop(),o(c);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(c,r,t);try{await t.onFailedAttempt(c)}catch(c){return void o(c)}s.retry(c)||o(s.mainError())}}var l}))}));e.exports=o,e.exports.default=o,e.exports.AbortError=i},5079:(e,t,n)=>{"use strict";const r=n(6171);class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,n)=>new Promise(((i,o)=>{if("number"!==typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void i(e);const s=setTimeout((()=>{if("function"===typeof n){try{i(n())}catch(s){o(s)}return}const r=n instanceof Error?n:new a("string"===typeof n?n:`Promise timed out after ${t} milliseconds`);"function"===typeof e.cancel&&e.cancel(),o(r)}),t);r(e.then(i,o),(()=>{clearTimeout(s)}))}));e.exports=i,e.exports.default=i,e.exports.TimeoutError=a},8345:(e,t,n)=>{"use strict";var r=n(9950),a=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var $,M=Object.assign;function D(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function U(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ee(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),_e(e.stateNode,e.type,t))}}function Ne(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function je(e,t){return e(t)}function Ce(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return je(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(Ce(),Oe())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ie=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Ie=!1}function Le(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var $e=!1,Me=null,De=!1,Fe=null,ze={onError:function(e){$e=!0,Me=e}};function Ue(e,t,n,r,a,i,o,s,l){$e=!1,Me=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ye=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Et,Nt=!1,Ot=[],jt=null,Ct=null,Pt=null,Tt=new Map,At=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function $t(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=va(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Dt(e)&&n.delete(t)}function zt(){Nt=!1,null!==jt&&Dt(jt)&&(jt=null),null!==Ct&&Dt(Ct)&&(Ct=null),null!==Pt&&Dt(Pt)&&(Pt=null),Tt.forEach(Ft),At.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Ut(jt,e),null!==Ct&&Ut(Ct,e),null!==Pt&&Ut(Pt,e),Tt.forEach(t),At.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Mt(n),null===n.blockedOn&&It.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Vt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Zt(e,t,n,r){if(qt){var a=Jt(e,t,n,r);if(null===a)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jt=$t(jt,e,t,n,r,a),!0;case"dragenter":return Ct=$t(Ct,e,t,n,r,a),!0;case"mouseover":return Pt=$t(Pt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,$t(Tt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,At.set(i,$t(At.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&xt(i),null===(i=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=va(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ye:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Yt=null;function en(){if(Yt)return Yt;var e,t,n=Qt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Yt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),pn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(M({},pn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Nn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=an(Nn),jn=an(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Tn),In=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var $n=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ne(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Zn=null;function Gn(e){Dr(e,0)}function Jn(e){if(Z(wa(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Qn;if(u){var Yn="oninput"in document;if(!Yn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Yn="function"===typeof er.oninput}Qn=Yn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Zn=Vn=null)}function nr(e){if("value"===e.propertyName&&Jn(Zn)){var t=[];Wn(t,Zn,e,xe(e)),Te(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Zn)}function ir(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Vr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Nr=Er("animationend"),Or=Er("animationiteration"),jr=Er("animationstart"),Cr=Er("transitionend"),Pr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Tr.length;Ir++){var Rr=Tr[Ir];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Nr,"onAnimationEnd"),Ar(Or,"onAnimationIteration"),Ar(jr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Ue.apply(this,arguments),$e){if(!$e)throw Error(i(198));var u=Me;$e=!1,Me=null,De||(De=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=l}}}if(De)throw e=Fe,De=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&($r.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var a=Wt;break;case 4:a=Vt;break;default:a=Zt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=va(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=i,a=xe(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Nr:case Or:case jr:l=yn;break;case Cr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ae(f,h))&&u.push(Wr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:wa(l),p=null==c?s:wa(c),(s=new u(m,f+"leave",l,n,a)).target=d,s.relatedTarget=p,m=null,va(a)===r&&((u=new u(h,f+"enter",c,n,a)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Zr(p))f++;for(p=0,m=h;m;m=Zr(m))p++;for(;0<f-p;)u=Zr(u),f--;for(;0<p-f;)h=Zr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zr(u),h=Zr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(qn(s))if(Xn)g=or;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(o,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wa(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,a)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Vr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=$n?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Yt=Qt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Dr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ae(e,n))&&r.unshift(Wr(e,i,a)),null!=(i=Ae(e,t))&&r.push(Wr(e,i,a))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ae(n,i))&&o.unshift(Wr(n,l,s)):a||null!=(l=Ae(n,i))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Yr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,pa="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[pa]||null}var _a=[],ka=-1;function Sa(e){return{current:e}}function Ea(e){0>ka||(e.current=_a[ka],_a[ka]=null,ka--)}function Na(e,t){ka++,_a[ka]=e.current,e.current=t}var Oa={},ja=Sa(Oa),Ca=Sa(!1),Pa=Oa;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){Ea(Ca),Ea(ja)}function Ra(e,t,n){if(ja.current!==Oa)throw Error(i(168));Na(ja,t),Na(Ca,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return M({},n,r)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Pa=ja.current,Na(ja,e),Na(Ca,Ca.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=La(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ca),Ea(ja),Na(ja,e)):Ea(Ca),Na(Ca,n)}var Da=null,Fa=!1,za=!1;function Ua(e){null===Da?Da=[e]:Da.push(e)}function Ba(){if(!za&&null!==Da){za=!0;var e=0,t=bt;try{var n=Da;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Da=null,Fa=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),Ze(Ye,Ba),a}finally{bt=t,za=!1}}return null}var Ha=[],qa=0,Wa=null,Va=0,Za=[],Ga=0,Ja=null,Ka=1,Xa="";function Qa(e,t){Ha[qa++]=Va,Ha[qa++]=Wa,Wa=e,Va=t}function Ya(e,t,n){Za[Ga++]=Ka,Za[Ga++]=Xa,Za[Ga++]=Ja,Ja=e;var r=Ka;e=Xa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ka=1<<32-ot(t)+a|n<<a|r,Xa=i+e}else Ka=1<<i|n<<a|r,Xa=e}function ei(e){null!==e.return&&(Qa(e,1),Ya(e,1,0))}function ti(e){for(;e===Wa;)Wa=Ha[--qa],Ha[qa]=null,Va=Ha[--qa],Ha[qa]=null;for(;e===Ja;)Ja=Za[--Ga],Za[Ga]=null,Xa=Za[--Ga],Za[Ga]=null,Ka=Za[--Ga],Za[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ka,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function pi(){ri=ni=null,ai=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&vi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case _:return(t=Dc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case _:return n.key===a?u(e,t,n,r):null;case A:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(a,d),ai&&Qa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Qa(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=f(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ai&&Qa(a,m),c}function g(a,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ai&&Qa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ai&&Qa(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=f(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ai&&Qa(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((i=Lc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Rc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return s(r);case _:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Dc(o,r.mode,l)).return=r,r=i}return s(r);case A:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(L(o))return g(r,i,o,l);yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Mc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=bi(!0),xi=bi(!1),_i=Sa(null),ki=null,Si=null,Ei=null;function Ni(){Ei=Si=ki=null}function Oi(e){var t=_i.current;Ea(_i),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){ki=e,Ei=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===ki)throw Error(i(308));Si=e,ki.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ti=null;function Ai(e){null===Ti?Ti=[e]:Ti.push(e)}function Ii(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ai(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ri(e,n)}return null===(a=r.interleaved)?(t.next=t,Ai(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ri(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var a=e.updateQueue;Li=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=M({},d,h);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);$l|=o,e.lanes=o,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var qi={},Wi=Sa(qi),Vi=Sa(qi),Zi=Sa(qi);function Gi(e){if(e===qi)throw Error(i(174));return e}function Ji(e,t){switch(Na(Zi,t),Na(Vi,e),Na(Wi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Wi),Na(Wi,t)}function Ki(){Ea(Wi),Ea(Vi),Ea(Zi)}function Xi(e){Gi(Zi.current);var t=Gi(Wi.current),n=le(t,e.type);t!==n&&(Na(Vi,e),Na(Wi,n))}function Qi(e){Vi.current===e&&(Ea(Wi),Ea(Vi))}var Yi=Sa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,ao=w.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Yo:es,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=Qo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,$l|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,$l|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function So(e,t){var n=oo,r=bo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,$o(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,To(9,No.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&io)||Eo(n,t,a)}return a}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Co(e)}function Oo(e,t,n){return n((function(){jo(t)&&Co(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Co(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return bo().memoizedState}function Io(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var a=bo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=To(t,n,i,r))}oo.flags|=e,a.memoizedState=To(1|t,n,i,r)}function Lo(e,t){return Io(8390656,8,e,t)}function $o(e,t){return Ro(2048,8,e,t)}function Mo(e,t){return Ro(4,2,e,t)}function Do(e,t){return Ro(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Fo.bind(null,t,e),n)}function Uo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,$l|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=n,ao.transition=r}}function Vo(){return bo().memoizedState}function Zo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Ko(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Go(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Ko(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ai(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ii(e,t,a,r))&&(nc(n,e,r,a=ec()),Xo(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Ko(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Pi,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Yo={readContext:Pi,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&io)||Eo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,To(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Cl.identifierPrefix;if(ai){var n=Xa;t=":"+t+"R"+(n=(Ka&~(1<<32-ot(Ka)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pi,useCallback:Bo,useContext:Pi,useEffect:$o,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Do,useMemo:Ho,useReducer:xo,useRef:Ao,useState:function(){return xo(wo)},useDebugValue:Uo,useDeferredValue:function(e){return qo(bo(),so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Vo,unstable_isNewReconciler:!1},ts={readContext:Pi,useCallback:Bo,useContext:Pi,useEffect:$o,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Do,useMemo:Ho,useReducer:_o,useRef:Ao,useState:function(){return _o(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Vo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Di(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Di(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Di(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(nc(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=Oa,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(a=Aa(t)?Pa:ja.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Oa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$i(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Pi(i):(i=Aa(t)?Pa:ja.current,a.context=Ta(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Bi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ds(0,t)},n}function fs(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var i=t.ref;return Ci(t,a),r=go(e,t,n,r,i,a),n=yo(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function _s(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,a)}return t.flags|=1,(e=Ic(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,qs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,a)}function Ss(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Il,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Il,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Na(Il,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Na(Il,Al),Al|=r;return ws(e,t,a,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,a){var i=Aa(n)?Pa:ja.current;return i=Ta(t,i),Ci(t,a),n=go(e,t,n,r,i,a),r=yo(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function Os(e,t,n,r,a){if(Aa(n)){var i=!0;$a(t)}else i=!1;if(Ci(t,a),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=Ta(t,c=Aa(n)?Pa:ja.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Li=!1;var h=t.memoizedState;o.state=h,Bi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Ca.current||Li?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Li||is(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Ta(t,l=Aa(n)?Pa:ja.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Li=!1,h=t.memoizedState,o.state=h,Bi(t,r,o,a);var f=t.memoizedState;s!==d||h!==f||Ca.current||Li?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Li||is(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,i,a)}function js(e,t,n,r,a,i){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ma(t,n,!1),qs(e,t,i);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Ji(e,t.containerInfo)}function Ps(e,t,n,r,a){return pi(),fi(a),t.flags|=256,ws(e,t,n,r),t.child}var Ts,As,Is,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function $s(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,a=t.pendingProps,o=Yi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Na(Yi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=$c(l,a,0,null),e=Lc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$s(n),t.memoizedState=Ls,e):Ds(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=$c({mode:"visible",children:r.children},a,0,null),(o=Lc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=$s(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ri(e,a),nc(r,e,a,-1))}return mc(),Fs(e,t,s,r=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Za[Ga++]=Ka,Za[Ga++]=Xa,Za[Ga++]=Ja,Ka=e.id,Xa=e.overflow,Ja=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ic(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?$s(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Ic(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ds(e,t){return(t=$c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&fi(r),wi(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Bs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=Yi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Yi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Aa(t.type)&&Ia(),Vs(t),null;case 3:return r=t.stateNode,Ki(),Ea(Ca),Ea(ja),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),As(e,t),Vs(t),null;case 5:Qi(t);var a=Gi(Zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Vs(t),null}if(e=Gi(Wi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[pa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":V(r),Y(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[pa]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":K(e,r),a=J(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":V(e),Y(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Zi.current),Gi(Wi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Vs(t),null;case 13:if(Ea(Yi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Yi.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Ki(),As(e,t),null===e&&Br(t.stateNode.containerInfo),Vs(t),null;case 10:return Oi(t.type._context),Vs(t),null;case 19:if(Ea(Yi),null===(o=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Yi,1&Yi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Vs(t),null}else 2*Xe()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Yi.current,Na(Yi,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gs(e,t){switch(ti(t),t.tag){case 1:return Aa(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ki(),Ea(Ca),Ea(ja),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(Ea(Yi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(Yi),null;case 4:return Ki(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Is=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gi(Wi.current);var i,o=null;switch(n){case"input":a=J(e,a),r=J(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ks=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[pa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Ks||Ys(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Ks&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(a,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,ml(t,e),Ks=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ys(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Ys(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Qs=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Js;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Js;var c=Ks;if(Js=o,(Ks=l)&&!c)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?_l(a):null!==l?(l.return=o,Qs=l):_l(a);for(;null!==i;)Qs=i,bl(i,t,n),i=i.sibling;Qs=a,Js=s,Ks=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Ks||512&t.flags&&al(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,Ol=w.ReactCurrentBatchConfig,jl=0,Cl=null,Pl=null,Tl=0,Al=0,Il=Sa(0),Rl=0,Ll=null,$l=0,Ml=0,Dl=0,Fl=null,zl=null,Ul=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Vl=null,Zl=!1,Gl=null,Jl=0,Kl=0,Xl=null,Ql=-1,Yl=0;function ec(){return 0!==(6&jl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Tl?Tl&-Tl:null!==mi.transition?(0===Yl&&(Yl=mt()),Yl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Xl=null,Error(i(185));yt(e,n,r),0!==(2&jl)&&e===Cl||(e===Cl&&(0===(2&jl)&&(Ml|=n),4===Rl&&sc(e,Tl)),rc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Bl=Xe()+500,Fa&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Cl?Tl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa((function(){0===(6&jl)&&Ba()})),n=null;else{switch(wt(r)){case 1:n=Ye;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ql=-1,Yl=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=jl;jl|=2;var o=fc();for(Cl===e&&Tl===t||(Hl=null,Bl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ni(),El.current=o,jl=a,null!==Pl?t=0:(Cl=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,zl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,zl,Hl),t);break}xc(e,zl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,zl,Hl),r);break}xc(e,zl,Hl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Dl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&jl))throw Error(i(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Hl),rc(e,Xe()),null}function cc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Bl=Xe()+500,Fa&&Ba())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&jl)&&_c();var t=jl;jl|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,0===(6&(jl=t))&&Ba()}}function dc(){Al=Il.current,Ea(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Ki(),Ea(Ca),Ea(ja),no();break;case 5:Qi(r);break;case 4:Ki();break;case 13:case 19:Ea(Yi);break;case 10:Oi(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Pl=e=Ic(e.current,null),Tl=Al=t,Rl=0,Ll=null,Dl=Ml=$l=0,zl=Fl=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ti=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Ni(),ro.current=Qo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,Nl.current=null,null===n||null===n.return){Rl=1,Ll=t,Pl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),fi(cs(c,l));break e}}o=c=cs(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,ps(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Qo,null===e?Qo:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Cl||0===(268435455&$l)&&0===(268435455&Ml)||sc(Cl,Tl)}function gc(e,t){var n=jl;jl|=2;var r=fc();for(Cl===e&&Tl===t||(Hl=null,hc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(Ni(),jl=n,El.current=r,null!==Pl)throw Error(i(261));return Cl=null,Tl=0,Rl}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Je();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Nl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Al)))return void(Pl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Rl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Rl&&(Rl=5)}function xc(e,t,n){var r=bt,a=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Gl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Cl&&(Pl=Cl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Cc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=jl;jl|=4,Nl.current=null,function(e,t){if(ea=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===a&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ta),qt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ke(),jl=l,bt=s,Ol.transition=o}else e.current=n;if(Zl&&(Zl=!1,Gl=e,Jl=a),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Jl)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Ba()}(e,t,n,r)}finally{Ol.transition=a,bt=r}return null}function _c(){if(null!==Gl){var e=wt(Jl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&jl))throw Error(i(331));var a=jl;for(jl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var p=(d=Qs).sibling,f=d.return;if(il(d),d===u){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(jl=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(_){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function kc(e,t,n){e=Fi(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Fi(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>Xe()-Ul?hc(e,0):Dl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ri(e,t))&&(yt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nc(e,n)}function Cc(e,t){return Ze(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Pc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Lc(n.children,a,o,t);case S:s=8,a|=8;break;case E:return(e=Tc(12,n,t,2|a)).elementType=E,e.lanes=o,e;case C:return(e=Tc(13,n,t,a)).elementType=C,e.lanes=o,e;case P:return(e=Tc(19,n,t,a)).elementType=P,e.lanes=o,e;case I:return $c(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case O:s=9;break e;case j:s=11;break e;case T:s=14;break e;case A:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function $c(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,i,o,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(i),e}function Uc(e){if(!e)return Oa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Aa(n))return La(e,n,t)}return t}function Bc(e,t,n,r,a,i,o,s,l){return(e=zc(n,r,!0,e,0,i,0,s,l)).context=Uc(null),n=e.current,(i=Di(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(nc(e,a,o,i),zi(e,a,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),pi();break;case 5:Xi(t);break;case 1:Aa(t.type)&&$a(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(_i,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Yi,1&Yi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Na(Yi,1&Yi.current),null!==(e=qs(e,t,n))?e.sibling:null);Na(Yi,1&Yi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Yi,Yi.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Ya(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var a=Ta(t,ja.current);Ci(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(o=!0,$a(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$i(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===T)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Os(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Cs(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Mi(e,t),Bi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Ps(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ms(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Na(_i,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ca.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Di(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ji(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ji(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ci(t,n),r=r(a=Pi(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),_s(e,t,r,a=ns(r.type,a),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Hs(e,t),t.tag=1,Aa(r)?(e=!0,$a(t)):e=!1,Ci(t,n),os(t,r,a),ls(t,r,a,n),js(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Yc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=qc(o);s.call(e)}}Hc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=qc(o);i.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[fa]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,a,r);return qc(o)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[fa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&jl)&&(Bl=Xe()+500,Ba()))}break;case 13:uc((function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},_t=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));Z(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ne,Oe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",a=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Yc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,o,s),e[fa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Yc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Yc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},2654:(e,t,n)=>{"use strict";var r=n(9950),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+j(l,0):i,x(o)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),C(o,t,a,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+j(s=e[c],c);l+=C(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,a,u=i+j(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},I={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},371:(e,t,n)=>{e.exports=n(8397)},8397:(e,t,n)=>{var r=n(1347);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],a=0;a<t.retries;a++)r.push(this.createTimeout(a,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(a,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var a in r=[],e)"function"===typeof e[a]&&r.push(a);for(var i=0;i<r.length;i++){var o=r[i],s=e[o];e[o]=function(r){var a=t.operation(n),i=Array.prototype.slice.call(arguments,1),o=i.pop();i.push((function(e){a.retry(e)||(e&&(arguments[0]=a.mainError()),o.apply(this,arguments))})),a.attempt((function(){r.apply(e,i)}))}.bind(e,s),e[o].options=n}}},1347:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var a=this._errors[r],i=a.message,o=(e[i]||0)+1;e[i]=o,o>=n&&(t=a,n=o)}return t}},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,I(_);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(N),N=-1),f=!0;var i=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(x,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,N=-1,O=5,j=-1;function C(){return!(t.unstable_now()-j<O)}function P(){if(null!==E){var e=t.unstable_now();j=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=P,k=function(){A.postMessage(null)}}else k=function(){y(P,0)};function I(e){E=e,S||(S=!0,k())}function R(e,n){N=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,R(x,i-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,I(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},1426:(e,t,n)=>{const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"===typeof e)try{e=new u(e,this.options)}catch(t){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=a;const i=n(1565),{safeRe:o,t:s}=n(7768),l=n(3509),c=n(8738),u=n(5198),d=n(9605)},9605:(e,t,n)=>{const r=/\s+/g;class a{constructor(e,t){if(t=o(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&v(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,a=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(a,P(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],h),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],p),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],f),l("caret trim",e);let o=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));r&&(o=o.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",o);const c=new Map,v=o.map((e=>new s(e,this.options)));for(const i of v){if(y(i))return[i];c.set(i.value,i)}c.size>1&&c.has("")&&c.delete("");const b=[...c.values()];return i.set(t,b),b}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some((n=>b(n,t)&&e.set.some((e=>b(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"===typeof e)try{e=new c(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(T(this.set[n],e,this.options))return!0;return!1}}e.exports=a;const i=new(n(4252)),o=n(1565),s=n(1426),l=n(8738),c=n(5198),{safeRe:u,t:d,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=n(7768),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(6020),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every((e=>a.intersects(e,t))),a=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=S(e,t),l("caret",e),e=_(e,t),l("tildes",e),e=N(e,t),l("xrange",e),e=j(e,t),l("stars",e),e),x=e=>!e||"x"===e.toLowerCase()||"*"===e,_=(e,t)=>e.trim().split(/\s+/).map((e=>k(e,t))).join(" "),k=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,((t,n,r,a,i)=>{let o;return l("tilde",e,t,n,r,a,i),x(n)?o="":x(r)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:x(a)?o=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(l("replaceTilde pr",i),o=`>=${n}.${r}.${a}-${i} <${n}.${+r+1}.0-0`):o=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",o),o}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,a,i,o)=>{let s;return l("caret",e,t,n,a,i,o),x(n)?s="":x(a)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:x(i)?s="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:o?(l("replaceCaret pr",o),s="0"===n?"0"===a?`>=${n}.${a}.${i}-${o} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}-${o} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i}-${o} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===a?`>=${n}.${a}.${i}${r} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i} <${+n+1}.0.0-0`),l("caret return",s),s}))},N=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,((n,r,a,i,o,s)=>{l("xRange",e,n,r,a,i,o,s);const c=x(a),u=c||x(i),d=u||x(o),h=d;return"="===r&&h&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(i=0),o=0,">"===r?(r=">=",u?(a=+a+1,i=0,o=0):(i=+i+1,o=0)):"<="===r&&(r="<",u?a=+a+1:i=+i+1),"<"===r&&(s="-0"),n=`${r+a}.${i}.${o}${s}`):u?n=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${i}.0${s} <${a}.${+i+1}.0-0`),l("xRange return",n),n}))},j=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),C=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),P=e=>(t,n,r,a,i,o,s,l,c,u,d,h)=>`${n=x(r)?"":x(a)?`>=${r}.0.0${e?"-0":""}`:x(i)?`>=${r}.${a}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=x(c)?"":x(u)?`<${+c+1}.0.0-0`:x(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),T=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},5198:(e,t,n)=>{const r=n(8738),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(6020),{safeRe:o,t:s}=n(7768),l=n(1565),{compareIdentifiers:c}=n(4493);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!==typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"===typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},9656:(e,t,n)=>{const r=n(3666);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},3509:(e,t,n)=>{const r=n(3551),a=n(1037),i=n(8454),o=n(1295),s=n(3305),l=n(5962);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return i(e,n,c);case">=":return o(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},6072:(e,t,n)=>{const r=n(5198),a=n(3666),{safeRe:i,t:o}=n(7768);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${s}.${l}.${c}${u}${d}`,t)}},3071:(e,t,n)=>{const r=n(5198);e.exports=(e,t,n)=>{const a=new r(e,n),i=new r(t,n);return a.compare(i)||a.compareBuild(i)}},2517:(e,t,n)=>{const r=n(7694);e.exports=(e,t)=>r(e,t,!0)},7694:(e,t,n)=>{const r=n(5198);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},6574:(e,t,n)=>{const r=n(3666);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),i=n.compare(a);if(0===i)return null;const o=i>0,s=o?n:a,l=o?a:n,c=!!s.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?s.patch?"patch":s.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==a.major?u+"major":n.minor!==a.minor?u+"minor":n.patch!==a.patch?u+"patch":"prerelease"}},3551:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>0===r(e,t,n)},8454:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>r(e,t,n)>0},1295:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>r(e,t,n)>=0},8041:(e,t,n)=>{const r=n(5198);e.exports=(e,t,n,a,i)=>{"string"===typeof n&&(i=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,i).version}catch(o){return null}}},3305:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>r(e,t,n)<0},5962:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>r(e,t,n)<=0},5040:(e,t,n)=>{const r=n(5198);e.exports=(e,t)=>new r(e,t).major},7404:(e,t,n)=>{const r=n(5198);e.exports=(e,t)=>new r(e,t).minor},1037:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>0!==r(e,t,n)},3666:(e,t,n)=>{const r=n(5198);e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(a){if(!n)return null;throw a}}},2947:(e,t,n)=>{const r=n(5198);e.exports=(e,t)=>new r(e,t).patch},931:(e,t,n)=>{const r=n(3666);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},3928:(e,t,n)=>{const r=n(7694);e.exports=(e,t,n)=>r(t,e,n)},8623:(e,t,n)=>{const r=n(3071);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},1096:(e,t,n)=>{const r=n(9605);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(a){return!1}return t.test(e)}},4097:(e,t,n)=>{const r=n(3071);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},6535:(e,t,n)=>{const r=n(3666);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},5671:(e,t,n)=>{const r=n(7768),a=n(6020),i=n(5198),o=n(4493),s=n(3666),l=n(6535),c=n(9656),u=n(8041),d=n(6574),h=n(5040),p=n(7404),f=n(2947),m=n(931),g=n(7694),y=n(3928),v=n(2517),b=n(3071),w=n(4097),x=n(8623),_=n(8454),k=n(3305),S=n(3551),E=n(1037),N=n(1295),O=n(5962),j=n(3509),C=n(6072),P=n(1426),T=n(9605),A=n(1096),I=n(6181),R=n(7082),L=n(2160),$=n(9611),M=n(1964),D=n(201),F=n(8753),z=n(2424),U=n(6594),B=n(5031),H=n(2566);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:x,gt:_,lt:k,eq:S,neq:E,gte:N,lte:O,cmp:j,coerce:C,Comparator:P,Range:T,satisfies:A,toComparators:I,maxSatisfying:R,minSatisfying:L,minVersion:$,validRange:M,outside:D,gtr:F,ltr:z,intersects:U,simplifyRange:B,subset:H,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},6020:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},8738:e=>{const t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};e.exports=t},4493:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4252:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1565:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!==typeof e?t:e:n},7768:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=n(6020),o=n(8738),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[h,a]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=d++;o(e,a,t),u[e]=a,c[a]=t,s[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${h}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},8753:(e,t,n)=>{const r=n(201);e.exports=(e,t,n)=>r(e,t,">",n)},6594:(e,t,n)=>{const r=n(9605);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},2424:(e,t,n)=>{const r=n(201);e.exports=(e,t,n)=>r(e,t,"<",n)},7082:(e,t,n)=>{const r=n(5198),a=n(9605);e.exports=(e,t,n)=>{let i=null,o=null,s=null;try{s=new a(t,n)}catch(l){return null}return e.forEach((e=>{s.test(e)&&(i&&-1!==o.compare(e)||(i=e,o=new r(i,n)))})),i}},2160:(e,t,n)=>{const r=n(5198),a=n(9605);e.exports=(e,t,n)=>{let i=null,o=null,s=null;try{s=new a(t,n)}catch(l){return null}return e.forEach((e=>{s.test(e)&&(i&&1!==o.compare(e)||(i=e,o=new r(i,n)))})),i}},9611:(e,t,n)=>{const r=n(5198),a=n(9605),i=n(8454);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let a=0;a<e.set.length;++a){const t=e.set[a];let o=null;t.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||n&&!i(n,o)||(n=o)}return n&&e.test(n)?n:null}},201:(e,t,n)=>{const r=n(5198),a=n(1426),{ANY:i}=a,o=n(9605),s=n(1096),l=n(8454),c=n(3305),u=n(5962),d=n(1295);e.exports=(e,t,n,h)=>{let p,f,m,g,y;switch(e=new r(e,h),t=new o(t,h),n){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,s=null;if(n.forEach((e=>{e.semver===i&&(e=new a(">=0.0.0")),o=o||e,s=s||e,p(e.semver,o.semver,h)?o=e:m(e.semver,s.semver,h)&&(s=e)})),o.operator===g||o.operator===y)return!1;if((!s.operator||s.operator===g)&&f(e,s.semver))return!1;if(s.operator===y&&m(e,s.semver))return!1}return!0}},5031:(e,t,n)=>{const r=n(1096),a=n(7694);e.exports=(e,t,n)=>{const i=[];let o=null,s=null;const l=e.sort(((e,t)=>a(e,t,n)));for(const a of l){r(a,t,n)?(s=a,o||(o=a)):(s&&i.push([o,s]),s=null,o=null)}o&&i.push([o,null]);const c=[];for(const[r,a]of i)r===a?c.push(r):a||r!==l[0]?a?r===l[0]?c.push(`<=${a}`):c.push(`${r} - ${a}`):c.push(`>=${r}`):c.push("*");const u=c.join(" || "),d="string"===typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},2566:(e,t,n)=>{const r=n(9605),a=n(1426),{ANY:i}=a,o=n(1096),s=n(7694),l=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=c}const r=new Set;let a,u,p,f,m,g,y;for(const i of e)">"===i.operator||">="===i.operator?a=d(a,i,n):"<"===i.operator||"<="===i.operator?u=h(u,i,n):r.add(i.semver);if(r.size>1)return null;if(a&&u){if(p=s(a.semver,u.semver,n),p>0)return null;if(0===p&&(">="!==a.operator||"<="!==u.operator))return null}for(const i of r){if(a&&!o(i,String(a),n))return null;if(u&&!o(i,String(u),n))return null;for(const e of t)if(!o(i,String(e),n))return!1;return!0}let v=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const i of t){if(y=y||">"===i.operator||">="===i.operator,g=g||"<"===i.operator||"<="===i.operator,a)if(b&&i.semver.prerelease&&i.semver.prerelease.length&&i.semver.major===b.major&&i.semver.minor===b.minor&&i.semver.patch===b.patch&&(b=!1),">"===i.operator||">="===i.operator){if(f=d(a,i,n),f===i&&f!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(i),n))return!1;if(u)if(v&&i.semver.prerelease&&i.semver.prerelease.length&&i.semver.major===v.major&&i.semver.minor===v.minor&&i.semver.patch===v.patch&&(v=!1),"<"===i.operator||"<="===i.operator){if(m=h(u,i,n),m===i&&m!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(i),n))return!1;if(!i.operator&&(u||a)&&0!==p)return!1}return!(a&&g&&!u&&0!==p)&&(!(u&&y&&!a&&0!==p)&&(!b&&!v))},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},6181:(e,t,n)=>{const r=n(9605);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},1964:(e,t,n)=>{const r=n(9605);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(n){return null}}},6999:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,a.default)(e),i="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,a=e.value;i?t(r,a,e):a&&((n=n||{})[r]=a)}})),n};var a=r(n(4814))},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".f8819006.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/quillquest-frontend/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,o=r[0],s=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ft,hasStandardBrowserEnv:()=>Ut,hasStandardBrowserWebWorkerEnv:()=>Bt,navigator:()=>zt,origin:()=>Ht});var t={};n.r(t),n.d(t,{boolean:()=>Ca,booleanish:()=>Pa,commaOrSpaceSeparated:()=>La,commaSeparated:()=>Ra,number:()=>Aa,overloadedBoolean:()=>Ta,spaceSeparated:()=>Ia});var r={};n.r(r),n.d(r,{attentionMarkers:()=>ms,contentInitial:()=>cs,disable:()=>gs,document:()=>ls,flow:()=>ds,flowInitial:()=>us,insideSpan:()=>fs,string:()=>hs,text:()=>ps});var a={};n.r(a),n.d(a,{JsonPatchError:()=>Lh,_areEquals:()=>Wh,applyOperation:()=>zh,applyPatch:()=>Uh,applyReducer:()=>Bh,deepClone:()=>$h,getValueByPointer:()=>Fh,validate:()=>qh,validator:()=>Hh});var i={};n.r(i),n.d(i,{xX:()=>xg,qA:()=>_g,LG:()=>bg,cH:()=>wg,v3:()=>Sg,v7:()=>kg,fK:()=>Og,i7:()=>vg,PO:()=>Pg,m_:()=>Ng,Ll:()=>Eg,OE:()=>Cg,Is:()=>jg});var o,s=n(9950),l=n.t(s,2),c=n(1352),u=n(7119),d=n.t(u,2);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const p="popstate";function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t,n,r){return void 0===n&&(n=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,l=o.Pop,c=null,u=d();function d(){return(s.state||{idx:null}).idx}function m(){l=o.Pop;let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:w.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),f(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(h({},s.state,{idx:u}),""));let w={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(p,m),c=e,()=>{a.removeEventListener(p,m),c=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=o.Push;let r=y(w.location,e,t);n&&n(r,e),u=d()+1;let h=g(r,u),p=w.createHref(r);try{s.pushState(h,"",p)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(p)}i&&c&&c({action:l,location:w.location,delta:1})},replace:function(e,t){l=o.Replace;let r=y(w.location,e,t);n&&n(r,e),u=d();let a=g(r,u),h=w.createHref(r);s.replaceState(a,"",h),i&&c&&c({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),k(e,t,n,!1)}function k(e,t,n,r){let a=M(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let i=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=$(a);o=R(i[s],e,r)}return o}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(f(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=B([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),S(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:I(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))a(e,t,r);else a(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=E(r.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const N=/^:[\w-]+$/,O=3,j=2,C=1,P=10,T=-2,A=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=T),t&&(r+=j),n.filter((e=>!A(e))).reduce(((e,t)=>e+(N.test(t)?O:""===t?C:P)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:B([i,u.pathname]),pathnameBase:H(B([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=B([i,u.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function $(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t){let n=F(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function U(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=b(e):(a=h({},e),f(!a.pathname||!a.pathname.includes("?"),D("?","pathname","search",a)),f(!a.pathname||!a.pathname.includes("#"),D("#","pathname","hash",a)),f(!a.search||!a.search.includes("#"),D("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?b(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:q(r),hash:W(a)}}(a,i),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Z=["post","put","patch","delete"],G=(new Set(Z),["get",...Z]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}const K=s.createContext(null);const X=s.createContext(null);const Q=s.createContext(null);const Y=s.createContext(null);const ee=s.createContext({outlet:null,matches:[],isDataRoute:!1});const te=s.createContext(null);function ne(){return null!=s.useContext(Y)}function re(){return ne()||f(!1),s.useContext(Y).location}function ae(e){s.useContext(Q).static||s.useLayoutEffect(e)}function ie(){let{isDataRoute:e}=s.useContext(ee);return e?function(){let{router:e}=ge(fe.UseNavigateStable),t=ve(me.UseNavigateStable),n=s.useRef(!1);return ae((()=>{n.current=!0})),s.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,J({fromRouteId:t},a)))}),[e,t])}():function(){ne()||f(!1);let e=s.useContext(K),{basename:t,future:n,navigator:r}=s.useContext(Q),{matches:a}=s.useContext(ee),{pathname:i}=re(),o=JSON.stringify(z(a,n.v7_relativeSplatPath)),l=s.useRef(!1);ae((()=>{l.current=!0}));let c=s.useCallback((function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=U(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)}),[t,r,o,i,e]);return c}()}function oe(){let{matches:e}=s.useContext(ee),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Q),{matches:a}=s.useContext(ee),{pathname:i}=re(),o=JSON.stringify(z(a,r.v7_relativeSplatPath));return s.useMemo((()=>U(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function le(e,t,n,r){ne()||f(!1);let{navigator:a}=s.useContext(Q),{matches:i}=s.useContext(ee),l=i[i.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=re();if(t){var p;let e="string"===typeof t?b(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||f(!1),d=e}else d=h;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=_(e,{pathname:g});let v=pe(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&v?s.createElement(Y.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:o.Pop}},v):v}function ce(){let e=function(){var e;let t=s.useContext(te),n=ye(me.UseRouteError),r=ve(me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const ue=s.createElement(ce,null);class de extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(ee.Provider,{value:this.props.routeContext},s.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(K);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(ee.Provider,{value:t},r)}function pe(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||f(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,a)=>{let i,d=!1,h=null,p=null;var f;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ue,c&&(u<0&&0===a?(f="route-fallback",!1||be[f]||(be[f]=!0),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=i?h:d?p:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(he,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(de,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function ge(e){let t=s.useContext(K);return t||f(!1),t}function ye(e){let t=s.useContext(X);return t||f(!1),t}function ve(e){let t=function(){let e=s.useContext(ee);return e||f(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||f(!1),n.route.id}const be={};l.startTransition;function we(e){let{to:t,replace:n,state:r,relative:a}=e;ne()||f(!1);let{future:i,static:o}=s.useContext(Q),{matches:l}=s.useContext(ee),{pathname:c}=re(),u=ie(),d=U(t,z(l,i.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(d);return s.useEffect((()=>u(JSON.parse(h),{replace:n,state:r,relative:a})),[u,h,a,n,r]),null}function xe(e){f(!1)}function _e(e){let{basename:t="/",children:n=null,location:r,navigationType:a=o.Pop,navigator:i,static:l=!1,future:c}=e;ne()&&f(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo((()=>({basename:u,navigator:i,static:l,future:J({v7_relativeSplatPath:!1},c)})),[u,c,i,l]);"string"===typeof r&&(r=b(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,v=s.useMemo((()=>{let e=M(h,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:a}}),[u,h,p,m,g,y,a]);return null==v?null:s.createElement(Q.Provider,{value:d},s.createElement(Y.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:n}=e;return le(Se(t),n)}new Promise((()=>{}));s.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Se(e.props.children,a));e.type!==xe&&f(!1),e.props.index&&e.props.children&&f(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,a)),n.push(i)})),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(eb){}new Map;const je=l.startTransition;d.flushSync,l.useId;function Ce(e){let{basename:t,children:n,future:r,window:a}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),w((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return y("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:v(t)}),null,o)));let l=i.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback((e=>{d&&je?je((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(h)),[l,h]),s.createElement(_e,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=s.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,p=Ne(e,Oe),{basename:m}=s.useContext(Q),g=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(eb){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||f(!1);let{basename:r,navigator:a}=s.useContext(Q),{hash:i,pathname:o,search:l}=se(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:B([r,o])),a.createHref({pathname:c,search:l,hash:i})}(u,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l}=void 0===t?{}:t,c=ie(),u=re(),d=se(e,{relative:o});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:v(u)===v(d);c(e,{replace:n,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l})}}),[u,c,d,r,a,n,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:h});return s.createElement("a",Ee({},p,{href:n||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ie,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Le(e,t){return function(){return e.apply(t,arguments)}}const{toString:$e}=Object.prototype,{getPrototypeOf:Me}=Object,De=(e=>t=>{const n=$e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fe=e=>(e=e.toLowerCase(),t=>De(t)===e),ze=e=>t=>typeof t===e,{isArray:Ue}=Array,Be=ze("undefined");const He=Fe("ArrayBuffer");const qe=ze("string"),We=ze("function"),Ve=ze("number"),Ze=e=>null!==e&&"object"===typeof e,Ge=e=>{if("object"!==De(e))return!1;const t=Me(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Je=Fe("Date"),Ke=Fe("File"),Xe=Fe("Blob"),Qe=Fe("FileList"),Ye=Fe("URLSearchParams"),[et,tt,nt,rt]=["ReadableStream","Request","Response","Headers"].map(Fe);function at(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ue(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let o;for(n=0;n<i;n++)o=r[n],t.call(null,e[o],o,e)}}function it(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const ot="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,st=e=>!Be(e)&&e!==ot;const lt=(ct="undefined"!==typeof Uint8Array&&Me(Uint8Array),e=>ct&&e instanceof ct);var ct;const ut=Fe("HTMLFormElement"),dt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ht=Fe("RegExp"),pt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};at(n,((n,a)=>{let i;!1!==(i=t(n,a,e))&&(r[a]=i||n)})),Object.defineProperties(e,r)},ft="abcdefghijklmnopqrstuvwxyz",mt="0123456789",gt={DIGIT:mt,ALPHA:ft,ALPHA_DIGIT:ft+ft.toUpperCase()+mt};const yt=Fe("AsyncFunction"),vt=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],ot.addEventListener("message",(e=>{let{source:t,data:a}=e;t===ot&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),ot.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,We(ot.postMessage)),bt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ot):"undefined"!==typeof process&&process.nextTick||vt,wt={isArray:Ue,isArrayBuffer:He,isBuffer:function(e){return null!==e&&!Be(e)&&null!==e.constructor&&!Be(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||We(e.append)&&("formdata"===(t=De(e))||"object"===t&&We(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&He(e.buffer),t},isString:qe,isNumber:Ve,isBoolean:e=>!0===e||!1===e,isObject:Ze,isPlainObject:Ge,isReadableStream:et,isRequest:tt,isResponse:nt,isHeaders:rt,isUndefined:Be,isDate:Je,isFile:Ke,isBlob:Xe,isRegExp:ht,isFunction:We,isStream:e=>Ze(e)&&We(e.pipe),isURLSearchParams:Ye,isTypedArray:lt,isFileList:Qe,forEach:at,merge:function e(){const{caseless:t}=st(this)&&this||{},n={},r=(r,a)=>{const i=t&&it(n,a)||a;Ge(n[i])&&Ge(r)?n[i]=e(n[i],r):Ge(r)?n[i]=e({},r):Ue(r)?n[i]=r.slice():n[i]=r};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&at(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return at(t,((t,r)=>{n&&We(t)?e[r]=Le(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Me(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:De,kindOfTest:Fe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ue(e))return e;let t=e.length;if(!Ve(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ut,hasOwnProperty:dt,hasOwnProp:dt,reduceDescriptors:pt,freezeMethods:e=>{pt(e,((t,n)=>{if(We(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];We(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Ue(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:it,global:ot,isContextDefined:st,ALPHABET:gt,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&We(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ze(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=Ue(e)?[]:{};return at(e,((e,t)=>{const i=n(e,r+1);!Be(i)&&(a[t]=i)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:yt,isThenable:e=>e&&(Ze(e)||We(e))&&We(e.then)&&We(e.catch),setImmediate:vt,asap:bt};function xt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}wt.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=xt.prototype,kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{kt[e]={value:e}})),Object.defineProperties(xt,kt),Object.defineProperty(_t,"isAxiosError",{value:!0}),xt.from=(e,t,n,r,a,i)=>{const o=Object.create(_t);return wt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),xt.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const St=xt;function Et(e){return wt.isPlainObject(e)||wt.isArray(e)}function Nt(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,n){return e?e.concat(t).map((function(e,t){return e=Nt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const jt=wt.toFlatObject(wt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ct=function(e,t,n){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!wt.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(wt.isDate(e))return e.toISOString();if(!s&&wt.isBlob(e))throw new St("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(e)||wt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let s=e;if(e&&!a&&"object"===typeof e)if(wt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(wt.isArray(e)&&function(e){return wt.isArray(e)&&!e.some(Et)}(e)||(wt.isFileList(e)||wt.endsWith(n,"[]"))&&(s=wt.toArray(e)))return n=Nt(n),s.forEach((function(e,r){!wt.isUndefined(e)&&null!==e&&t.append(!0===o?Ot([n],r,i):null===o?n:n+"[]",l(e))})),!1;return!!Et(e)||(t.append(Ot(a,n,i),l(e)),!1)}const u=[],d=Object.assign(jt,{defaultVisitor:c,convertValue:l,isVisitable:Et});if(!wt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!wt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),wt.forEach(n,(function(n,i){!0===(!(wt.isUndefined(n)||null===n)&&a.call(t,n,wt.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Tt(e,t){this._pairs=[],e&&Ct(e,this,t)}const At=Tt.prototype;At.append=function(e,t){this._pairs.push([e,t])},At.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const It=Tt;function Rt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lt(e,t,n){if(!t)return e;const r=n&&n.encode||Rt,a=n&&n.serialize;let i;if(i=a?a(t,n):wt.isURLSearchParams(t)?t.toString():new It(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const $t=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:It,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ft="undefined"!==typeof window&&"undefined"!==typeof document,zt="object"===typeof navigator&&navigator||void 0,Ut=Ft&&(!zt||["ReactNative","NativeScript","NS"].indexOf(zt.product)<0),Bt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ht=Ft&&window.location.href||"http://localhost",qt={...e,...Dt};const Wt=function(e){function t(e,n,r,a){let i=e[a++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),s=a>=e.length;if(i=!i&&wt.isArray(r)?r.length:i,s)return wt.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&wt.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],a)&&wt.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const n={};return wt.forEachEntry(e,((e,r)=>{t(function(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Vt={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=wt.isObject(e);a&&wt.isHTMLForm(e)&&(e=new FormData(e));if(wt.isFormData(e))return r?JSON.stringify(Wt(e)):e;if(wt.isArrayBuffer(e)||wt.isBuffer(e)||wt.isStream(e)||wt.isFile(e)||wt.isBlob(e)||wt.isReadableStream(e))return e;if(wt.isArrayBufferView(e))return e.buffer;if(wt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ct(e,new qt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return qt.isNode&&wt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=wt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ct(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(eb){if("SyntaxError"!==eb.name)throw eb}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(wt.isResponse(e)||wt.isReadableStream(e))return e;if(e&&wt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(eb){if(n){if("SyntaxError"===eb.name)throw St.from(eb,St.ERR_BAD_RESPONSE,this,null,this.response);throw eb}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],(e=>{Vt.headers[e]={}}));const Zt=Vt,Gt=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jt=Symbol("internals");function Kt(e){return e&&String(e).trim().toLowerCase()}function Xt(e){return!1===e||null==e?e:wt.isArray(e)?e.map(Xt):String(e)}function Qt(e,t,n,r,a){return wt.isFunction(r)?r.call(this,t,n):(a&&(t=n),wt.isString(t)?wt.isString(r)?-1!==t.indexOf(r):wt.isRegExp(r)?r.test(t):void 0:void 0)}class Yt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Kt(t);if(!a)throw new Error("header name must be a non-empty string");const i=wt.findKey(r,a);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Xt(e))}const i=(e,t)=>wt.forEach(e,((e,n)=>a(e,n,t)));if(wt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(wt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Gt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(wt.isHeaders(e))for(const[o,s]of e.entries())a(s,o,n);else null!=e&&a(t,e,n);return this}get(e,t){if(e=Kt(e)){const n=wt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(wt.isFunction(t))return t.call(this,e,n);if(wt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kt(e)){const n=wt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Qt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Kt(e)){const a=wt.findKey(n,e);!a||t&&!Qt(0,n[a],a,t)||(delete n[a],r=!0)}}return wt.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Qt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return wt.forEach(this,((r,a)=>{const i=wt.findKey(n,a);if(i)return t[i]=Xt(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();o!==a&&delete t[a],t[o]=Xt(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return wt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&wt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Jt]=this[Jt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Kt(e);t[r]||(!function(e,t){const n=wt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return wt.isArray(e)?e.forEach(r):r(e),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wt.reduceDescriptors(Yt.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),wt.freezeMethods(Yt);const en=Yt;function tn(e,t){const n=this||Zt,r=t||n,a=en.from(r.headers);let i=r.data;return wt.forEach(e,(function(e){i=e.call(n,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function nn(e){return!(!e||!e.__CANCEL__)}function rn(e,t,n){St.call(this,null==e?"canceled":e,St.ERR_CANCELED,t,n),this.name="CanceledError"}wt.inherits(rn,St,{__CANCEL__:!0});const an=rn;function on(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new St("Request failed with status code "+n.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const sn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,i=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];a||(a=l),n[i]=s,r[i]=l;let u=o,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const ln=function(e,t){let n,r,a=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),i-t)))},()=>n&&o(n)]},cn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=sn(50,250);return ln((n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,s=i-r,l=a(s);r=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},un=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},dn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wt.asap((()=>e(...n)))},hn=qt.hasStandardBrowserEnv?function(){const e=qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=wt.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},pn=qt.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];wt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),wt.isString(r)&&o.push("path="+r),wt.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function fn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const mn=e=>e instanceof en?{...e}:e;function gn(e,t){t=t||{};const n={};function r(e,t,n){return wt.isPlainObject(e)&&wt.isPlainObject(t)?wt.merge.call({caseless:n},e,t):wt.isPlainObject(t)?wt.merge({},t):wt.isArray(t)?t.slice():t}function a(e,t,n){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!wt.isUndefined(t))return r(void 0,t)}function o(e,t){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,i){return i in t?r(n,a):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>a(mn(e),mn(t),!0)};return wt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||a,o=i(e[r],t[r],r);wt.isUndefined(o)&&i!==s||(n[r]=o)})),n}const yn=e=>{const t=gn({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:l}=t;if(t.headers=s=en.from(s),t.url=Lt(fn(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),wt.isFormData(r))if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(qt.hasStandardBrowserEnv&&(a&&wt.isFunction(a)&&(a=a(t)),a||!1!==a&&hn(t.url))){const e=i&&o&&pn.read(o);e&&s.set(i,e)}return t},vn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=yn(e);let a=r.data;const i=en.from(r.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=en.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());on((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new St("Request aborted",St.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new St("Network Error",St.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Mt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new St(t,a.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,m)),m=null},void 0===a&&i.setContentType(null),"setRequestHeader"in m&&wt.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),wt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=cn(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=cn(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new an(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===qt.protocols.indexOf(y)?n(new St("Unsupported protocol "+y+":",St.ERR_BAD_REQUEST,e)):m.send(a||null)}))},bn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof St?t:new an(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,a(new St(`timeout ${t} of ms exceeded`,St.ETIMEDOUT))}),t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:s}=r;return s.unsubscribe=()=>wt.asap(o),s}},wn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},xn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},_n=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of xn(e))yield*wn(n,t)}(e,t);let i,o=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=o+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),a.return())},{highWaterMark:2})},kn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Sn=kn&&"function"===typeof ReadableStream,En=kn&&("function"===typeof TextEncoder?(Nn=new TextEncoder,e=>Nn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Nn;const On=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(eb){return!1}},jn=Sn&&On((()=>{let e=!1;const t=new Request(qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Cn=Sn&&On((()=>wt.isReadableStream(new Response("").body))),Pn={stream:Cn&&(e=>e.body)};var Tn;kn&&(Tn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Pn[e]&&(Pn[e]=wt.isFunction(Tn[e])?t=>t[e]():(t,n)=>{throw new St(`Response type '${e}' is not supported`,St.ERR_NOT_SUPPORT,n)})})));const An=async(e,t)=>{const n=wt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e)){const t=new Request(qt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wt.isArrayBufferView(e)||wt.isArrayBuffer(e)?e.byteLength:(wt.isURLSearchParams(e)&&(e+=""),wt.isString(e)?(await En(e)).byteLength:void 0)})(t):n},In=kn&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=yn(e);c=c?(c+"").toLowerCase():"text";let p,f=bn([a,i&&i.toAbortSignal()],o);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&jn&&"get"!==n&&"head"!==n&&0!==(g=await An(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(wt.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=un(g,cn(dn(l)));r=_n(n.body,65536,e,t)}}wt.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:a?d:void 0});let i=await fetch(p);const o=Cn&&("stream"===c||"response"===c);if(Cn&&(s||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=wt.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&un(t,cn(dn(s),!0))||[];i=new Response(_n(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Pn[wt.findKey(Pn,c)||"text"](i,e);return!o&&m&&m(),await new Promise(((t,n)=>{on(t,n,{data:y,headers:en.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new St("Network Error",St.ERR_NETWORK,e,p),{cause:y.cause||y});throw St.from(y,y&&y.code,e,p)}}),Rn={http:null,xhr:vn,fetch:In};wt.forEach(Rn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(eb){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ln=e=>`- ${e}`,$n=e=>wt.isFunction(e)||null===e||!1===e,Mn=e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!$n(n)&&(r=Rn[(t=String(n)).toLowerCase()],void 0===r))throw new St(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+i]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Ln).join("\n"):" "+Ln(e[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new an(null,e)}function Fn(e){Dn(e),e.headers=en.from(e.headers),e.data=tn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Mn(e.adapter||Zt.adapter)(e).then((function(t){return Dn(e),t.data=tn.call(e,e.transformResponse,t),t.headers=en.from(t.headers),t}),(function(t){return nn(t)||(Dn(e),t&&t.response&&(t.response.data=tn.call(e,e.transformResponse,t.response),t.response.headers=en.from(t.response.headers))),Promise.reject(t)}))}const zn="1.7.7",Un={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Un[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Bn={};Un.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,i)=>{if(!1===e)throw new St(r(a," has been removed"+(t?" in "+t:"")),St.ERR_DEPRECATED);return t&&!Bn[a]&&(Bn[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}};const Hn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new St("option "+i+" must be "+n,St.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new St("Unknown option "+i,St.ERR_BAD_OPTION)}},validators:Un},qn=Hn.validators;class Wn{constructor(e){this.defaults=e,this.interceptors={request:new $t,response:new $t}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(eb){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=gn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Hn.assertOptions(n,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),null!=r&&(wt.isFunction(r)?t.paramsSerializer={serialize:r}:Hn.assertOptions(r,{encode:qn.function,serialize:qn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&wt.merge(a.common,a[t.method]);a&&wt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=en.concat(i,a);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Fn.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Fn.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Lt(fn((e=gn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}wt.forEach(["delete","get","head","options"],(function(e){Wn.prototype[e]=function(t,n){return this.request(gn(n||{},{method:e,url:t,data:(n||{}).data}))}})),wt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(gn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wn.prototype[e]=t(),Wn.prototype[e+"Form"]=t(!0)}));const Vn=Wn;class Zn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new an(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Zn((function(t){e=t})),cancel:e}}}const Gn=Zn;const Jn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jn).forEach((e=>{let[t,n]=e;Jn[n]=t}));const Kn=Jn;const Xn=function e(t){const n=new Vn(t),r=Le(Vn.prototype.request,n);return wt.extend(r,Vn.prototype,n,{allOwnKeys:!0}),wt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(gn(t,n))},r}(Zt);Xn.Axios=Vn,Xn.CanceledError=an,Xn.CancelToken=Gn,Xn.isCancel=nn,Xn.VERSION=zn,Xn.toFormData=Ct,Xn.AxiosError=St,Xn.Cancel=Xn.CanceledError,Xn.all=function(e){return Promise.all(e)},Xn.spread=function(e){return function(t){return e.apply(null,t)}},Xn.isAxiosError=function(e){return wt.isObject(e)&&!0===e.isAxiosError},Xn.mergeConfig=gn,Xn.AxiosHeaders=en,Xn.formToJSON=e=>Wt(wt.isHTMLForm(e)?new FormData(e):e),Xn.getAdapter=Mn,Xn.HttpStatusCode=Kn,Xn.default=Xn;const Qn=Xn.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:15e3,withCredentials:!0});Qn.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>(console.error("Request error:",e),Promise.reject(e)))),Qn.interceptors.response.use((e=>e),(e=>{var t,n,r,a;null===(t=e.response)||void 0===t||t.status,null===(n=e.response)||void 0===n||n.data,null===(r=e.config)||void 0===r||r.url,null===(a=e.config)||void 0===a||a.method;if("ECONNABORTED"===e.code)throw console.error("Request timed out"),new Error("Request timed out. Please try again.");if(!e.response)throw console.error("Network error:",e.message),new Error("Network error. Please check your connection.");switch(e.response.status){case 401:localStorage.removeItem("token"),window.location.href="/login";break;case 403:throw new Error("Access denied. Please check your permissions.");case 404:throw new Error("Resource not found.");case 500:throw new Error("Server error. Please try again later.");default:throw e}}));Qn.interceptors.request.use((e=>(e.timestamp=Date.now(),e))),Qn.interceptors.response.use((e=>{const t=Date.now()-e.config.timestamp;return t>1e3&&console.warn(`Slow request: ${e.config.url} took ${t}ms`),e}));const Yn={isOnline:!0,listeners:new Set};window.addEventListener("online",(()=>{Yn.isOnline=!0,Yn.listeners.forEach((e=>e(!0)))})),window.addEventListener("offline",(()=>{Yn.isOnline=!1,Yn.listeners.forEach((e=>e(!1)))}));const er=Qn,tr=n.p+"static/media/logo-2.40911710888561ee76d2.png";var nr=n(4414);const rr=(0,s.createContext)(),ar=e=>{let{children:t}=e;const[n,r]=(0,s.useState)({token:localStorage.getItem("token")||null,user:JSON.parse(localStorage.getItem("user"))||null});(0,s.useEffect)((()=>{(async()=>{if(n.token&&!n.user)try{const e=(await er.get("/users/profile",{headers:{Authorization:`Bearer ${n.token}`}})).data;r((t=>({...t,user:e}))),localStorage.setItem("user",JSON.stringify(e))}catch(e){console.error("Error fetching user profile:",e),r({token:null,user:null}),localStorage.removeItem("token"),localStorage.removeItem("user")}})()}),[n.token]);return(0,nr.jsx)(rr.Provider,{value:{auth:n,setAuth:r,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),r({token:e,user:t})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({token:null,user:null})}},children:t})},ir=()=>{const e=ie(),{login:t}=(0,s.useContext)(rr),[n,r]=(0,s.useState)({email:"",password:""}),[a,i]=(0,s.useState)({}),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(""),p=e=>{r({...n,[e.target.name]:e.target.value}),a[e.target.name]&&i({...a,[e.target.name]:""}),o&&l("")};return(0,nr.jsx)("div",{className:"bg-[#9500F0] min-h-screen flex justify-center items-center",children:(0,nr.jsxs)("div",{className:"bg-white flex flex-col md:flex-row w-full max-w-4xl shadow-lg rounded-lg overflow-hidden",children:[(0,nr.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center p-6 md:p-10 bg-gray-100",children:[(0,nr.jsx)("img",{src:tr,alt:"Logo",className:"w-32 h-32 md:w-48 md:h-48 object-contain"}),(0,nr.jsx)("div",{className:"font-[Mclaren] text-4xl md:text-5xl text-[#9500F0] mt-5 text-center",children:"QuillQuest"})]}),(0,nr.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center p-6 md:p-10",children:[(0,nr.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-2",children:"Welcome back!"}),(0,nr.jsx)("p",{className:"text-md text-center mb-4",children:"It's good to see you again"}),(0,nr.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const a=(()=>{const e={};return n.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(n.email)||(e.email="Invalid email address"):e.email="Email is required",n.password||(e.password="Password is required"),e})();if(i(a),!(Object.keys(a).length>0)){u(!0),l(""),h("");try{const r=await er.post("/auth/login",{email:n.email,password:n.password}),{token:a,user:i}=r.data;localStorage.setItem("token",a),t(a,i),h("Login successful! Redirecting..."),e("/home")}catch(o){o.response&&o.response.data?l(o.response.data.message||"Login failed"):l("An unexpected error occurred")}finally{u(!1)}}},className:"w-full max-w-md",noValidate:!0,children:[(0,nr.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,nr.jsx)("label",{htmlFor:"email",className:"text-lg mb-2",children:"Email"}),(0,nr.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,className:`w-full px-4 py-2 border ${a.email?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0}),a.email&&(0,nr.jsx)("span",{className:"text-red-500 text-sm mt-1",children:a.email})]}),(0,nr.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,nr.jsx)("label",{htmlFor:"password",className:"text-lg mb-2",children:"Password"}),(0,nr.jsx)("input",{type:"password",id:"password",name:"password",value:n.password,onChange:p,className:`w-full px-4 py-2 border ${a.password?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0}),a.password&&(0,nr.jsx)("span",{className:"text-red-500 text-sm mt-1",children:a.password})]}),(0,nr.jsx)("div",{className:"w-full text-right mb-4",children:(0,nr.jsx)(Ae,{to:"/reset-password",className:"text-purple-700 hover:underline text-sm",children:"Forgot password?"})}),(0,nr.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-[#9500F0] text-white py-3 rounded hover:bg-purple-800 transition disabled:opacity-50",children:c?"Logging in...":"Login"}),o&&(0,nr.jsx)("div",{className:"text-red-500 text-center mt-4",children:o})]}),(0,nr.jsxs)("p",{className:"text-sm text-gray-700 mt-4",children:["Don\u2019t have an account? ",(0,nr.jsx)(Ae,{to:"/register",className:"text-purple-700 hover:underline",children:"Sign up"})]})]})]})})},or=()=>{const e=ie(),{login:t}=(0,s.useContext)(rr),[n,r]=(ie(),(0,s.useState)({email:"",username:"",password:"",confirmPassword:""})),[a,i]=(0,s.useState)({}),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(""),p=e=>{r({...n,[e.target.name]:e.target.value}),a[e.target.name]&&i({...a,[e.target.name]:""}),o&&l("")};return(0,nr.jsx)("div",{className:"register-container",children:(0,nr.jsxs)("div",{className:"register-box",children:[(0,nr.jsx)("h2",{className:"title-text",children:"Create an account"}),(0,nr.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const a=(()=>{const e={};return n.username.trim()?n.username.length<3&&(e.username="Username must be at least 3 characters"):e.username="Username is required",n.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(n.email)||(e.email="Invalid email address"):e.email="Email is required",n.password?n.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",e})();if(i(a),!(Object.keys(a).length>0)){u(!0),l(""),h("");try{const r=await er.post("/auth/register",{username:n.username,email:n.email,password:n.password}),{token:a,user:i}=r.data;localStorage.setItem("token",a),t(a,i),h("Registration successful! Redirecting..."),e("/home")}catch(o){o.response&&o.response.data?l(o.response.data.message||"Registration failed"):l("An unexpected error occurred")}finally{u(!1)}}},noValidate:!0,children:[(0,nr.jsxs)("div",{className:"signup-form",children:[(0,nr.jsx)("label",{className:"signup-label",children:"Username"}),(0,nr.jsx)("input",{type:"text",id:"username",name:"username",value:n.username,onChange:p,className:a.username?"input-error":"",required:!0}),a.username&&(0,nr.jsx)("span",{className:"error-text",children:a.username})]}),(0,nr.jsxs)("div",{className:"signup-form",children:[(0,nr.jsx)("label",{className:"signup-label",children:"Email"}),(0,nr.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,className:a.email?"input-error":"",required:!0}),a.email&&(0,nr.jsx)("span",{className:"error-text",children:a.email})]}),(0,nr.jsxs)("div",{className:"signup-form",children:[(0,nr.jsx)("label",{className:"signup-label",children:"Password"}),(0,nr.jsx)("input",{type:"password",id:"password",name:"password",value:n.password,onChange:p,className:a.password?"input-error":"",required:!0}),a.password&&(0,nr.jsx)("span",{className:"error-text",children:a.password})]}),(0,nr.jsxs)("div",{className:"signup-form",children:[(0,nr.jsx)("label",{className:"signup-label",children:"Confirm Password"}),(0,nr.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:a.confirmPassword?"input-error":"",required:!0}),a.confirmPassword&&(0,nr.jsx)("span",{className:"error-text",children:a.confirmPassword})]}),(0,nr.jsx)("button",{type:"signup-form",disabled:c,children:c?"Registering...":"Register"})]}),(0,nr.jsxs)("p",{className:"login-link",children:["Already have an account? ",(0,nr.jsx)(Ae,{to:"/login",children:"Log in"})]})]})})};var sr=n(2405),lr=n(2917),cr=n(9768),ur=n(7999);const dr=n.p+"static/media/logo-3.2043fc651329c6d712ab.png";var hr=n(6319);const pr=()=>{const{auth:e,logout:t}=(0,s.useContext)(rr),[n,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)("bg-purple-600"),d=(0,s.useRef)(null),h=(0,s.useRef)(null),[p,f]=(0,s.useState)(""),m=()=>{r(!n)};return(0,s.useEffect)((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&r(!1),h.current&&!h.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,s.useEffect)((()=>{e.user&&(async()=>{try{const t=await er.get("/notifications",{headers:{Authorization:`Bearer ${e.token}`}});i(t.data)}catch(p){console.error("Error fetching notifications:",p)}})()}),[e.user,e.token]),(0,s.useEffect)((()=>{e.user&&(async()=>{try{const t=await er.get("/users/profile",{headers:{Authorization:`Bearer ${e.token}`}});u(t.data.avatarColor||"bg-purple-600")}catch(p){console.error("Error fetching profile data:",p)}})()}),[e.user,e.token]),(0,nr.jsxs)("nav",{className:"flex justify-between items-center bg-[white] shadow-[0_2px_5px_rgba(0,0,0,0.1)] fixed top-[-5px] z-[1000] px-5 py-[5px] rounded-[25px] inset-x-0",children:[(0,nr.jsxs)("div",{className:"flex items-center",children:[(0,nr.jsx)(Ae,{to:"/home",children:(0,nr.jsx)("img",{src:dr,alt:"Logo",className:"h-[50px] mr-2.5"})}),(0,nr.jsx)("div",{className:"text-2xl text-[#9500F0] font-['Mclaren'] hidden sm:block",children:"Quillquest"})]}),(0,nr.jsxs)("div",{className:"flex items-center justify-end w-auto space-x-2",children:[(0,nr.jsx)("button",{className:"lg:hidden bg-[#D9D9D9] mt-0 text-black px-3 py-2 rounded-md hover:text-white hover:bg-[black]",onClick:m,children:(0,nr.jsxs)(Ae,{to:"/essayguidance",className:"",children:[" Create  ",(0,nr.jsx)(ur.A,{})]})}),(0,nr.jsxs)("div",{className:"hidden lg:flex items-center ",children:[(0,nr.jsxs)(Ae,{to:"/home",className:"bg-[#D9D9D9] pl-3 pr-2 py-2 hover:bg-[#333] hover:text-[white] rounded-l-xl",children:[" Home ",(0,nr.jsx)(cr.A,{})]}),(0,nr.jsxs)(Ae,{to:"/essayguidance",className:"bg-[#D9D9D9] pl-2 pr-3 py-2 hover:bg-[#333] hover:text-[white] rounded-r-xl",children:[" Create  ",(0,nr.jsx)(ur.A,{})]})]}),(0,nr.jsxs)("div",{ref:h,className:"relative",children:[(0,nr.jsx)("button",{className:"bg-transparent text-black cursor-pointer flex items-center justify-center h-10 w-10 m-2 p-0 border-[none]","aria-label":"Notifications",onClick:()=>{l(!o)},children:a.some((e=>!e.isRead))?(0,nr.jsx)(lr.A,{fontSize:"large"}):(0,nr.jsx)(sr.A,{fontSize:"large"})}),o&&(0,nr.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg overflow-hidden z-50 top-16",children:[(0,nr.jsx)("div",{className:"p-4 border-b",children:(0,nr.jsx)("h4",{className:"text-lg font-semibold",children:"Notifications"})}),(0,nr.jsx)("div",{className:"max-h-64 overflow-y-auto",children:a.length>0?a.map(((t,n)=>(0,nr.jsx)("div",{className:"p-4 cursor-pointer "+(t.isRead?"bg-gray-100":"bg-white font-bold hover:bg-gray-200"),children:(0,nr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,nr.jsx)("span",{onClick:()=>(async t=>{try{await er.put(`/notifications/${t}/read`,{},{headers:{Authorization:`Bearer ${e.token}`}}),i((e=>e.map((e=>e._id===t?{...e,isRead:!0}:e))))}catch(p){console.error("Error marking notification as read:",p)}})(t._id),children:t.message}),(0,nr.jsx)("button",{className:"color-[black] w-auto h-auto bg-transparent hover:bg-[red] ml-2",onClick:()=>(async t=>{try{await er.delete(`/notifications/${t}`,{headers:{Authorization:`Bearer ${e.token}`}}),i((e=>e.filter((e=>e._id!==t)))),f("")}catch(p){console.error("Error deleting notification:",p)}})(t._id),children:(0,nr.jsx)(hr.A,{fontSize:"15"})})]})},n))):(0,nr.jsx)("div",{className:"p-4 text-gray-500",children:"No new notifications"})})]})]}),e.user&&(0,nr.jsxs)("div",{ref:d,className:"relative",children:[(0,nr.jsx)("button",{onClick:m,className:`${c} text-white font-bold w-10 h-10 flex items-center justify-center overflow-hidden text-xl rounded-full`,children:e.user.username.charAt(0).toUpperCase()}),n&&(0,nr.jsxs)("div",{className:"absolute right-0 mt-6 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:[(0,nr.jsx)(Ae,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:m,children:(0,nr.jsx)("span",{children:"Profile"})}),(0,nr.jsx)("button",{className:"block w-full text-center px-4 py-2 mt-0 text-sm text-[white] hover:bg-[black]",onClick:t,children:"Logout"})]})]})]})]})};var fr=n(1982),mr=n(8863),gr=n(2661);function yr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vr(e){return yr(e,Date.now())}function br(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function wr(e,t){const n=br(e),r=br(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}Math.pow(10,8);const xr=43200,_r=1440;function kr(e,t){const n=br(e),r=br(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function Sr(e){const t=br(e);return t.setHours(23,59,59,999),t}function Er(e){const t=br(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Nr(e){const t=br(e);return+Sr(t)===+Er(t)}function Or(e,t){const n=br(e),r=br(t),a=wr(n,r),i=Math.abs(kr(n,r));let o;if(i<1)o=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let t=wr(n,r)===-a;Nr(br(e))&&1===i&&1===wr(e,r)&&(t=!1),o=a*(i-Number(t))}return 0===o?0:o}function jr(e,t){return+br(e)-+br(t)}function Cr(e,t,n){const r=jr(e,t)/1e3;return(a=n?.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(r);var a}const Pr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Tr(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ar={date:Tr({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Tr({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Tr({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ir={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Rr(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Lr={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Rr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Rr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Rr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Rr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function $r(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const Mr={ordinalNumber:(Dr={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Dr.matchPattern);if(!n)return null;const r=n[0],a=e.match(Dr.parsePattern);if(!a)return null;let i=Dr.valueCallback?Dr.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:$r({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:$r({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:$r({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:$r({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Dr;const Fr={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Pr[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Ar,formatRelative:(e,t,n,r)=>Ir[e],localize:Lr,match:Mr,options:{weekStartsOn:0,firstWeekContainsDate:1}};let zr={};function Ur(){return zr}function Br(e){const t=br(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Hr(e,t,n){const r=Ur(),a=n?.locale??r.locale??Fr,i=wr(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i});let s,l;i>0?(s=br(t),l=br(e)):(s=br(e),l=br(t));const c=Cr(l,s),u=(Br(l)-Br(s))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return n?.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,o):c<10?a.formatDistance("lessThanXSeconds",10,o):c<20?a.formatDistance("lessThanXSeconds",20,o):c<40?a.formatDistance("halfAMinute",0,o):c<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):0===d?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",d,o);if(d<45)return a.formatDistance("xMinutes",d,o);if(d<90)return a.formatDistance("aboutXHours",1,o);if(d<_r){const e=Math.round(d/60);return a.formatDistance("aboutXHours",e,o)}if(d<2520)return a.formatDistance("xDays",1,o);if(d<xr){const e=Math.round(d/_r);return a.formatDistance("xDays",e,o)}if(d<2*xr)return h=Math.round(d/xr),a.formatDistance("aboutXMonths",h,o);if(h=Or(l,s),h<12){const e=Math.round(d/xr);return a.formatDistance("xMonths",e,o)}{const e=h%12,t=Math.trunc(h/12);return e<3?a.formatDistance("aboutXYears",t,o):e<9?a.formatDistance("overXYears",t,o):a.formatDistance("almostXYears",t+1,o)}}function qr(e,t){return Hr(e,vr(e),t)}const Wr=e=>{let{post:t}=e;const{auth:n}=(0,s.useContext)(rr),[r,a]=(0,s.useState)(t.likes.length),[i,o]=(0,s.useState)(0),[l,c]=(0,s.useState)(t.likes.includes(n.user.id)),[u,d]=(0,s.useState)("bg-purple-600");(0,s.useEffect)((()=>{t.userId&&(async()=>{try{const e=await er.get(`/users/${t.userId._id}/profile`,{headers:{Authorization:`Bearer ${n.token}`}});d(e.data.avatarColor||"bg-purple-600")}catch(e){console.error("Error fetching profile data:",e)}})()}),[t.userId,n.token]),(0,s.useEffect)((()=>{if(t.comments){const e=t.comments.reduce(((e,t)=>{var n;return e+((null===(n=t.replies)||void 0===n?void 0:n.length)||0)}),0);o(t.comments.length+e)}}),[t.comments]);return(0,nr.jsxs)("div",{className:"rounded-[10px] bg-[white] shadow-[0_2px_8px_rgba(0,0,0,0.1)] w-[90%] max-w-[800px] mb-5 p-5 ;",children:[(0,nr.jsxs)(Ae,{to:`/posts/${t._id}`,className:"hover:no-underline",children:[(0,nr.jsx)("div",{className:"flex items-center mb-[15px]",children:(0,nr.jsxs)("div",{className:"flex",children:[(0,nr.jsx)("div",{className:`${u} text-[white] font-[bold] w-10 h-10 flex items-center justify-center mr-5 rounded-[50%]`,children:(0,nr.jsx)("span",{className:"font-sans font-bold",children:t.userId.username.charAt(0).toUpperCase()})}),(0,nr.jsxs)("div",{className:"flex flex-col items-baseline",children:[(0,nr.jsx)("span",{className:"font-semibold text-black",children:t.userId.username}),(0,nr.jsxs)("span",{className:"text-[gray] text-[0.85rem]",children:[" \u2022 ",qr(new Date(t.createdAt),{addSuffix:!0})]})]})]})}),(0,nr.jsx)("h2",{className:"text-black font-bold text-2xl text-left mt-0 mb-[15px] mx-0",children:t.title}),(0,nr.jsxs)("div",{className:"text-base leading-normal text-[#333]",children:[(0,nr.jsx)("div",{className:"flex mb-2.5",children:t.postType&&(0,nr.jsx)("div",{className:"bg-[#9500F0] text-white text-[0.9rem] inline-block px-4 py-1 rounded-[1rem]",children:t.postType})}),(0,nr.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content}})]})]}),(0,nr.jsx)("div",{className:"flex justify-between mt-5",children:(0,nr.jsxs)("span",{children:[l?(0,nr.jsx)(mr.A,{onClick:async()=>{try{const e=await er.put(`/posts/${t._id}/unlike`,{},{headers:{Authorization:`Bearer ${n.token}`}});a(e.data.likes),c(!1)}catch(e){console.error("Error unliking the post:",e)}},className:"bg-transparent text-base text-[#9500F0] cursor-pointer m-5 border-[none] hover:no-underline"}):(0,nr.jsx)(fr.A,{onClick:async()=>{try{const e=await er.put(`/posts/${t._id}/like`,{},{headers:{Authorization:`Bearer ${n.token}`}});a(e.data.likes),c(!0)}catch(e){console.error("Error liking the post:",e)}},className:"bg-transparent text-base text-[#9500F0] cursor-pointer m-5 border-[none] hover:no-underline"}),(0,nr.jsx)("span",{className:"font-mono text-lg",children:r}),(0,nr.jsx)(Ae,{to:`/posts/${t._id}`,children:(0,nr.jsx)(gr.A,{className:"bg-transparent text-base text-[#9500F0] cursor-pointer m-5 border-[none] hover:no-underline"})}),(0,nr.jsx)("span",{className:"font-mono text-lg",children:i})]})})]})},Vr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{const e=(await er.get("/posts")).data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));t(e),i(!1)}catch(e){console.error("Error fetching posts:",e),i(!1)}})(),(async()=>{try{const e=(await er.get("/prompts/all")).data.map((e=>{const t=new Date,n=new Date(e.expiresAt),r=Math.ceil((n-t)/864e5);return{...e,daysRemaining:Math.max(0,r)}}));r(e)}catch(e){console.error("Error fetching prompts:",e)}})()}),[]),(0,nr.jsxs)("div",{className:"bg-[#f8f8f8] min-h-screen pt-20 pb-5 px-5",children:[(0,nr.jsx)(pr,{}),(0,nr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 w-full max-w-6xl mx-auto mt-5",children:[(0,nr.jsxs)("div",{className:"rounded-lg w-full lg:w-[30%] bg-[#f0f0f0] overflow-y-auto p-5",children:[(0,nr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Prompts of the Day"}),n.map(((e,t)=>(0,nr.jsxs)("div",{className:"bg-[white] shadow-[0_2px_4px_rgba(0,0,0,0.1)] mb-[15px] p-[15px] rounded-lg "+(0===e.daysRemaining?"expired":""),children:[(0,nr.jsx)("h3",{className:"text-lg mt-0",children:e.topic}),(0,nr.jsx)("p",{className:"text-sm text-[#666]",children:e.daysRemaining>0?`${e.daysRemaining} days remaining`:"Expired"})]},t)))]}),(0,nr.jsx)("div",{className:"flex flex-col gap-5 items-center flex-1 w-full",children:a?(0,nr.jsx)("p",{children:"Loading..."}):e.map((e=>(0,nr.jsx)(Wr,{post:e},e._id)))})]})]})};var Zr=n(5858);const Gr=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)("bg-purple-600"),[p,f]=(0,s.useState)(0),[m,g]=(0,s.useState)(0),[y,v]=(0,s.useState)(0),[b,w]=(0,s.useState)(!1),[x,_]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await er.get("/users/profile",{headers:{Authorization:`Bearer ${e}`}});l(t.data),r(t.data.username),i(t.data.email),h(t.data.avatarColor||"bg-purple-600")}catch(e){console.error("Error fetching profile:",e),u("Failed to load profile")}})(),(async()=>{try{const e=localStorage.getItem("token");let t=(await er.get("/posts/user",{headers:{Authorization:`Bearer ${e}`}})).data;t=t.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),_(t),f(t.length);const n=t.reduce(((e,t)=>e+(t.likes?t.likes.length:0)),0);g(n);const r=t.reduce(((e,t)=>e+(t.content?t.content.split(" ").length:0)),0),a=t.length>0?Math.round(r/t.length):0;v(a)}catch(e){console.error("Error fetching posts data:",e),u("Failed to load posts data")}})()}),[]),(0,s.useEffect)((()=>{!o||n===o.username&&a===o.email&&d===o.avatarColor?w(!1):w(!0)}),[n,a,d,o]),o||c?c?(0,nr.jsx)("p",{children:c}):(0,nr.jsxs)("div",{className:"bg-[white] min-h-screen pt-20 pb-5 px-5 flex flex-col items-center",children:[(0,nr.jsx)(pr,{}),(0,nr.jsxs)("div",{className:"w-full max-w-5xl rounded-lg overflow-y-auto p-5",children:[(0,nr.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,nr.jsxs)("div",{className:"p-8",children:[(0,nr.jsx)("div",{className:"flex flex-col md:flex-row items-center",children:(0,nr.jsxs)("div",{className:"flex flex-col md:items-start md:flex-row md:space-x-6 w-full",children:[(0,nr.jsx)("div",{className:`flex-shrink-0 ${d} w-40 h-40 rounded-full mx-auto md:mx-0`}),e&&(0,nr.jsx)("button",{onClick:()=>{const e=["bg-purple-600","bg-blue-600","bg-green-600","bg-red-600","bg-yellow-600"],t=(e.indexOf(d)+1)%e.length;h(e[t])},className:"w-auto bg-white p-2 rounded-full shadow-md hover:bg-gray-100 mt-4 md:mt-0","aria-label":"Customize avatar",children:(0,nr.jsx)(Zr.A,{className:"w-5 h-5 text-gray-600"})}),(0,nr.jsx)("div",{className:"mt-6 md:mt-0 md:ml-8 w-full",children:e?(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),className:"w-full p-4 border rounded-2xl bg-[#D9D9D9] text-xl mb-4",placeholder:o.username}),(0,nr.jsx)("input",{type:"email",value:a,onChange:e=>i(e.target.value),className:"w-full p-4 border rounded-2xl bg-[#D9D9D9] text-xl",placeholder:o.email})]}):(0,nr.jsxs)("div",{className:"flex-col mt-10 ml-10",children:[(0,nr.jsx)("div",{className:"flex",children:(0,nr.jsx)("p",{className:"text-2xl font-semibold mb-4",children:o.username})}),(0,nr.jsx)("div",{className:"flex",children:(0,nr.jsx)("p",{className:"text-2xl font-semibold",children:o.email})})]})})]})}),(0,nr.jsx)("div",{className:"mt-6 flex justify-center md:justify-end",children:e?(0,nr.jsxs)("div",{className:"space-x-2",children:[(0,nr.jsx)("button",{onClick:()=>{r(o.username),i(o.email),h(o.avatarColor||"bg-purple-600"),t(!1)},className:"w-auto px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",children:"Cancel"}),(0,nr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),r=await er.put("/users/profile",{username:n||o.username,email:a||o.email,avatarColor:d},{headers:{Authorization:`Bearer ${e}`}});l(r.data),t(!1)}catch(e){console.error("Error saving profile:",e),u("Failed to save profile")}},className:"w-auto px-4 py-2 rounded-xl "+(b?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),disabled:!b,children:"Save Changes"})]}):(0,nr.jsx)("button",{onClick:()=>t(!0),className:"w-auto px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",children:"Edit Profile"})})]})}),(0,nr.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,nr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow text-center",children:[(0,nr.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:p}),(0,nr.jsx)("div",{className:"text-sm text-gray-600",children:"Essay Shared"})]}),(0,nr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow text-center",children:[(0,nr.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:m}),(0,nr.jsx)("div",{className:"text-sm text-gray-600",children:"Total Likes"})]}),(0,nr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow text-center",children:[(0,nr.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:y}),(0,nr.jsx)("div",{className:"text-sm text-gray-600",children:"AVG. Word Count/Essay"})]})]}),(0,nr.jsxs)("div",{className:"mt-8",children:[(0,nr.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"All Posts"}),x.length>0?(0,nr.jsx)("div",{className:"space-y-4",children:x.map((e=>(0,nr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,nr.jsx)(Ae,{to:`/posts/${e._id}`,className:"text-xl font-bold text-purple-600 mb-2 block hover:underline",children:e.title}),(0,nr.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:new Date(e.createdAt).toLocaleString()}),(0,nr.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]},e._id)))}):(0,nr.jsx)("p",{children:"No posts yet."})]})]})]}):(0,nr.jsx)("p",{children:"Loading profile..."})},Jr=e=>{let{onConfirm:t,onCancel:n}=e;return(0,nr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:(0,nr.jsxs)("div",{className:"bg-white p-8 rounded-md shadow-md w-80",children:[(0,nr.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Are you sure?"}),(0,nr.jsx)("p",{className:"mb-8",children:"Do you really want to delete? This action cannot be undone."}),(0,nr.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,nr.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-black rounded-md hover:bg-gray-400",children:"Cancel"}),(0,nr.jsx)("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Delete"})]})]})})};var Kr=n(7988);const Xr=e=>{let{commentId:t,onCommentsUpdate:n,onReplyUpdate:r}=e;const{auth:a}=(0,s.useContext)(rr),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[f,m]=(0,s.useState)({}),[g,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(""),[w,x]=(0,s.useState)(""),[_,k]=(0,s.useState)(!1),[S,E]=(0,s.useState)(!1),[N,O]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{d(!0);const e=await er.get(`/comments/${t}/replies`,{headers:{Authorization:`Bearer ${a.token}`}});o(e.data),d(!1)}catch(e){p("Error loading replies"),d(!1)}})()}),[t,a.token]),(0,s.useEffect)((()=>{i.length>0&&(async()=>{try{const e=[...new Set(i.map((e=>e.userId._id)))],t={};await Promise.all(e.map((async e=>{const n=await er.get(`/users/${e}/profile`,{headers:{Authorization:`Bearer ${a.token}`}});t[e]=n.data.avatarColor||"bg-purple-600"}))),m(t)}catch(e){console.error("Error fetching avatar colors:",e)}})()}),[i,a.token]);const j=()=>{E(!1),O(null)},C=async e=>{if(e.preventDefault(),v.trim())try{d(!0);const e=await er.put(`/replies/${g}`,{content:v},{headers:{Authorization:`Bearer ${a.token}`}});o((t=>t.map((t=>t._id===g?{...t,content:e.data.content}:t)))),y(null),d(!1)}catch(t){p("Failed to edit reply"),d(!1)}else p("Reply cannot be empty")},P=()=>{y(null),b("")};(0,s.useEffect)((()=>{k(v!==w)}),[v,w]);return(0,nr.jsxs)("div",{className:"reply-section bg-white p-4 shadow-md rounded-lg",children:[(0,nr.jsx)("h4",{className:"text-md font-semibold mb-4",children:"Replies"}),h&&(0,nr.jsx)("p",{className:"text-red-500",children:h}),(0,nr.jsxs)("div",{className:"reply-list space-y-4",children:[u&&(0,nr.jsx)("p",{children:"Loading replies..."}),i.length>0?i.map((e=>{var t;return(0,nr.jsxs)("div",{className:"reply-item p-2 bg-[transparent] rounded-md",children:[(0,nr.jsxs)("div",{className:"flex mt-0",children:[(0,nr.jsx)("div",{className:`${f[e.userId._id]||"bg-purple-600"} text-[white] font-[bold] w-10 h-10 flex items-center justify-center mr-5 rounded-[50%]`,children:(0,nr.jsx)("span",{className:"font-sans font-bold",children:e.userId.username.charAt(0).toUpperCase()})}),(0,nr.jsxs)("div",{className:"flex flex-col items-baseline",children:[(0,nr.jsx)("p",{className:"font-semibold",children:null===(t=e.userId)||void 0===t?void 0:t.username}),(0,nr.jsxs)("p",{className:"text-xs text-gray-500",children:[" \u2022 ",qr(new Date(e.createdAt),{addSuffix:!0})]}),g===e._id?(0,nr.jsxs)("form",{onSubmit:C,className:"mt-2 mb-5",children:[(0,nr.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"2",value:v,onChange:e=>b(e.target.value)}),(0,nr.jsxs)("div",{className:"flex mt-2 space-x-2",children:[(0,nr.jsx)("button",{type:"submit",className:"w-auto px-4 py-2 rounded-xl "+(_?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),disabled:u||!_,children:u?"Saving...":"Save"}),(0,nr.jsx)("button",{type:"button",onClick:P,className:"w-auto px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",disabled:u,children:"Cancel"})]})]}):(0,nr.jsx)("p",{className:"my-5",children:e.content})]})]}),(0,nr.jsxs)("div",{className:"flex items-center mt-0 ml-5 space-x-5",children:[e.likes&&e.likes.includes(a.user.id)?(0,nr.jsx)(mr.A,{onClick:()=>(async e=>{try{const t=await er.put(`/replies/${e}/unlike`,{},{headers:{Authorization:`Bearer ${a.token}`}});o((n=>n.map((n=>n._id===e?{...n,likes:t.data.likes}:n))))}catch(t){console.error("Error unliking the reply:",t)}})(e._id),className:"bg-transparent text-base text-[#9500F0] cursor-pointer border-[none] hover:no-underline"}):(0,nr.jsx)(fr.A,{onClick:()=>(async e=>{try{const t=await er.put(`/replies/${e}/like`,{},{headers:{Authorization:`Bearer ${a.token}`}});o((n=>n.map((n=>n._id===e?{...n,likes:t.data.likes}:n))))}catch(t){console.error("Error liking the reply:",t)}})(e._id),className:"bg-transparent text-base text-[#9500F0] cursor-pointer border-[none] hover:no-underline"}),(0,nr.jsx)("span",{className:"text-lg font-mono",children:e.likes?e.likes.length:0}),e.userId._id===a.user.id&&(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)(ur.A,{onClick:()=>{return t=e._id,n=e.content,y(t),b(n),void x(n);var t,n},className:"text-blue-500 cursor-pointer mx-5 hover:bg-gray-100 hover:rounded-lg"}),(0,nr.jsx)(Kr.A,{onClick:()=>{return t=e._id,E(!0),void O(t);var t},className:"text-red-500 cursor-pointer mx-5 hover:bg-gray-400 hover:rounded-lg"})]})]})]},e._id)})):(0,nr.jsx)("p",{children:"No replies yet. Be the first to reply!"})]}),(0,nr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.trim())try{d(!0);const e={...(await er.post(`/comments/${t}/replies`,{content:l,parentCommentId:t},{headers:{Authorization:`Bearer ${a.token}`}})).data,userId:{_id:a.user.id,username:a.user.username}},n=[...i,e];o(n),r(),c(""),d(!1)}catch(n){p("Failed to submit reply"),d(!1)}else p("Reply cannot be empty")},className:"mb-4 mt-4",children:[(0,nr.jsx)("textarea",{className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"2",value:l,onChange:e=>c(e.target.value),placeholder:"Add your reply..."}),(0,nr.jsx)("button",{type:"submit",className:"w-auto mt-2 px-4 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600",disabled:u,children:u?"Posting...":"Post Reply"})]}),S&&(0,nr.jsx)(Jr,{onConfirm:async()=>{try{await er.delete(`/replies/${N}`,{headers:{Authorization:`Bearer ${a.token}`}}),o((e=>e.filter((e=>e._id!==N)))),r(),j()}catch(e){p("Failed to delete reply")}},onCancel:j})]})};var Qr=n(3246);const Yr=e=>{let{postId:t,onCommentsUpdate:n,onReplyUpdate:r}=e;const{auth:a}=(0,s.useContext)(rr),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[f,m]=(0,s.useState)({}),[g,y]=(0,s.useState)({}),[v,b]=(0,s.useState)(!1),[w,x]=(0,s.useState)(null),[_,k]=(0,s.useState)(null),[S,E]=(0,s.useState)(""),[N,O]=(0,s.useState)(""),[j,C]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{d(!0);const e=await er.get(`/comments/posts/${t}/comments`,{headers:{Authorization:`Bearer ${a.token}`}});o(e.data),n(e.data),d(!1)}catch(e){p("Error loading comments"),d(!1)}})()}),[t,a.token]),(0,s.useEffect)((()=>{i.length>0&&(async()=>{try{const e=[...new Set(i.map((e=>e.userId._id)))],t={};await Promise.all(e.map((async e=>{const n=await er.get(`/users/${e}/profile`,{headers:{Authorization:`Bearer ${a.token}`}});t[e]=n.data.avatarColor||"bg-purple-600"}))),y(t)}catch(e){console.error("Error fetching avatar colors:",e)}})()}),[i,a.token]);const P=()=>{b(!1),x(null)},T=async e=>{if(e.preventDefault(),S.trim())try{d(!0);const e=await er.put(`/comments/${_}`,{content:S},{headers:{Authorization:`Bearer ${a.token}`}}),t=i.map((t=>t._id===_?{...t,content:e.data.content}:t));o(t),n(t),k(null),d(!1)}catch(t){p("Failed to edit comment"),d(!1)}else p("Comment cannot be empty")},A=()=>{k(null),E("")};return(0,s.useEffect)((()=>{C(S!==N)}),[S,N]),(0,nr.jsxs)("div",{className:"comment-section bg-white p-4 shadow-lg rounded-lg",children:[(0,nr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Comments"}),h&&(0,nr.jsx)("p",{className:"text-red-500",children:h}),(0,nr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.trim())try{d(!0);const e={...(await er.post(`/comments/posts/${t}/comments`,{content:l},{headers:{Authorization:`Bearer ${a.token}`}})).data,userId:{_id:a.user.id,username:a.user.username}},r=[...i,e];o(r),n(r),c(""),d(!1)}catch(r){p("Failed to submit comment"),d(!1)}else p("Comment cannot be empty")},className:"mb-4",children:[(0,nr.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"3",value:l,onChange:e=>c(e.target.value),placeholder:"Add your comment..."}),(0,nr.jsx)("button",{type:"submit",className:"w-auto mt-2 px-4 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600",disabled:u,children:u?"Posting...":"Post Comment"})]}),(0,nr.jsxs)("div",{className:"comment-list space-y-4 mb-4",children:[u&&(0,nr.jsx)("p",{children:"Loading comments..."}),i.length>0?i.map((e=>{var t;return(0,nr.jsxs)("div",{className:"flex flex-col p-2 bg-[transparent] rounded-md hover:bg-gray-50",children:[(0,nr.jsxs)("div",{className:"flex mt-3",children:[(0,nr.jsx)("div",{className:`${g[e.userId._id]||"bg-purple-600"} text-[white] font-[bold] w-10 h-10 flex items-center justify-center mr-5 rounded-[50%]`,children:(0,nr.jsx)("span",{className:"font-sans font-bold",children:e.userId.username.charAt(0).toUpperCase()})}),(0,nr.jsxs)("div",{className:"flex flex-col items-baseline",children:[(0,nr.jsx)("p",{className:"font-semibold",children:null===(t=e.userId)||void 0===t?void 0:t.username}),(0,nr.jsxs)("p",{className:"text-xs text-gray-500",children:[" \u2022 ",qr(new Date(e.createdAt),{addSuffix:!0})]}),_===e._id?(0,nr.jsxs)("form",{onSubmit:T,className:"mt-2",children:[(0,nr.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"2",value:S,onChange:e=>E(e.target.value)}),(0,nr.jsxs)("div",{className:"flex mt-2 space-x-2",children:[(0,nr.jsx)("button",{type:"submit",className:"w-auto px-4 py-2 rounded-xl "+(j?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),disabled:u||!j,children:u?"Saving...":"Save"}),(0,nr.jsx)("button",{type:"button",onClick:A,className:"w-auto px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",disabled:u,children:"Cancel"})]})]}):(0,nr.jsx)("p",{className:"mt-5",children:e.content})]})]}),(0,nr.jsxs)("div",{className:"flex mt-5 ml-5 space-x-5",children:[(0,nr.jsxs)("div",{className:"flex space-x-2",children:[(0,nr.jsxs)("div",{className:"space-x-2",children:[e.likes.includes(a.user.id)?(0,nr.jsx)(mr.A,{onClick:()=>(async e=>{try{const t=await er.put(`/comments/${e}/unlike`,{},{headers:{Authorization:`Bearer ${a.token}`}});o((n=>n.map((n=>n._id===e?{...n,likes:t.data.likes}:n))))}catch(t){console.error("Error unliking the comment:",t)}})(e._id),className:"bg-transparent text-base text-[#9500F0] cursor-pointer border-[none] hover:no-underline"}):(0,nr.jsx)(fr.A,{onClick:()=>(async e=>{try{const t=await er.put(`/comments/${e}/like`,{},{headers:{Authorization:`Bearer ${a.token}`}});o((n=>n.map((n=>n._id===e?{...n,likes:t.data.likes}:n))))}catch(t){console.error("Error liking the comment:",t)}})(e._id),className:"bg-transparent text-base text-[#9500F0] cursor-pointer border-[none] hover:no-underline"}),(0,nr.jsx)("span",{className:"text-lg font-mono mt-5 mr-0 p-2",children:e.likes.length})]}),(0,nr.jsx)("div",{className:"flex",children:(0,nr.jsxs)("button",{className:"w-auto h-auto ml-3 p-0 m-0 bg-[transparent] text-black text-sm",onClick:()=>{return t=e._id,void m((e=>({...e,[t]:!e[t]})));var t},children:[f[e._id]?(0,nr.jsx)(Qr.A,{}):(0,nr.jsxs)("div",{className:"space-x-2 ",children:[(0,nr.jsx)(gr.A,{className:"bg-transparent text-base text-[#9500F0] cursor-pointer border-[none]"}),(0,nr.jsx)("span",{className:"text-lg font-mono mt-5 mr-0 p-2",children:e.replies.length})]}),f[e._id]?" Collapse":""]})})]}),(0,nr.jsx)("div",{className:"flex",children:e.userId._id===a.user.id&&(0,nr.jsxs)("div",{className:"space-x-5",children:[(0,nr.jsx)(ur.A,{onClick:()=>{return t=e._id,n=e.content,k(t),E(n),void O(n);var t,n},className:"text-blue-500 cursor-pointer hover:bg-gray-100 hover:rounded-lg"}),(0,nr.jsx)(Kr.A,{onClick:()=>{return t=e._id,b(!0),void x(t);var t},className:"text-red-500 cursor-pointer hover:bg-gray-400 hover:rounded-lg"})]})})]}),f[e._id]&&(0,nr.jsx)("div",{className:"flex flex-col",children:(0,nr.jsx)(Xr,{commentId:e._id,onCommentsUpdate:o,onReplyUpdate:r})})]},e._id)})):(0,nr.jsx)("p",{children:"No comments yet. Be the first to comment!"})]}),v&&(0,nr.jsx)(Jr,{onConfirm:async()=>{try{await er.delete(`/comments/${w}`,{headers:{Authorization:`Bearer ${a.token}`}});const e=i.filter((e=>e._id!==w));o(e),n(e),P()}catch(e){p("Failed to delete the comment"),console.error("Error deleting the comment:",e)}},onCancel:P})]})};var ea=n(6592);const ta=()=>{var e;const{id:t}=oe(),n=ie(),[r,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null),{auth:u}=(0,s.useContext)(rr),[d,h]=(0,s.useState)(0),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(0),[y,v]=(0,s.useState)({}),[b,w]=(0,s.useState)("bg-purple-600"),[x,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(""),[E,N]=(0,s.useState)(""),[O,j]=(0,s.useState)(!1),C=async()=>{try{const e=await er.get(`/posts/${t}`);a(e.data),h(e.data.likes.length),f(e.data.likes.includes(u.user.id));const n=e.data.comments.length+e.data.comments.reduce(((e,t)=>e+(t.replies?t.replies.length:0)),0);g(n),S(e.data.title),N(e.data.content),o(!1);const r=await er.get(`/users/${e.data.userId._id}/profile`,{headers:{Authorization:`Bearer ${u.token}`}});w(r.data.avatarColor||"bg-purple-600")}catch(l){console.error("Error fetching post:",l),c("Failed to load the post"),o(!1)}};(0,s.useEffect)((()=>{C()}),[t]);return i?(0,nr.jsx)("p",{children:"Loading post..."}):l?(0,nr.jsx)("p",{children:l}):r?(0,nr.jsxs)("div",{className:"bg-[white] min-h-screen pt-20 pb-5 px-5",children:[(0,nr.jsx)(pr,{}),(0,nr.jsxs)("div",{className:"w-full max-w-5xl mx-auto mt-5",children:[(0,nr.jsx)(Ae,{to:"/home",className:"block text-purple-600 mb-5",children:"\u2190 Back to Home"}),(0,nr.jsxs)("div",{className:"bg-white p-5 rounded-lg",children:[(0,nr.jsxs)("div",{className:"flex items-center mb-5",children:[(0,nr.jsx)("div",{className:`${b} text-white font-bold w-10 h-10 flex items-center justify-center overflow-hidden text-xl rounded-full mr-5`,children:r.userId.username.charAt(0).toUpperCase()}),(0,nr.jsxs)("div",{className:"flex flex-col",children:[(0,nr.jsx)("div",{className:"flex",children:(0,nr.jsx)("span",{className:"font-semibold text-black",children:(null===(e=r.userId)||void 0===e?void 0:e.username)||"Unknown"})}),(0,nr.jsxs)("span",{className:"text-gray-500 text-sm",children:["Posted on: ",new Date(r.createdAt).toLocaleString()]})]})]}),x?(0,nr.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,nr.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),className:"bg-white w-full p-2 border rounded-md mb-4"}),(0,nr.jsx)("textarea",{value:E,onChange:e=>N(e.target.value),className:"w-full h-full p-2 border rounded-md",rows:"20"}),(0,nr.jsxs)("div",{className:"flex space-x-2 mt-0 justify-end",children:[(0,nr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");await er.put(`/posts/${t}`,{title:k,content:E},{headers:{Authorization:`Bearer ${e}`}}),a({...r,title:k,content:E}),_(!1)}catch(e){console.error("Error saving post:",e),c("Failed to save the post")}},className:"w-auto px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Save Changes"}),(0,nr.jsx)("button",{onClick:()=>{_(!1),S(r.title),N(r.content)},className:"w-auto px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancel"})]})]}):(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)("div",{className:"flex",children:(0,nr.jsx)("h2",{className:"text-black font-bold text-2xl mb-4",children:r.title})}),(0,nr.jsx)("div",{className:"flex mb-4",children:r.postType&&(0,nr.jsx)("div",{className:"bg-[#9500F0] text-white text-sm inline-block px-4 py-1 rounded-full",children:r.postType})}),(0,nr.jsx)("div",{className:"mb-5",dangerouslySetInnerHTML:{__html:r.content}})]}),(0,nr.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,nr.jsxs)("div",{className:"flex items-center",children:[p?(0,nr.jsx)(mr.A,{onClick:async()=>{try{const e=await er.put(`/posts/${r._id}/unlike`,{},{headers:{Authorization:`Bearer ${u.token}`}});h(e.data.likes),f(!1)}catch(e){console.error("Error unliking the post:",e)}},className:"text-[#9500F0] cursor-pointer mr-3"}):(0,nr.jsx)(fr.A,{onClick:async()=>{try{const e=await er.put(`/posts/${r._id}/like`,{},{headers:{Authorization:`Bearer ${u.token}`}});h(e.data.likes),f(!0)}catch(e){console.error("Error liking the post:",e)}},className:"text-[#9500F0] cursor-pointer mr-3"}),(0,nr.jsx)("span",{className:"mr-5 font-mono",children:d}),(0,nr.jsx)(gr.A,{className:"text-[#9500F0] cursor-pointer mr-3"}),(0,nr.jsx)("span",{className:"mr-5 font-mono",children:m})]}),!x&&u.user.id===r.userId._id&&(0,nr.jsxs)("div",{className:"flex items-center",children:[(0,nr.jsx)("button",{onClick:()=>{_(!0)},className:"mr-5 h-[50px] text-md w-auto mt-0 px-2 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Edit"}),(0,nr.jsx)("button",{onClick:()=>{j(!0)},className:"h-[50px] text-md w-auto mt-0 px-2 py-2 bg-red-400 text-white rounded-md hover:bg-black",children:(0,nr.jsx)(ea.A,{})})]})]}),(0,nr.jsx)("hr",{className:"my-5"}),(0,nr.jsx)(Yr,{postId:r._id,onCommentsUpdate:e=>{const t=e.length+e.reduce(((e,t)=>e+(t.replies?t.replies.length:0)),0);g(t)},onReplyUpdate:()=>{C()}})]}),O&&(0,nr.jsx)(Jr,{onConfirm:async()=>{try{const e=localStorage.getItem("token");await er.delete(`/posts/${t}`,{headers:{Authorization:`Bearer ${e}`}}),n("/home")}catch(e){console.error("Error deleting post:",e),c("Failed to delete the post")}},onCancel:()=>{j(!1)}})]})]}):(0,nr.jsx)("p",{children:"Post not found."})},na=e=>{let{children:t}=e;const{auth:n}=(0,s.useContext)(rr);return n.token?t:(0,nr.jsx)(we,{to:"/login"})},ra=e=>{let{children:t}=e;return!!localStorage.getItem("token")?(0,nr.jsx)(we,{to:"/home"}):t},aa=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)(""),[o,l]=(0,s.useState)("");return(0,nr.jsx)("div",{className:"bg-purple-700 min-h-screen flex justify-center items-center",children:(0,nr.jsxs)("div",{className:"bg-white w-full max-w-md shadow-lg rounded-lg p-8",children:[(0,nr.jsx)("h2",{className:"text-2xl font-bold text-center text-purple-700 mb-6",children:"Reset Password"}),(0,nr.jsx)("p",{className:"text-center text-gray-600 mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),(0,nr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0),l(""),i("");try{await er.post("/auth/reset-password",{email:e}),i("Password reset link has been sent to your email address. Please check your inbox.")}catch(n){n.response&&n.response.data?l(n.response.data.message||"Unable to send reset link. Please try again later."):l("An unexpected error occurred.")}finally{r(!1)}},className:"w-full",noValidate:!0,children:[(0,nr.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,nr.jsx)("label",{htmlFor:"email",className:"text-lg mb-2",children:"Email"}),(0,nr.jsx)("input",{type:"email",id:"email",name:"email",value:e,onChange:e=>{t(e.target.value),o&&l(""),a&&i("")},className:`w-full px-4 py-2 border ${o?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]}),o&&(0,nr.jsx)("div",{className:"text-red-500 text-sm mb-4 text-center",children:o}),a&&(0,nr.jsx)("div",{className:"text-green-500 text-sm mb-4 text-center",children:a}),(0,nr.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-purple-700 text-white py-3 rounded hover:bg-purple-800 transition disabled:opacity-50",children:n?"Sending...":"Send Reset Link"})]}),(0,nr.jsxs)("p",{className:"text-sm text-gray-700 mt-4 text-center",children:["Remembered your password? ",(0,nr.jsx)(Ae,{to:"/login",className:"text-purple-700 hover:underline",children:"Login"})]})]})})},ia=()=>{const{token:e}=oe(),[t,n]=(0,s.useState)(""),[r,a]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),u=ie();return(0,nr.jsx)("div",{className:"bg-purple-700 min-h-screen flex justify-center items-center",children:(0,nr.jsxs)("div",{className:"bg-white w-full max-w-md shadow-lg rounded-lg p-8",children:[(0,nr.jsx)("h2",{className:"text-2xl font-bold text-center text-purple-700 mb-6",children:"Set New Password"}),(0,nr.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),t===r){o(!0),c("");try{console.log("Token being used for reset:",e),await er.post(`/auth/reset-password/${e}`,{password:t}),c("Password reset successful. Redirecting to login..."),setTimeout((()=>{u("/login")}),3e3)}catch(a){c(a.response&&a.response.data?a.response.data.message:"An unexpected error occurred.")}finally{o(!1)}}else c("Passwords do not match.")},className:"w-full",children:[(0,nr.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,nr.jsx)("label",{htmlFor:"password",className:"text-lg mb-2",children:"New Password"}),(0,nr.jsx)("input",{type:"password",id:"password",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,nr.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,nr.jsx)("label",{htmlFor:"confirmPassword",className:"text-lg mb-2",children:"Confirm New Password"}),(0,nr.jsx)("input",{type:"password",id:"confirmPassword",value:r,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),l&&(0,nr.jsx)("div",{className:"text-center text-sm mb-4 "+(l.includes("successful")?"text-green-500":"text-red-500"),children:l}),(0,nr.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-purple-700 text-white py-3 rounded hover:bg-purple-800 transition disabled:opacity-50",children:i?"Submitting...":"Set New Password"})]})]})})};const oa=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}));function sa(){const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)("discussion"),[a,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!0),[d,h]=(0,s.useState)(null),p=ie();(0,s.useEffect)((()=>{(async()=>{try{u(!0),console.log("Attempting to fetch prompts...");const e=await er.get("/prompts/all");console.log("Prompts received:",e.data),i(e.data),h(null)}catch(d){var e,t,n,r,a,o;console.error("Error fetching prompts:",{message:(null===d||void 0===d?void 0:d.message)||"Unknown error",status:null===d||void 0===d||null===(e=d.response)||void 0===e?void 0:e.status,statusText:null===d||void 0===d||null===(t=d.response)||void 0===t?void 0:t.statusText,data:null===d||void 0===d||null===(n=d.response)||void 0===n?void 0:n.data,config:{url:null===d||void 0===d||null===(r=d.config)||void 0===r?void 0:r.url,method:null===d||void 0===d||null===(a=d.config)||void 0===a?void 0:a.method,baseURL:null===d||void 0===d||null===(o=d.config)||void 0===o?void 0:o.baseURL}}),h("Failed to load prompts. Please try again later.")}finally{u(!1)}})()}),[]),(0,s.useEffect)((()=>{localStorage.removeItem("essaySections"),localStorage.removeItem("essayInfo");for(let e of Object.keys(localStorage))(e.startsWith("essayContent_")||e.startsWith("sectionRequirements_")||e.startsWith("essay_")||e.includes("section"))&&localStorage.removeItem(e)}),[]);const f=e=>{r(e)};return(0,nr.jsxs)("div",{className:"flex-col space-y-5 min-h-screen flex items-center justify-center bg-purple-600 p-4",children:[(0,nr.jsx)(pr,{}),(0,nr.jsxs)("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6 space-y-6",children:[(0,nr.jsxs)("div",{className:"space-y-2",children:[(0,nr.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,nr.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>{t(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,nr.jsxs)("div",{className:"space-y-2",children:[(0,nr.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:"Post Type"}),(0,nr.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,nr.jsx)("button",{type:"button",onClick:()=>f("discussion"),className:"w-1/2 py-2 px-4 text-sm font-medium rounded-l-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:z-10 "+("discussion"===n?"bg-purple-100 text-purple-600":"bg-white text-gray-700 hover:bg-gray-50"),children:"Discussion"}),(0,nr.jsx)("button",{type:"button",onClick:()=>f("advice"),className:"w-1/2 py-2 px-4 text-sm font-medium rounded-r-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:z-10 "+("advice"===n?"bg-purple-100 text-purple-600":"bg-white text-gray-700 hover:bg-gray-50"),children:"Advice and Feedback"})]})]}),(0,nr.jsxs)("div",{className:"space-y-2",children:[(0,nr.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700",children:"Prompt"}),d&&(0,nr.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded-md",children:d}),(0,nr.jsx)("div",{className:"relative",children:c?(0,nr.jsx)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-500",children:"Loading prompts..."}):(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsxs)("select",{id:"prompt",value:o,onChange:e=>{l(e.target.value)},className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md appearance-none",children:[(0,nr.jsx)("option",{value:"",children:"Select Prompt"}),a.map((e=>(0,nr.jsx)("option",{value:e._id,children:e.topic},e._id)))]}),(0,nr.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,nr.jsx)(oa,{className:"h-4 w-4","aria-hidden":"true"})})]})}),0===a.length&&!c&&!d&&(0,nr.jsx)("p",{className:"text-sm text-gray-500",children:"No prompts available"})]}),(0,nr.jsx)("button",{type:"button",onClick:()=>{var t;const r={title:e,postType:n,prompt:(null===(t=a.find((e=>e._id===o)))||void 0===t?void 0:t.topic)||""};p("/essaybuilder",{state:{essayInfo:r}})},disabled:c||!o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white "+(c||!o?"bg-purple-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"),children:c?"Loading...":"Next"})]})]})}const la=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));const ca=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))})),ua=e=>{let{percentage:t}=e;return(0,nr.jsxs)("div",{className:"relative w-8 h-8",children:[(0,nr.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[(0,nr.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current text-purple-200",strokeWidth:"2"}),(0,nr.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current text-purple-600",strokeWidth:"2",strokeDasharray:"100",strokeDashoffset:100-t,transform:"rotate(-90 18 18)"})]}),(0,nr.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-purple-600",children:[t,"%"]})]})},da=e=>{let{title:t,percentage:n,isLast:r,onClick:a,onDelete:i,showDelete:o}=e;const s=t.toLowerCase().includes("conclusion");return(0,nr.jsxs)("div",{className:"relative",children:[(0,nr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,nr.jsxs)("button",{onClick:a,className:"flex-grow flex items-center justify-between bg-purple-600 text-white \r rounded-full py-2 px-4 z-10 relative hover:bg-purple-700 transition-colors",children:[(0,nr.jsx)("span",{children:t}),(0,nr.jsx)(ua,{percentage:n})]}),o&&(0,nr.jsx)("button",{onClick:i,className:"ml-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600","aria-label":"Delete paragraph",children:(0,nr.jsx)(la,{className:"h-5 w-5"})})]}),!s&&(0,nr.jsx)("div",{className:"absolute left-1/2 top-full w-0.5 h-4 bg-purple-600 -translate-x-1/2"})]})};function ha(){const e=ie(),t=re(),[n,r]=(0,s.useState)((()=>{var e,n;if(null!==(e=t.state)&&void 0!==e&&e.allSections){return t.state.allSections.map((e=>{const t=localStorage.getItem(`essayContent_${e.id}`),n=null!==t&&void 0!==t&&t.trim()?e.percentage||50:0;return{...e,percentage:n}}))}const r=localStorage.getItem("essaySections");if(r){return JSON.parse(r).map((e=>{const t=localStorage.getItem(`essayContent_${e.id}`),n=null!==t&&void 0!==t&&t.trim()?e.percentage||50:0;return{...e,percentage:n}}))}if(null===(n=t.state)||void 0===n||!n.essayInfo){localStorage.removeItem("essaySections"),localStorage.removeItem("essayInfo");for(let e of Object.keys(localStorage))(e.startsWith("essayContent_")||e.startsWith("sectionRequirements_")||e.startsWith("essay_")||e.includes("section"))&&localStorage.removeItem(e)}return[{id:"intro",title:"Introduction",percentage:0},{id:"conclusion",title:"Conclusion",percentage:0}]})),[a,i]=(0,s.useState)((()=>{var e;if(null!==(e=t.state)&&void 0!==e&&e.essayInfo)return t.state.essayInfo;const n=localStorage.getItem("essayInfo");return n?JSON.parse(n):{prompt:"",title:"",postType:""}}));(0,s.useEffect)((()=>{localStorage.setItem("essaySections",JSON.stringify(n))}),[n]),(0,s.useEffect)((()=>{localStorage.setItem("essayInfo",JSON.stringify(a))}),[a]),(0,s.useEffect)((()=>{const e=setInterval((()=>{r((e=>{const t=e.map((e=>{const t=localStorage.getItem(`essayContent_${e.id}`),n=null!==t&&void 0!==t&&t.trim()?e.percentage||50:0;return{...e,percentage:n}}));return JSON.stringify(t)!==JSON.stringify(e)?t:e}))}),1e3);return()=>clearInterval(e)}),[]);const o=()=>{const e={id:`body-${Date.now()}`,title:`Body Paragraph ${n.filter((e=>e.title.toLowerCase().includes("body paragraph"))).length+1}`,percentage:0,type:"body"},t=n.findIndex((e=>e.title.toLowerCase().includes("conclusion"))),a=[...n.slice(0,t),e,...n.slice(t)];r(a),localStorage.setItem("essaySections",JSON.stringify(a))};return(0,nr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-purple-600 p-4",children:(0,nr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,nr.jsx)("h1",{className:"text-2xl font-bold text-purple-600 mb-6",children:"Essay Builder"}),(0,nr.jsxs)("div",{className:"mb-4 text-sm bg-gray-100 p-3 rounded-md",children:[(0,nr.jsxs)("p",{children:[(0,nr.jsx)("strong",{children:"Prompt:"})," ",a.prompt]}),(0,nr.jsxs)("p",{children:[(0,nr.jsx)("strong",{children:"Title:"})," ",a.title]}),(0,nr.jsxs)("p",{children:[(0,nr.jsx)("strong",{children:"Post Type:"})," ",a.postType]})]}),(0,nr.jsx)("div",{className:"space-y-4",children:n.map(((t,i)=>{var l;const c=t.title.toLowerCase().includes("body paragraph"),u=t.title.toLowerCase().includes("introduction"),d=t.title.toLowerCase().includes("conclusion");return(0,nr.jsxs)(s.Fragment,{children:[(0,nr.jsx)(da,{title:t.title,percentage:t.percentage,onClick:()=>(t=>{e(`/essayblock/${n[t].id}`,{state:{section:n[t],allSections:n,sectionIndex:t,essayInfo:a}})})(i),onDelete:()=>c?(e=>{const t=n[e];localStorage.removeItem(`essayContent_${t.id}`),localStorage.removeItem(`sectionRequirements_${t.id}`);const a=n.filter(((t,n)=>n!==e)).map(((e,t)=>e.title.toLowerCase().includes("body paragraph")?{...e,title:"Body Paragraph "+(t-1)}:e));r(a),localStorage.setItem("essaySections",JSON.stringify(a))})(i):null,showDelete:c}),!d&&n.filter((e=>e.title.toLowerCase().includes("body paragraph"))).length<5&&(u&&!n.some((e=>e.title.toLowerCase().includes("body paragraph")))||c&&(null===(l=n[i+1])||void 0===l?void 0:l.title.toLowerCase().includes("conclusion")))&&(0,nr.jsxs)("div",{className:"relative",children:[(0,nr.jsxs)("button",{onClick:o,className:"w-full bg-white text-purple-600 border-2 border-dashed \r border-purple-600 rounded-full py-2 px-4 font-medium \r hover:bg-purple-100 transition-colors mb-4 flex items-center \r justify-center focus:outline-none focus:ring-2 focus:ring-purple-500 \r focus:ring-opacity-50",children:[(0,nr.jsx)(ca,{className:"w-5 h-5 mr-2"}),"Add Body Paragraph"]}),(0,nr.jsx)("div",{className:"absolute left-1/2 top-full w-0.5 h-4 bg-purple-600 -translate-x-1/2"})]})]},t.id)}))}),(0,nr.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,nr.jsx)("button",{onClick:()=>{n.forEach((e=>{localStorage.removeItem(`essayContent_${e.id}`),localStorage.removeItem(`sectionRequirements_${e.id}`)})),localStorage.removeItem("essaySections"),localStorage.removeItem("essayInfo");for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&(t.startsWith("essay")||t.startsWith("section")||t.includes("Requirements")||t.includes("Analysis"))&&localStorage.removeItem(t)}e("/essayguidance")},className:"bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 \r transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 \r focus:ring-opacity-50",children:"Cancel"}),(0,nr.jsx)("button",{onClick:()=>{e("/essayreview",{state:{allSections:n,essayInfo:a}})},className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 \r transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 \r focus:ring-opacity-50",children:"Next"})]})]})})}const pa=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}));const fa=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),s.createElement("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"}))}));const ma=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))}));const ga=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}));const ya=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}));const va=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ba=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wa={};function xa(e,t){return((t||wa).jsx?ba:va).test(e)}const _a=/[ \t\n\f\r]/g;function ka(e){return""===e.replace(_a,"")}class Sa{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Ea(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new Sa(n,r,t)}function Na(e){return e.toLowerCase()}Sa.prototype.property={},Sa.prototype.normal={},Sa.prototype.space=null;class Oa{constructor(e,t){this.property=e,this.attribute=t}}Oa.prototype.space=null,Oa.prototype.boolean=!1,Oa.prototype.booleanish=!1,Oa.prototype.overloadedBoolean=!1,Oa.prototype.number=!1,Oa.prototype.commaSeparated=!1,Oa.prototype.spaceSeparated=!1,Oa.prototype.commaOrSpaceSeparated=!1,Oa.prototype.mustUseProperty=!1,Oa.prototype.defined=!1;let ja=0;const Ca=$a(),Pa=$a(),Ta=$a(),Aa=$a(),Ia=$a(),Ra=$a(),La=$a();function $a(){return 2**++ja}const Ma=Object.keys(t);class Da extends Oa{constructor(e,n,r,a){let i=-1;if(super(e,n),Fa(this,"space",a),"number"===typeof r)for(;++i<Ma.length;){const e=Ma[i];Fa(this,Ma[i],(r&t[e])===t[e])}}}function Fa(e,t,n){n&&(e[t]=n)}Da.prototype.defined=!0;const za={}.hasOwnProperty;function Ua(e){const t={},n={};let r;for(r in e.properties)if(za.call(e.properties,r)){const a=e.properties[r],i=new Da(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Na(r)]=r,n[Na(i.attribute)]=r}return new Sa(t,n,e.space)}const Ba=Ua({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ha=Ua({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function qa(e,t){return t in e?e[t]:t}function Wa(e,t){return qa(e,t.toLowerCase())}const Va=Ua({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Wa,properties:{xmlns:null,xmlnsXLink:null}}),Za=Ua({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Pa,ariaAutoComplete:null,ariaBusy:Pa,ariaChecked:Pa,ariaColCount:Aa,ariaColIndex:Aa,ariaColSpan:Aa,ariaControls:Ia,ariaCurrent:null,ariaDescribedBy:Ia,ariaDetails:null,ariaDisabled:Pa,ariaDropEffect:Ia,ariaErrorMessage:null,ariaExpanded:Pa,ariaFlowTo:Ia,ariaGrabbed:Pa,ariaHasPopup:null,ariaHidden:Pa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ia,ariaLevel:Aa,ariaLive:null,ariaModal:Pa,ariaMultiLine:Pa,ariaMultiSelectable:Pa,ariaOrientation:null,ariaOwns:Ia,ariaPlaceholder:null,ariaPosInSet:Aa,ariaPressed:Pa,ariaReadOnly:Pa,ariaRelevant:null,ariaRequired:Pa,ariaRoleDescription:Ia,ariaRowCount:Aa,ariaRowIndex:Aa,ariaRowSpan:Aa,ariaSelected:Pa,ariaSetSize:Aa,ariaSort:null,ariaValueMax:Aa,ariaValueMin:Aa,ariaValueNow:Aa,ariaValueText:null,role:null}}),Ga=Ua({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Wa,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ra,acceptCharset:Ia,accessKey:Ia,action:null,allow:null,allowFullScreen:Ca,allowPaymentRequest:Ca,allowUserMedia:Ca,alt:null,as:null,async:Ca,autoCapitalize:null,autoComplete:Ia,autoFocus:Ca,autoPlay:Ca,blocking:Ia,capture:null,charSet:null,checked:Ca,cite:null,className:Ia,cols:Aa,colSpan:null,content:null,contentEditable:Pa,controls:Ca,controlsList:Ia,coords:Aa|Ra,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ca,defer:Ca,dir:null,dirName:null,disabled:Ca,download:Ta,draggable:Pa,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ca,formTarget:null,headers:Ia,height:Aa,hidden:Ca,high:Aa,href:null,hrefLang:null,htmlFor:Ia,httpEquiv:Ia,id:null,imageSizes:null,imageSrcSet:null,inert:Ca,inputMode:null,integrity:null,is:null,isMap:Ca,itemId:null,itemProp:Ia,itemRef:Ia,itemScope:Ca,itemType:Ia,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ca,low:Aa,manifest:null,max:null,maxLength:Aa,media:null,method:null,min:null,minLength:Aa,multiple:Ca,muted:Ca,name:null,nonce:null,noModule:Ca,noValidate:Ca,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ca,optimum:Aa,pattern:null,ping:Ia,placeholder:null,playsInline:Ca,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ca,referrerPolicy:null,rel:Ia,required:Ca,reversed:Ca,rows:Aa,rowSpan:Aa,sandbox:Ia,scope:null,scoped:Ca,seamless:Ca,selected:Ca,shadowRootClonable:Ca,shadowRootDelegatesFocus:Ca,shadowRootMode:null,shape:null,size:Aa,sizes:null,slot:null,span:Aa,spellCheck:Pa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Aa,step:null,style:null,tabIndex:Aa,target:null,title:null,translate:null,type:null,typeMustMatch:Ca,useMap:null,value:Pa,width:Aa,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ia,axis:null,background:null,bgColor:null,border:Aa,borderColor:null,bottomMargin:Aa,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ca,declare:Ca,event:null,face:null,frame:null,frameBorder:null,hSpace:Aa,leftMargin:Aa,link:null,longDesc:null,lowSrc:null,marginHeight:Aa,marginWidth:Aa,noResize:Ca,noHref:Ca,noShade:Ca,noWrap:Ca,object:null,profile:null,prompt:null,rev:null,rightMargin:Aa,rules:null,scheme:null,scrolling:Pa,standby:null,summary:null,text:null,topMargin:Aa,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Aa,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ca,disableRemotePlayback:Ca,prefix:null,property:null,results:Aa,security:null,unselectable:null}}),Ja=Ua({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:qa,properties:{about:La,accentHeight:Aa,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Aa,amplitude:Aa,arabicForm:null,ascent:Aa,attributeName:null,attributeType:null,azimuth:Aa,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Aa,by:null,calcMode:null,capHeight:Aa,className:Ia,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Aa,diffuseConstant:Aa,direction:null,display:null,dur:null,divisor:Aa,dominantBaseline:null,download:Ca,dx:null,dy:null,edgeMode:null,editable:null,elevation:Aa,enableBackground:null,end:null,event:null,exponent:Aa,externalResourcesRequired:null,fill:null,fillOpacity:Aa,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ra,g2:Ra,glyphName:Ra,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Aa,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Aa,horizOriginX:Aa,horizOriginY:Aa,id:null,ideographic:Aa,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Aa,k:Aa,k1:Aa,k2:Aa,k3:Aa,k4:Aa,kernelMatrix:La,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Aa,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Aa,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Aa,overlineThickness:Aa,paintOrder:null,panose1:null,path:null,pathLength:Aa,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ia,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Aa,pointsAtY:Aa,pointsAtZ:Aa,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:La,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:La,rev:La,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:La,requiredFeatures:La,requiredFonts:La,requiredFormats:La,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Aa,specularExponent:Aa,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Aa,strikethroughThickness:Aa,string:null,stroke:null,strokeDashArray:La,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Aa,strokeOpacity:Aa,strokeWidth:null,style:null,surfaceScale:Aa,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:La,tabIndex:Aa,tableValues:null,target:null,targetX:Aa,targetY:Aa,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:La,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Aa,underlineThickness:Aa,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Aa,values:null,vAlphabetic:Aa,vMathematical:Aa,vectorEffect:null,vHanging:Aa,vIdeographic:Aa,version:null,vertAdvY:Aa,vertOriginX:Aa,vertOriginY:Aa,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Aa,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ka=Ea([Ha,Ba,Va,Za,Ga],"html"),Xa=Ea([Ha,Ba,Va,Za,Ja],"svg"),Qa=/^data[-\w.:]+$/i,Ya=/-[a-z]/g,ei=/[A-Z]/g;function ti(e){return"-"+e.toLowerCase()}function ni(e){return e.charAt(1).toUpperCase()}const ri={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var ai=n(6999);const ii=ai.default||ai,oi=li("end"),si=li("start");function li(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function ci(e){return e&&"object"===typeof e?"position"in e||"type"in e?di(e.position):"start"in e||"end"in e?di(e):"line"in e||"column"in e?ui(e):"":""}function ui(e){return hi(e&&e.line)+":"+hi(e&&e.column)}function di(e){return ui(e&&e.start)+"-"+ui(e&&e.end)}function hi(e){return e&&"number"===typeof e?e:1}class pi extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",a={},i=!1;if(t&&(a="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!a.cause&&e&&(i=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?a.ruleId=n:(a.source=n.slice(0,e),a.ruleId=n.slice(e+1))}if(!a.place&&a.ancestors&&a.ancestors){const e=a.ancestors[a.ancestors.length-1];e&&(a.place=e.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=ci(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=i&&a.cause&&"string"===typeof a.cause.stack?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}pi.prototype.file="",pi.prototype.name="",pi.prototype.reason="",pi.prototype.message="",pi.prototype.stack="",pi.prototype.column=void 0,pi.prototype.line=void 0,pi.prototype.ancestors=void 0,pi.prototype.cause=void 0,pi.prototype.fatal=void 0,pi.prototype.place=void 0,pi.prototype.ruleId=void 0,pi.prototype.source=void 0;const fi={}.hasOwnProperty,mi=new Map,gi=/[A-Z]/g,yi=/-([a-z])/g,vi=new Set(["table","tbody","thead","tfoot","tr"]),bi=new Set(["td","th"]),wi="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xi(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,a,i){const o=Array.isArray(a.children),s=si(n);return t(r,a,i,o,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,a,i){const o=Array.isArray(a.children)?n:t;return i?o(r,a,i):o(r,a)}}(0,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Xa:Ka,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=_i(a,e,void 0);return i&&"string"!==typeof i?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function _i(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(a=Xa,e.schema=a);e.ancestors.push(t);const i=Oi(e,t.tagName,!1),o=function(e,t){const n={};let r,a;for(a in t.properties)if("children"!==a&&fi.call(t.properties,a)){const i=Ni(e,a,t.properties[a]);if(i){const[a,o]=i;e.tableCellAlignToStyle&&"align"===a&&"string"===typeof o&&bi.has(t.tagName)?r=o:n[a]=o}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let s=Ei(e,t);vi.has(t.tagName)&&(s=s.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&ka(t.value):ka(t));var t})));return ki(e,o,i,t),Si(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}ji(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.name&&"html"===r.space&&(a=Xa,e.schema=a);e.ancestors.push(t);const i=null===t.name?e.Fragment:Oi(e,t.name,!0),o=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const a=t.expression;a.type;const i=a.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else ji(e,t.position);else{const a=r.name;let i;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else ji(e,t.position);else i=null===r.value||r.value;n[a]=i}return n}(e,t),s=Ei(e,t);return ki(e,o,i,t),Si(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ji(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Si(r,Ei(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function ki(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Si(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ei(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:mi;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=a.get(e)||0;o=e+"-"+t,a.set(e,t+1)}}const s=_i(e,i,o);void 0!==s&&n.push(s)}return n}function Ni(e,t,n){const r=function(e,t){const n=Na(t);let r=t,a=Oa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Qa.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Ya,ni);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Ya.test(e)){let n=e.replace(ei,ti);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}a=Da}return new a(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){const n={};try{ii(t,r)}catch(a){if(!e.ignoreInvalidStyle){const t=a,n=new pi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wi+"#cannot-parse-style-attribute",n}}return n;function r(e,t){let r=e;"--"!==r.slice(0,2)&&("-ms-"===r.slice(0,4)&&(r="ms-"+r.slice(4)),r=r.replace(yi,Pi)),n[r]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)fi.call(e,n)&&(t[Ci(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?ri[r.property]||r.property:r.attribute,n]}}function Oi(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,a=-1;for(;++a<e.length;){const t=xa(e[a])?{type:"Identifier",name:e[a]}:{type:"Literal",value:e[a]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(a&&"Literal"===t.type),optional:!1}:t}r=n}else r=xa(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return fi.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);ji(e)}function ji(e,t){const n=new pi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wi+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ci(e){let t=e.replace(gi,Ti);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Pi(e,t){return t.toUpperCase()}function Ti(e){return"-"+e.toLowerCase()}const Ai={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ii={};function Ri(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Li(e.children,t,n)}return Array.isArray(e)?Li(e,t,n):""}function Li(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Ri(e[a],t,n);return r.join("")}function $i(e,t,n,r){const a=e.length;let i,o=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function Mi(e,t){return e.length>0?($i(e,e.length,0,t),e):t}class Di{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Fi(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fi(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fi(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Fi(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fi(this.left,t.reverse())}}}function Fi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zi(e){const t={};let n,r,a,i,o,s,l,c=-1;const u=new Di(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(s=n[1]._tokenizer.events,a=0,a<s.length&&"lineEndingBlank"===s[a][1].type&&(a+=2),a<s.length&&"content"===s[a][1].type))for(;++a<s.length&&"content"!==s[a][1].type;)"chunkText"===s[a][1].type&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Ui(u,c)),c=t[c],l=!0);else if(n[1]._container){for(a=c,r=void 0;a--&&(i=u.get(a),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=a);r&&(n[1].end=Object.assign({},u.get(r)[1].start),o=u.slice(r,c),o.unshift(n),u.splice(r,c-r+1,o))}}return $i(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Ui(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let u,d,h=-1,p=n,f=0,m=0;const g=[m];for(;p;){for(;e.get(++a)[1]!==p;);i.push(a),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=s.slice(g[h],g[h+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const Bi={}.hasOwnProperty;function Hi(e,t){let n;for(n in t){const r=(Bi.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){Bi.call(r,i)||(r[i]=[]);const e=a[i];qi(r[i],Array.isArray(e)?e:e?[e]:[])}}}function qi(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);$i(e,0,0,r)}const Wi=ro(/[A-Za-z]/),Vi=ro(/[\dA-Za-z]/),Zi=ro(/[#-'*+\--9=?A-Z^-~]/);function Gi(e){return null!==e&&(e<32||127===e)}const Ji=ro(/\d/),Ki=ro(/[\dA-Fa-f]/),Xi=ro(/[!-/:-@[-`{-~]/);function Qi(e){return null!==e&&e<-2}function Yi(e){return null!==e&&(e<0||32===e)}function eo(e){return-2===e||-1===e||32===e}const to=ro(/\p{P}|\p{S}/u),no=ro(/\s/);function ro(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function ao(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(eo(r))return e.enter(n),o(r);return t(r)};function o(r){return eo(r)&&i++<a?(e.consume(r),o):(e.exit(n),t(r))}}const io={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ao(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,a(t)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Qi(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),a)}}};const oo={tokenize:function(e){const t=this,n=[];let r,a,i,o=0;return s;function s(r){if(o<n.length){const a=n[o];return t.containerState=a[1],e.attempt(a[0].continuation,l,c)(r)}return c(r)}function l(e){if(o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let a,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){a=t.events[i][1].end;break}y(o);let s=n;for(;s<t.events.length;)t.events[s][1].end=Object.assign({},a),s++;return $i(t.events,i+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(a){if(o===n.length){if(!r)return h(a);if(r.currentConstruct&&r.currentConstruct.concrete)return f(a);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(so,u,d)(a)}function u(e){return r&&v(),y(o),h(e)}function d(e){return t.parser.lazy[t.now().line]=o!==n.length,i=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(so,p,f)(n)}function p(e){return o++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(r&&v(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:r}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):Qi(n)?(e.consume(n),g(e.exit("chunkFlow")),o=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=a,a&&(a.next=e),a=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let a,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(a){s=t.events[l][1].end;break}a=!0}for(y(o),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},s),e++;$i(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let a=n.length;for(;a-- >r;){const r=n[a];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),a=void 0,r=void 0,t.containerState._closeFlow=void 0}}},so={tokenize:function(e,t,n){return ao(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const lo={tokenize:function(e,t,n){return function(t){return eo(t)?ao(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Qi(e)?t(e):n(e)}},partial:!0};const co={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?a(t):Qi(t)?e.check(uo,i,a)(t):(e.consume(t),r)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return zi(e),e}},uo={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ao(e,a,"linePrefix")};function a(a){if(null===a||Qi(a))return n(a);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}},partial:!0};const ho={tokenize:function(e){const t=this,n=e.attempt(lo,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,ao(e,e.attempt(this.parser.constructs.flow,r,e.attempt(co,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const po={resolveAll:yo()},fo=go("string"),mo=go("text");function go(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],a=t.attempt(r,i,o);return i;function i(e){return l(e)?a(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),a(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let a=-1;if(t)for(;++a<t.length;){const e=t[a];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:yo("text"===e?vo:void 0)}}function yo(e){return function(t,n){let r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function vo(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],a=t.sliceStream(r);let i,o=a.length,s=-1,l=0;for(;o--;){const e=a[o];if("string"===typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)i=!0,l++;else if(-1!==e){o++;break}}if(l){const a={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},a.start),r.start.offset===r.end.offset?Object.assign(r,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}function bo(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}function wo(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},i=[];let o=[],s=[],l=!0;const c={consume:function(e){Qi(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=f(),u.events.push(["exit",t,u]),t},attempt:v((function(e,t){b(e,t.from)})),check:v(y),interrupt:v(y,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if("string"===typeof i)o=i;else switch(i){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&a)continue;o=" ";break;default:o=String.fromCharCode(i)}a=-2===i,r.push(o)}return r.join("")}(p(e),t)},now:f,defineSkip:function(e){a[e.line]=e.column,w()},write:function(e){if(o=Mi(o,e),m(),null!==o[o.length-1])return[];return b(t,0),u.events=bo(i,u.events,u),u.events}};let d,h=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function p(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const e=o[0];"string"===typeof e?o[0]=e.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}(o,e)}function f(){const{line:e,column:t,offset:n,_index:a,_bufferIndex:i}=r;return{line:e,column:t,offset:n,_index:a,_bufferIndex:i}}function m(){let e;for(;r._index<o.length;){const t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,d=e,h=h(e)}function y(e,t){t.restore()}function v(e,t){return function(n,a,i){let o,d,h,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return o=e,d=0,0===e.length?i:g(e[d])}function g(e){return function(n){p=function(){const e=f(),t=u.previous,n=u.currentConstruct,a=u.events.length,i=Array.from(s);return{restore:o,from:a};function o(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=a,s=i,w()}}(),h=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,y,v)(n)}}function y(t){return l=!0,e(h,p),a}function v(e){return l=!0,p.restore(),++d<o.length?g(o[d]):i}}}function b(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&$i(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function w(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}const xo={name:"thematicBreak",tokenize:function(e,t,n){let r,a=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),o(i)):a>=3&&(null===i||Qi(i))?(e.exit("thematicBreak"),t(i)):n(i)}function o(t){return t===r?(e.consume(t),a++,o):(e.exit("thematicBreakSequence"),eo(t)?ao(e,i,"whitespace")(t):i(t))}}};const _o={name:"list",tokenize:function(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,o=0;return function(t){const a=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!r.containerState.marker||t===r.containerState.marker:Ji(t)){if(r.containerState.type||(r.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(xo,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Ji(t)&&++o<10?(e.consume(t),s):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(lo,r.interrupt?n:c,e.attempt(ko,d,u))}function c(e){return r.containerState.initialBlankLine=!0,i++,d(e)}function u(t){return eo(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(lo,a,i);function a(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ao(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!eo(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(So,t,o)(n))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ao(e,e.attempt(_o,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)}},ko={tokenize:function(e,t,n){const r=this;return ao(e,(function(e){const a=r.events[r.events.length-1];return!eo(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},So={tokenize:function(e,t,n){const r=this;return ao(e,(function(e){const a=r.events[r.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Eo={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return n(t)};function a(n){return eo(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(eo(t))return ao(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return a(t)};function a(r){return e.attempt(Eo,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function No(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(a),e.enter(i),e.consume(t),e.exit(i),d;if(null===t||32===t||41===t||Gi(t))return n(t);return e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(t)};function d(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||Qi(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(a){return u||null!==a&&41!==a&&!Yi(a)?u<c&&40===a?(e.consume(a),u++,f):41===a?(e.consume(a),u--,f):null===a||32===a||40===a||Gi(a)?n(a):(e.consume(a),92===a?m:f):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(a))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Oo(e,t,n,r,a,i){const o=this;let s,l=0;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),e.enter(i),c};function c(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):93===d?(e.exit(i),e.enter(a),e.consume(d),e.exit(a),e.exit(r),t):Qi(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Qi(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!eo(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function jo(e,t,n,r,a,i){let o;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(a),e.consume(t),e.exit(a),o=40===t?41:t,s;return n(t)};function s(n){return n===o?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===o?(e.exit(i),s(o)):null===t?n(t):Qi(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ao(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===o||null===t||Qi(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===o||92===t?(e.consume(t),c):c(t)}}function Co(e,t){let n;return function r(a){if(Qi(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r;if(eo(a))return ao(e,r,n?"linePrefix":"lineSuffix")(a);return t(a)}}function Po(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const To={name:"definition",tokenize:function(e,t,n){const r=this;let a;return function(t){return e.enter("definition"),function(t){return Oo.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return a=Po(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o):n(t)}function o(t){return Yi(t)?Co(e,s)(t):s(t)}function s(t){return No(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Ao,c,c)(t)}function c(t){return eo(t)?ao(e,u,"whitespace")(t):u(t)}function u(i){return null===i||Qi(i)?(e.exit("definition"),r.parser.defined.push(a),t(i)):n(i)}}},Ao={tokenize:function(e,t,n){return function(t){return Yi(t)?Co(e,r)(t):n(t)};function r(t){return jo(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function a(t){return eo(t)?ao(e,i,"whitespace")(t):i(t)}function i(e){return null===e||Qi(e)?t(e):n(e)}},partial:!0};const Io={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),ao(e,a,"linePrefix",5)(t)};function a(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?s(t):Qi(t)?e.attempt(Ro,i,s)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||Qi(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),o)}function s(n){return e.exit("codeIndented"),t(n)}}},Ro={tokenize:function(e,t,n){const r=this;return a;function a(t){return r.parser.lazy[r.now().line]?n(t):Qi(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):ao(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):Qi(e)?a(e):n(e)}},partial:!0};const Lo={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),a(t)}(t)};function a(t){return 35===t&&r++<6?(e.consume(t),a):null===t||Yi(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),o(n)):null===n||Qi(n)?(e.exit("atxHeading"),t(n)):eo(n)?ao(e,i,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function o(t){return 35===t?(e.consume(t),o):(e.exit("atxHeadingSequence"),i(t))}function s(t){return null===t||35===t||Yi(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),s)}},resolve:function(e,t){let n,r,a=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);a-2>i&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(i===a-1||a-4>i&&"whitespace"===e[a-2][1].type)&&(a-=i+1===a?2:4);a>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[a][1].end},r={type:"chunkText",start:e[i][1].start,end:e[a][1].end,contentType:"text"},$i(e,i,a-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const $o={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let a;return function(t){let o,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){o="paragraph"===r.events[s][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return e.enter("setextHeadingLine"),a=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===a?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),eo(t)?ao(e,o,"lineSuffix")(t):o(t))}function o(r){return null===r||Qi(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,a,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),a||"definition"!==e[i][1].type||(a=i);const o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[a][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};const Mo=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Do=["pre","script","style","textarea"],Fo={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let a,i,o,s,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),i=!0,p):63===s?(e.consume(s),a=3,r.interrupt?t:R):Wi(s)?(e.consume(s),o=String.fromCharCode(s),f):n(s)}function u(i){return 45===i?(e.consume(i),a=2,d):91===i?(e.consume(i),a=5,s=0,h):Wi(i)?(e.consume(i),a=4,r.interrupt?t:R):n(i)}function d(a){return 45===a?(e.consume(a),r.interrupt?t:R):n(a)}function h(a){const i="CDATA[";return a===i.charCodeAt(s++)?(e.consume(a),6===s?r.interrupt?t:N:h):n(a)}function p(t){return Wi(t)?(e.consume(t),o=String.fromCharCode(t),f):n(t)}function f(s){if(null===s||47===s||62===s||Yi(s)){const l=47===s,c=o.toLowerCase();return l||i||!Do.includes(c)?Mo.includes(o.toLowerCase())?(a=6,l?(e.consume(s),m):r.interrupt?t(s):N(s)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):i?g(s):y(s)):(a=1,r.interrupt?t(s):N(s))}return 45===s||Vi(s)?(e.consume(s),o+=String.fromCharCode(s),f):n(s)}function m(a){return 62===a?(e.consume(a),r.interrupt?t:N):n(a)}function g(t){return eo(t)?(e.consume(t),g):S(t)}function y(t){return 47===t?(e.consume(t),S):58===t||95===t||Wi(t)?(e.consume(t),v):eo(t)?(e.consume(t),y):S(t)}function v(t){return 45===t||46===t||58===t||95===t||Vi(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),w):eo(t)?(e.consume(t),b):y(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):eo(t)?(e.consume(t),w):_(t)}function x(t){return t===l?(e.consume(t),l=null,k):null===t||Qi(t)?n(t):(e.consume(t),x)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Yi(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||eo(e)?y(e):n(e)}function S(t){return 62===t?(e.consume(t),E):n(t)}function E(t){return null===t||Qi(t)?N(t):eo(t)?(e.consume(t),E):n(t)}function N(t){return 45===t&&2===a?(e.consume(t),P):60===t&&1===a?(e.consume(t),T):62===t&&4===a?(e.consume(t),L):63===t&&3===a?(e.consume(t),R):93===t&&5===a?(e.consume(t),I):!Qi(t)||6!==a&&7!==a?null===t||Qi(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),N):(e.exit("htmlFlowData"),e.check(zo,$,O)(t))}function O(t){return e.check(Uo,j,$)(t)}function j(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||Qi(t)?O(t):(e.enter("htmlFlowData"),N(t))}function P(t){return 45===t?(e.consume(t),R):N(t)}function T(t){return 47===t?(e.consume(t),o="",A):N(t)}function A(t){if(62===t){const n=o.toLowerCase();return Do.includes(n)?(e.consume(t),L):N(t)}return Wi(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),A):N(t)}function I(t){return 93===t?(e.consume(t),R):N(t)}function R(t){return 62===t?(e.consume(t),L):45===t&&2===a?(e.consume(t),R):N(t)}function L(t){return null===t||Qi(t)?(e.exit("htmlFlowData"),$(t)):(e.consume(t),L)}function $(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},zo={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(lo,t,n)}},partial:!0},Uo={tokenize:function(e,t,n){const r=this;return function(t){if(Qi(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a;return n(t)};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const Bo={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},Ho={name:"codeFenced",tokenize:function(e,t,n){const r=this,a={tokenize:function(e,t,n){let a=0;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),eo(t)?ao(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===i?(a++,e.consume(t),u):a>=s?(e.exit("codeFencedFenceSequence"),eo(t)?ao(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Qi(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let i,o=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return o=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(s++,e.consume(t),l):s<3?n(t):(e.exit("codeFencedFenceSequence"),eo(t)?ao(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Qi(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(Bo,p,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Qi(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):eo(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ao(e,d,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),u)}function d(t){return null===t||Qi(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Qi(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),h)}function p(t){return e.attempt(a,v,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return o>0&&eo(t)?ao(e,g,"linePrefix",o+1)(t):g(t)}function g(t){return null===t||Qi(t)?e.check(Bo,p,v)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||Qi(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function v(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const qo=document.createElement("i");function Wo(e){const t="&"+e+";";qo.innerHTML=t;const n=qo.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const Vo={name:"characterReference",tokenize:function(e,t,n){const r=this;let a,i,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),a=31,i=Vi,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,i=Ki,c):(e.enter("characterReferenceValue"),a=7,i=Ji,c(t))}function c(s){if(59===s&&o){const a=e.exit("characterReferenceValue");return i!==Vi||Wo(r.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return i(s)&&o++<a?(e.consume(s),c):n(s)}}};const Zo={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Xi(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const Go={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ao(e,t,"linePrefix")}}};const Jo={name:"labelEnd",tokenize:function(e,t,n){const r=this;let a,i,o=r.events.length;for(;o--;)if(("labelImage"===r.events[o][1].type||"labelLink"===r.events[o][1].type)&&!r.events[o][1]._balanced){a=r.events[o][1];break}return function(t){if(!a)return n(t);if(a._inactive)return u(t);return i=r.parser.defined.includes(Po(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s};function s(t){return 40===t?e.attempt(Ko,c,i?c:u)(t):91===t?e.attempt(Xo,c,i?l:u)(t):i?c(t):u(t)}function l(t){return e.attempt(Qo,c,u)(t)}function c(e){return t(e)}function u(e){return a._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,a,i,o=e.length,s=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(a){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(a=o);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[a][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[a-2][1].start)};return i=[["enter",l,t],["enter",c,t]],i=Mi(i,e.slice(r+1,r+s+3)),i=Mi(i,[["enter",u,t]]),i=Mi(i,bo(t.parser.constructs.insideSpan.null,e.slice(r+s+4,a-3),t)),i=Mi(i,[["exit",u,t],e[a-2],e[a-1],["exit",c,t]]),i=Mi(i,e.slice(a+1)),i=Mi(i,[["exit",l,t]]),$i(e,r,e.length,i),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},Ko={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Yi(t)?Co(e,a)(t):a(t)}function a(t){return 41===t?c(t):No(e,i,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return Yi(t)?Co(e,s)(t):c(t)}function o(e){return n(e)}function s(t){return 34===t||39===t||40===t?jo(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return Yi(t)?Co(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Xo={tokenize:function(e,t,n){const r=this;return function(t){return Oo.call(r,e,a,i,"reference","referenceMarker","referenceString")(t)};function a(e){return r.parser.defined.includes(Po(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},Qo={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Yo={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Jo.resolveAll};function es(e){return null===e||Yi(e)||no(e)?1:to(e)?2:void 0}const ts={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=es(r);let i;return function(t){return i=t,e.enter("attentionSequence"),o(t)};function o(s){if(s===i)return e.consume(s),o;const l=e.exit("attentionSequence"),c=es(s),u=!c||2===c&&a||n.includes(s),d=!a||2===a&&c||n.includes(r);return l._open=Boolean(42===i?u:u&&(a||!d)),l._close=Boolean(42===i?d:d&&(c||!u)),t(s)}},resolveAll:function(e,t){let n,r,a,i,o,s,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[u][1].start);ns(d,-s),ns(h,s),i={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},o={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:h},a={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},i.start),e[u][1].start=Object.assign({},o.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Mi(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Mi(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",a,t]]),l=Mi(l,bo(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Mi(l,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Mi(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,$i(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function ns(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rs={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return Wi(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||Vi(e)?(r=1,o(e)):l(e)}function o(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||Vi(t))&&r++<32?(e.consume(t),o):(r=0,l(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Gi(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),c):Zi(t)?(e.consume(t),l):n(t)}function c(e){return Vi(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Vi(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const as={name:"htmlText",tokenize:function(e,t,n){const r=this;let a,i,o;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):Wi(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,p):Wi(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Qi(t)?(o=u,A(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?T(e):45===e?d(e):u(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):Qi(t)?(o=f,A(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?T(t):93===t?(e.consume(t),g):f(t)}function y(t){return null===t||62===t?T(t):Qi(t)?(o=y,A(t)):(e.consume(t),y)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):Qi(t)?(o=v,A(t)):(e.consume(t),v)}function b(e){return 62===e?T(e):v(e)}function w(t){return Wi(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Vi(t)?(e.consume(t),x):_(t)}function _(t){return Qi(t)?(o=_,A(t)):eo(t)?(e.consume(t),_):T(t)}function k(t){return 45===t||Vi(t)?(e.consume(t),k):47===t||62===t||Yi(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),T):58===t||95===t||Wi(t)?(e.consume(t),E):Qi(t)?(o=S,A(t)):eo(t)?(e.consume(t),S):T(t)}function E(t){return 45===t||46===t||58===t||95===t||Vi(t)?(e.consume(t),E):N(t)}function N(t){return 61===t?(e.consume(t),O):Qi(t)?(o=N,A(t)):eo(t)?(e.consume(t),N):S(t)}function O(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,j):Qi(t)?(o=O,A(t)):eo(t)?(e.consume(t),O):(e.consume(t),C)}function j(t){return t===a?(e.consume(t),a=void 0,P):null===t?n(t):Qi(t)?(o=j,A(t)):(e.consume(t),j)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Yi(t)?S(t):(e.consume(t),C)}function P(e){return 47===e||62===e||Yi(e)?S(e):n(e)}function T(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function A(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return eo(t)?ao(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):R(t)}function R(t){return e.enter("htmlTextData"),o(t)}}};const is={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Jo.resolveAll};const os={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Qi(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const ss={name:"codeText",tokenize:function(e,t,n){let r,a,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),i++,o):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(a=e.enter("codeTextSequence"),r=0,c(t)):Qi(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Qi(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,a=3;if(("lineEnding"===e[a][1].type||"space"===e[a][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=a;++t<r;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[r][1].type="codeTextPadding",a+=2,r-=2;break}t=a-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const ls={42:_o,43:_o,45:_o,48:_o,49:_o,50:_o,51:_o,52:_o,53:_o,54:_o,55:_o,56:_o,57:_o,62:Eo},cs={91:To},us={[-2]:Io,[-1]:Io,32:Io},ds={35:Lo,42:xo,45:[$o,xo],60:Fo,61:$o,95:xo,96:Ho,126:Ho},hs={38:Vo,92:Zo},ps={[-5]:Go,[-4]:Go,[-3]:Go,33:Yo,38:Vo,42:ts,60:[rs,as],91:is,92:[os,Zo],93:Jo,95:ts,96:ss},fs={null:[ts,po]},ms={null:[42,95]},gs={null:[]};function ys(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)Hi(t,e[n]);return t}([r,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:t,content:a(io),document:a(oo),flow:a(ho),string:a(fo),text:a(mo)};return n;function a(e){return function(t){return wo(n,e,t)}}}const vs=/[\0\t\n\r]/g;function bs(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const ws=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xs(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return bs(n.slice(t?2:1),t?16:10)}return Wo(n)||e}const _s={}.hasOwnProperty;function ks(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:E,autolinkEmail:E,atxHeading:i(X),blockQuote:i(V),characterEscape:E,characterReference:E,codeFenced:i(Z),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Z,o),codeText:i(G,o),codeTextData:E,data:E,codeFlowValue:E,definition:i(J),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(K),hardBreakEscape:i(Q),hardBreakTrailing:i(Q),htmlFlow:i(Y,o),htmlFlowData:E,htmlText:i(Y,o),htmlTextData:E,image:i(ee),label:o,link:i(te),listItem:i(re),listItemValue:h,listOrdered:i(ne,d),listUnordered:i(ne),paragraph:i(ae),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(X),strong:i(ie),thematicBreak:i(se)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:W,autolinkProtocol:q,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:B,characterReference:H,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:N,codeIndented:l(y),codeText:l(T),codeTextData:N,data:N,definition:l(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(j),hardBreakTrailing:l(j),htmlFlow:l(C),htmlFlowData:N,htmlText:l(P),htmlTextData:N,image:l(I),label:L,labelText:R,lineEnding:O,link:l(A),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:$,resourceTitleString:M,resource:D,setextHeading:l(S),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};Es(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=a(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];_s.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},i),e[d][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||Os).call(i,void 0,e[0])}for(r.position={start:Ss(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Ss(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function a(e,t,n){let r,a,i,o,s=t-1,l=-1,c=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,o=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||o||l||i||(i=s),o=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:o=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let o=s;for(a=void 0;o--;){const t=e[o];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;a&&(e[a][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",a=o}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!a||i<a)&&(r._spread=!0),r.end=Object.assign({},a?e[a][1].start:t[1].end),e.splice(a||s,0,["exit",r,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const a={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=a,e.splice(s,0,["enter",a,t[2]]),s++,n++,i=void 0,o=!0}}}return e[t][1]._spread=c,n}function i(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:Ss(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+ci({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Os).call(this,e,r[0])}n.position.end=Ss(e.end)}function u(){return function(e,t){const n=t||Ii;return Ri(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Po(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function x(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function E(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=oe(),n.position={start:Ss(e.start),end:void 0},t.push(n)),this.stack.push(n)}function N(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Ss(e.end)}function O(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Ss(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(E.call(this,e),N.call(this,e))}function j(){this.data.atHardBreak=!0}function C(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function I(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(ws,xs)}(t),n.identifier=Po(t).toLowerCase()}function L(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function $(){const e=this.resume();this.stack[this.stack.length-1].url=e}function M(){const e=this.resume();this.stack[this.stack.length-1].title=e}function D(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Po(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function U(e){this.data.characterReferenceType=e.type}function B(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=bs(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Wo(t)}this.stack[this.stack.length-1].value+=r}function H(e){this.stack.pop().position.end=Ss(e.end)}function q(e){N.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){N.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function V(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function Y(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function se(){return{type:"thematicBreak"}}}(n)(function(e){for(;!zi(e););return e}(ys(n).document().write(function(){let e,t=1,n="",r=!0;return function(a,i,o){const s=[];let l,c,u,d,h;for(a=n+("string"===typeof a?a.toString():new TextDecoder(i||void 0).decode(a)),u=0,n="",r&&(65279===a.charCodeAt(0)&&u++,r=void 0);u<a.length;){if(vs.lastIndex=u,l=vs.exec(a),d=l&&void 0!==l.index?l.index:a.length,h=a.charCodeAt(d),!l){n=a.slice(u);break}if(10===h&&u===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),u<d&&(s.push(a.slice(u,d)),t+=d-u),h){case 0:s.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),s.push(-2);t++<c;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return o&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))}function Ss(e){return{line:e.line,column:e.column,offset:e.offset}}function Es(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Es(e,r):Ns(e,r)}}function Ns(e,t){let n;for(n in t)if(_s.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Os(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ci({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ci({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ci({start:t.start,end:t.end})+") is still open")}function js(e){const t=this;t.parser=function(n){return ks(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Cs="object"===typeof self?self:globalThis,Ps=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case 0:case-1:return n(o,a);case 1:{const e=n([],a);for(const t of o)e.push(r(t));return e}case 2:{const e=n({},a);for(const[t,n]of o)e[r(t)]=r(n);return e}case 3:return n(new Date(o),a);case 4:{const{source:e,flags:t}=o;return n(new RegExp(e,t),a)}case 5:{const e=n(new Map,a);for(const[t,n]of o)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,a);for(const t of o)e.add(r(t));return e}case 7:{const{name:e,message:t}=o;return n(new Cs[e](t),a)}case 8:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a)}return n(new Cs[i](o),a)};return r})(new Map,e)(0),Ts="",{toString:As}={},{keys:Is}=Object,Rs=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=As.call(e).slice(8,-1);switch(n){case"Array":return[1,Ts];case"Object":return[2,Ts];case"Date":return[3,Ts];case"RegExp":return[4,Ts];case"Map":return[5,Ts];case"Set":return[6,Ts]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Ls=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},$s=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const a=(e,t)=>{const a=r.push(e)-1;return n.set(t,a),a},i=r=>{if(n.has(r))return n.get(r);let[o,s]=Rs(r);switch(o){case 0:{let t=r;switch(s){case"bigint":o=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return a([-1],r)}return a([o,t],r)}case 1:{if(s)return a([s,[...r]],r);const e=[],t=a([o,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(s)switch(s){case"BigInt":return a([s,r.toString()],r);case"Boolean":case"Number":case"String":return a([s,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=a([o,n],r);for(const t of Is(r))!e&&Ls(Rs(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return a([o,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return a([o,{source:e,flags:t}],r)}case 5:{const t=[],n=a([o,t],r);for(const[a,o]of r)(e||!Ls(Rs(a))&&!Ls(Rs(o)))&&t.push([i(a),i(o)]);return n}case 6:{const t=[],n=a([o,t],r);for(const a of r)!e&&Ls(Rs(a))||t.push(i(a));return n}}const{message:l}=r;return a([o,{name:s,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},Ms="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Ps($s(e,t)):structuredClone(e):(e,t)=>Ps($s(e,t));function Ds(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(37===i&&Vi(e.charCodeAt(n+1))&&Vi(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(o=String.fromCharCode(i,t),a=1):o="\ufffd"}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Fs(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zs(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Us=function(e){if(null===e||void 0===e)return Hs;if("function"===typeof e)return Bs(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Us(e[n]);return Bs(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return Bs(n);function n(n){const r=n;let a;for(a in e)if(r[a]!==t[a])return!1;return!0}}(e);if("string"===typeof e)return function(e){return Bs(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Bs(e){return function(t,n,r){return Boolean(qs(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function Hs(){return!0}function qs(e){return null!==e&&"object"===typeof e&&"type"in e}const Ws=[],Vs=!0,Zs=!1,Gs="skip";function Js(e,t,n,r){let a;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):a=t;const i=Us(a),o=r?-1:1;!function e(a,s,l){const c=a&&"object"===typeof a?a:{};if("string"===typeof c.type){const e="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=Ws;if((!t||i(a,s,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Vs,e];return null===e||void 0===e?Ws:[e]}(n(a,l)),h[0]===Zs))return h;if("children"in a&&a.children){const t=a;if(t.children&&h[0]!==Gs)for(u=(r?t.children.length:-1)+o,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Zs)return c;u="number"===typeof c[1]?c[1]:u+o}}return h}}(e,void 0,[])()}function Ks(e,t,n,r){let a,i,o;"function"===typeof t&&"function"!==typeof n?(i=void 0,o=t,a=n):(i=t,o=n,a=r),Js(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)}),a)}function Xs(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&"text"===i.type?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&"text"===o.type?o.value+=r:a.push({type:"text",value:r}),a}function Qs(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}const Ys=9,el=32;function tl(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(nl(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(nl(t.slice(a),a>0,!1)),i.join("")}function nl(e,t,n){let r=0,a=e.length;if(t){let t=e.codePointAt(r);for(;t===Ys||t===el;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(a-1);for(;t===Ys||t===el;)a--,t=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}const rl={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Ds(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Xs(e,t);const a={src:Ds(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:Ds(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Xs(e,t);const a={href:Ds(r.url||"")};null!==r.title&&void 0!==r.title&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:Ds(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),a=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Qs(n[r])}return t}(n):Qs(t),i={},o=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(a||0!==s||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||a?o.push(e):o.push(...e.children)}const l=r[r.length-1];l&&(a||"element"!==l.type||"p"!==l.tagName)&&o.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let a=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++a<r.length;){const e=r[a];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),a.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=si(t.children[1]),o=oi(t.children[t.children.length-1]);i&&o&&(r.position={start:i,end:o}),a.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,a=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const n=t.children[s],r={},o=i?i[s]:void 0;o&&(r.align=o);let c={type:"element",tagName:a,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:tl(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:al,yaml:al,definition:al,footnoteDefinition:al};function al(){}const il={}.hasOwnProperty,ol={};function sl(e,t){e.position&&(t.position=function(e){const t=si(e),n=oi(e);if(t&&n)return{start:t,end:n}}(e))}function ll(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,a=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&a&&Object.assign(n.properties,Ms(a)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function cl(e,t){const n=t.data||{},r=!("value"in t)||il.call(n,"hProperties")||il.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function ul(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function dl(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function hl(e,t){const n=function(e,t){const n=t||ol,r=new Map,a=new Map,i=new Map,o={...rl,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const a=s.one(n[r],e);if(a){if(r&&"break"===n[r-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=dl(a.value)),!Array.isArray(a)&&"element"===a.type)){const e=a.children[0];e&&"text"===e.type&&(e.value=dl(e.value))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t},applyData:ll,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:function(e,t){const n=e.type,r=s.handlers[n];if(il.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=Ms(n);return r.children=s.all(e),r}return Ms(e)}return(s.options.unknownHandler||cl)(s,e,t)},options:n,patch:sl,wrap:ul};return Ks(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:a,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),s}(e,t),r=n.one(e,void 0),a=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Fs,r=e.options.footnoteBackLabel||zs,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const a=e.footnoteById.get(e.footnoteOrder[l]);if(!a)continue;const i=e.all(a),o=String(a.identifier).toUpperCase(),c=Ds(o.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(o);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,u);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=i[i.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else i.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(a,f),s.push(f)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ms(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:"\n"},a),i}function pl(e,t){return e&&"run"in e?async function(n,r){const a=hl(n,{file:r,...t});await e.run(a,r)}:function(n,r){return hl(n,{file:r,...e||t})}}function fl(e){if(e)throw e}var ml=n(755);function gl(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yl(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let a=-1;const i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);!function t(r){const o=e[++a];let s=-1;if(r)i(r);else{for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];for(;++s<n.length;)null!==c[s]&&void 0!==c[s]||(c[s]=n[s]);n=c,o?function(e,t){let n;return a;function a(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(r){if(l&&n)throw r;return i(r)}l||(c&&c.then&&"function"===typeof c.then?c.then(o,i):c instanceof Error?i(c):o(c))}function i(e){if(!n){n=!0;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t(e,...a)}}function o(e){i(null,e)}}(o,t)(...c):i(null,...c)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const vl={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');bl(e);let n,r=0,a=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(a=i):(s=-1,a=o));r===a?a=o:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(bl(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){bl(e);let t,n=e.length,r=-1,a=0,i=-1,o=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?i<0?i=n:1!==o&&(o=1):i>-1&&(o=-1);else if(t){a=n+1;break}}if(i<0||r<0||0===o||1===o&&i===r-1&&i===a+1)return"";return e.slice(i,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++t<r.length;)bl(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){bl(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,a="",i=0,o=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===s);else if(o!==l-1&&2===s){if(a.length<2||2!==i||46!==a.codePointAt(a.length-1)||46!==a.codePointAt(a.length-2))if(a.length>2){if(r=a.lastIndexOf("/"),r!==a.length-1){r<0?(a="",i=0):(a=a.slice(0,r),i=a.length-1-a.lastIndexOf("/")),o=l,s=0;continue}}else if(a.length>0){a="",i=0,o=l,s=0;continue}t&&(a=a.length>0?a+"/..":"..",i=2)}else a.length>0?a+="/"+e.slice(o+1,l):a=e.slice(o+1,l),i=l-o-1;o=l,s=0}else 46===n&&s>-1?s++:s=-1}return a}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function bl(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wl={cwd:function(){return"/"}};function xl(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function _l(e){if("string"===typeof e)e=new URL(e);else if(!xl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const kl=["history","path","basename","stem","extname","dirname"];class Sl{constructor(e){let t;t=e?xl(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":wl.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<kl.length;){const e=kl[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)kl.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?vl.basename(this.path):void 0}set basename(e){Nl(e,"basename"),El(e,"basename"),this.path=vl.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?vl.dirname(this.path):void 0}set dirname(e){Ol(this.basename,"dirname"),this.path=vl.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?vl.extname(this.path):void 0}set extname(e){if(El(e,"extname"),Ol(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xl(e)&&(e=_l(e)),Nl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?vl.basename(this.path,this.extname):void 0}set stem(e){Nl(e,"stem"),El(e,"stem"),this.path=vl.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new pi(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function El(e,t){if(e&&e.includes(vl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vl.sep+"`")}function Nl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ol(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const jl=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Cl={}.hasOwnProperty;class Pl extends jl{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yl()}copy(){const e=new Pl;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(ml(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Rl("data",this.frozen),this.namespace[e]=t,this):Cl.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Rl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ml(e),n=this.parser||this.Parser;return Al("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Al("process",this.parser||this.Parser),Il("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,a){const i=Ml(e),o=n.parse(i);function s(e,n){e||!n?a(e):r?r(n):t(void 0,n)}n.run(o,i,(function(e,t,r){if(e||!t||!r)return s(e);const a=t,i=n.stringify(a,r);var o;"string"===typeof(o=i)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(o)?r.value=i:r.result=i,s(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),Al("processSync",this.parser||this.Parser),Il("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,fl(e),t=r})),$l("processSync","process",n),t}run(e,t,n){Ll(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?a(void 0,n):new Promise(a);function a(a,i){const o=Ml(t);r.run(e,o,(function(t,r,o){const s=r||e;t?i(t):a?a(s):n(void 0,s,o)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){fl(e),n=t,r=!0})),$l("runSync","run",r),n}stringify(e,t){this.freeze();const n=Ml(t),r=this.compiler||this.Compiler;return Il("stringify",r),Ll(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Rl("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];c(e,a)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):s(e)}return this;function o(e){if("function"===typeof e)c(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else s(e)}}function s(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=ml(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){o(e[t])}}}function c(e,n){let r=-1,a=-1;for(;++r<t.length;)if(t[r][0]===e){a=r;break}if(-1===a)t.push([e,...n]);else if(n.length>0){let[r,...i]=n;const o=t[a][1];gl(o)&&gl(r)&&(r=ml(!0,o,r)),t[a]=[e,r,...i]}}}}const Tl=(new Pl).freeze();function Al(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Il(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Rl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ll(e){if(!gl(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function $l(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ml(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Sl(e)}const Dl=[],Fl={allowDangerousHtml:!0},zl=/^(https?|ircs?|mailto|xmpp)$/i,Ul=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Bl(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",a=e.className,i=e.components,o=e.disallowedElements,s=e.rehypePlugins||Dl,l=e.remarkPlugins||Dl,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fl}:Fl,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||Hl,p=Tl().use(js).use(l).use(pl,c).use(s),f=new Sl;"string"===typeof r&&(f.value=r);for(const y of Ul)Object.hasOwn(e,y.from)&&(y.from,y.to&&y.to,y.id);const m=p.parse(f);let g=p.runSync(m,f);return a&&(g={type:"element",tagName:"div",properties:{className:a},children:"root"===g.type?g.children:[g]}),Ks(g,(function(e,r,a){if("raw"===e.type&&a&&"number"===typeof r)return u?a.children.splice(r,1):a.children[r]={type:"text",value:e.value},r;if("element"===e.type){let t;for(t in Ai)if(Object.hasOwn(Ai,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Ai[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=h(String(n||""),t,e))}}if("element"===e.type){let i=t?!t.includes(e.tagName):!!o&&o.includes(e.tagName);if(!i&&n&&"number"===typeof r&&(i=!n(e,r,a)),i&&a&&"number"===typeof r)return d&&e.children?a.children.splice(r,1,...e.children):a.children.splice(r,1),r}})),xi(g,{Fragment:nr.Fragment,components:i,ignoreInvalidStyle:!0,jsx:nr.jsx,jsxs:nr.jsxs,passKeys:!0,passNode:!0})}function Hl(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t<0||a>-1&&t>a||n>-1&&t>n||r>-1&&t>r||zl.test(e.slice(0,t))?e:""}const ql=Symbol("Let zodToJsonSchema decide on which parser to use"),Wl={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Vl=e=>{const t=(e=>"string"===typeof e?{...Wl,name:e}:{...Wl,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))}};var Zl,Gl;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Zl||(Zl={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Gl||(Gl={}));const Jl=Zl.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kl=e=>{switch(typeof e){case"undefined":return Jl.undefined;case"string":return Jl.string;case"number":return isNaN(e)?Jl.nan:Jl.number;case"boolean":return Jl.boolean;case"function":return Jl.function;case"bigint":return Jl.bigint;case"symbol":return Jl.symbol;case"object":return Array.isArray(e)?Jl.array:null===e?Jl.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Jl.promise:"undefined"!==typeof Map&&e instanceof Map?Jl.map:"undefined"!==typeof Set&&e instanceof Set?Jl.set:"undefined"!==typeof Date&&e instanceof Date?Jl.date:Jl.object;default:return Jl.unknown}},Xl=Zl.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ql extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Ql))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zl.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Ql.create=e=>new Ql(e);const Yl=(e,t)=>{let n;switch(e.code){case Xl.invalid_type:n=e.received===Jl.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Xl.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Zl.jsonStringifyReplacer)}`;break;case Xl.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zl.joinValues(e.keys,", ")}`;break;case Xl.invalid_union:n="Invalid input";break;case Xl.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zl.joinValues(e.options)}`;break;case Xl.invalid_enum_value:n=`Invalid enum value. Expected ${Zl.joinValues(e.options)}, received '${e.received}'`;break;case Xl.invalid_arguments:n="Invalid function arguments";break;case Xl.invalid_return_type:n="Invalid function return type";break;case Xl.invalid_date:n="Invalid date";break;case Xl.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Zl.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Xl.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Xl.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Xl.custom:n="Invalid input";break;case Xl.invalid_intersection_types:n="Intersection results could not be merged";break;case Xl.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Xl.not_finite:n="Number must be finite";break;default:n=t.defaultError,Zl.assertNever(e)}return{message:n}};let ec=Yl;function tc(){return ec}const nc=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}};function rc(e,t){const n=tc(),r=nc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Yl?void 0:Yl].filter((e=>!!e))});e.common.issues.push(r)}class ac{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return ic;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return ac.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return ic;if("aborted"===a.status)return ic;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const ic=Object.freeze({status:"aborted"}),oc=e=>({status:"dirty",value:e}),sc=e=>({status:"valid",value:e}),lc=e=>"aborted"===e.status,cc=e=>"dirty"===e.status,uc=e=>"valid"===e.status,dc=e=>"undefined"!==typeof Promise&&e instanceof Promise;function hc(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function pc(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}var fc,mc,gc;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(fc||(fc={}));class yc{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vc=(e,t)=>{if(uc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ql(e.common.issues);return this._error=t,this._error}}};function bc(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,o;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:a.defaultError}:"undefined"===typeof a.data?{message:null!==(i=null!==s&&void 0!==s?s:r)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==s&&void 0!==s?s:n)&&void 0!==o?o:a.defaultError}},description:a}}class wc{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Kl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Kl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ac,ctx:{common:e.parent.common,data:e.data,parsedType:Kl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(dc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kl(e)},a=this._parseSync({data:e,path:r.path,parent:r});return vc(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kl(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(dc(r)?r:Promise.resolve(r));return vc(n,a)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:Xl.custom,...n(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new mu({schema:this,typeName:Ou.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return gu.create(this,this._def)}nullable(){return yu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Kc.create(this,this._def)}promise(){return fu.create(this,this._def)}or(e){return Yc.create([this,e],this._def)}and(e){return ru.create(this,e,this._def)}transform(e){return new mu({...bc(this._def),schema:this,typeName:Ou.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new vu({...bc(this._def),innerType:this,defaultValue:t,typeName:Ou.ZodDefault})}brand(){return new _u({typeName:Ou.ZodBranded,type:this,...bc(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new bu({...bc(this._def),innerType:this,catchValue:t,typeName:Ou.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ku.create(this,e)}readonly(){return Su.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xc=/^c[^\s-]{8,}$/i,_c=/^[0-9a-z]+$/,kc=/^[0-9A-HJKMNP-TV-Z]{26}$/,Sc=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ec=/^[a-z0-9_-]{21}$/i,Nc=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oc=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let jc;const Cc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pc=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Tc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ac="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ic=new RegExp(`^${Ac}$`);function Rc(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Lc(e){return new RegExp(`^${Rc(e)}$`)}function $c(e){let t=`${Ac}T${Rc(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}class Mc extends wc{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Jl.string){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.string,received:t.parsedType}),ic}const t=new ac;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?rc(n,{code:Xl.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&rc(n,{code:Xl.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)Oc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"email",code:Xl.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)jc||(jc=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),jc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"emoji",code:Xl.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Sc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"uuid",code:Xl.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)Ec.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"nanoid",code:Xl.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)xc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"cuid",code:Xl.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)_c.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"cuid2",code:Xl.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)kc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"ulid",code:Xl.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(ky){n=this._getOrReturnCtx(e,n),rc(n,{validation:"url",code:Xl.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"regex",code:Xl.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){$c(i).test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){Ic.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){Lc(i).test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?Nc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"duration",code:Xl.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"!==(a=i.version)&&a||!Cc.test(r))&&("v6"!==a&&a||!Pc.test(r))&&(n=this._getOrReturnCtx(e,n),rc(n,{validation:"ip",code:Xl.invalid_string,message:i.message}),t.dirty())):"base64"===i.kind?Tc.test(e.data)||(n=this._getOrReturnCtx(e,n),rc(n,{validation:"base64",code:Xl.invalid_string,message:i.message}),t.dirty()):Zl.assertNever(i);var r,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Xl.invalid_string,...fc.errToObj(n)})}_addCheck(e){return new Mc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fc.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fc.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fc.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fc.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fc.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fc.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fc.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fc.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fc.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fc.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...fc.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...fc.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...fc.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...fc.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...fc.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...fc.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...fc.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...fc.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...fc.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...fc.errToObj(t)})}nonempty(e){return this.min(1,fc.errToObj(e))}trim(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Dc(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Mc.create=e=>{var t;return new Mc({checks:[],typeName:Ou.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...bc(e)})};class Fc extends wc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Jl.number){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.number,received:t.parsedType}),ic}let t;const n=new ac;for(const r of this._def.checks)if("int"===r.kind)Zl.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Dc(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.not_finite,message:r.message}),n.dirty()):Zl.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fc.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fc.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fc.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fc.toString(t))}setLimit(e,t,n,r){return new Fc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fc.toString(r)}]})}_addCheck(e){return new Fc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fc.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fc.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fc.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fc.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fc.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fc.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:fc.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fc.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fc.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Zl.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Fc.create=e=>new Fc({checks:[],typeName:Ou.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...bc(e)});class zc extends wc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Jl.bigint){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.bigint,received:t.parsedType}),ic}let t;const n=new ac;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),rc(t,{code:Xl.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Zl.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fc.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fc.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fc.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fc.toString(t))}setLimit(e,t,n,r){return new zc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fc.toString(r)}]})}_addCheck(e){return new zc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fc.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fc.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fc.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fc.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fc.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}zc.create=e=>{var t;return new zc({checks:[],typeName:Ou.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...bc(e)})};class Uc extends wc{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Jl.boolean){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.boolean,received:t.parsedType}),ic}return sc(e.data)}}Uc.create=e=>new Uc({typeName:Ou.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...bc(e)});class Bc extends wc{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Jl.date){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.date,received:t.parsedType}),ic}if(isNaN(e.data.getTime())){return rc(this._getOrReturnCtx(e),{code:Xl.invalid_date}),ic}const t=new ac;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),rc(n,{code:Xl.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Zl.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bc({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:fc.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:fc.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Bc.create=e=>new Bc({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Ou.ZodDate,...bc(e)});class Hc extends wc{_parse(e){if(this._getType(e)!==Jl.symbol){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.symbol,received:t.parsedType}),ic}return sc(e.data)}}Hc.create=e=>new Hc({typeName:Ou.ZodSymbol,...bc(e)});class qc extends wc{_parse(e){if(this._getType(e)!==Jl.undefined){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.undefined,received:t.parsedType}),ic}return sc(e.data)}}qc.create=e=>new qc({typeName:Ou.ZodUndefined,...bc(e)});class Wc extends wc{_parse(e){if(this._getType(e)!==Jl.null){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.null,received:t.parsedType}),ic}return sc(e.data)}}Wc.create=e=>new Wc({typeName:Ou.ZodNull,...bc(e)});class Vc extends wc{constructor(){super(...arguments),this._any=!0}_parse(e){return sc(e.data)}}Vc.create=e=>new Vc({typeName:Ou.ZodAny,...bc(e)});class Zc extends wc{constructor(){super(...arguments),this._unknown=!0}_parse(e){return sc(e.data)}}Zc.create=e=>new Zc({typeName:Ou.ZodUnknown,...bc(e)});class Gc extends wc{_parse(e){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.never,received:t.parsedType}),ic}}Gc.create=e=>new Gc({typeName:Ou.ZodNever,...bc(e)});class Jc extends wc{_parse(e){if(this._getType(e)!==Jl.undefined){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.void,received:t.parsedType}),ic}return sc(e.data)}}Jc.create=e=>new Jc({typeName:Ou.ZodVoid,...bc(e)});class Kc extends wc{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Jl.array)return rc(t,{code:Xl.invalid_type,expected:Jl.array,received:t.parsedType}),ic;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(rc(t,{code:e?Xl.too_big:Xl.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(rc(t,{code:Xl.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(rc(t,{code:Xl.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new yc(t,e,t.path,n))))).then((e=>ac.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new yc(t,e,t.path,n))));return ac.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Kc({...this._def,minLength:{value:e,message:fc.toString(t)}})}max(e,t){return new Kc({...this._def,maxLength:{value:e,message:fc.toString(t)}})}length(e,t){return new Kc({...this._def,exactLength:{value:e,message:fc.toString(t)}})}nonempty(e){return this.min(1,e)}}function Xc(e){if(e instanceof Qc){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=gu.create(Xc(r))}return new Qc({...e._def,shape:()=>t})}return e instanceof Kc?new Kc({...e._def,type:Xc(e.element)}):e instanceof gu?gu.create(Xc(e.unwrap())):e instanceof yu?yu.create(Xc(e.unwrap())):e instanceof au?au.create(e.items.map((e=>Xc(e)))):e}Kc.create=(e,t)=>new Kc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ou.ZodArray,...bc(t)});class Qc extends wc{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Zl.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Jl.object){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.object,received:t.parsedType}),ic}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Gc&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||i.push(s);const o=[];for(const s of a){const e=r[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new yc(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof Gc){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(rc(n,{code:Xl.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new yc(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>ac.mergeObjectSync(t,e))):ac.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return fc.errToObj,new Qc({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=fc.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new Qc({...this._def,unknownKeys:"strip"})}passthrough(){return new Qc({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qc({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qc({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ou.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Qc({...this._def,catchall:e})}pick(e){const t={};return Zl.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Qc({...this._def,shape:()=>t})}omit(e){const t={};return Zl.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Qc({...this._def,shape:()=>t})}deepPartial(){return Xc(this)}partial(e){const t={};return Zl.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Qc({...this._def,shape:()=>t})}required(e){const t={};return Zl.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof gu;)e=e._def.innerType;t[n]=e}})),new Qc({...this._def,shape:()=>t})}keyof(){return du(Zl.objectKeys(this.shape))}}Qc.create=(e,t)=>new Qc({shape:()=>e,unknownKeys:"strip",catchall:Gc.create(),typeName:Ou.ZodObject,...bc(t)}),Qc.strictCreate=(e,t)=>new Qc({shape:()=>e,unknownKeys:"strict",catchall:Gc.create(),typeName:Ou.ZodObject,...bc(t)}),Qc.lazycreate=(e,t)=>new Qc({shape:e,unknownKeys:"strip",catchall:Gc.create(),typeName:Ou.ZodObject,...bc(t)});class Yc extends wc{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Ql(e.ctx.common.issues)));return rc(t,{code:Xl.invalid_union,unionErrors:n}),ic}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new Ql(e)));return rc(t,{code:Xl.invalid_union,unionErrors:a}),ic}}get options(){return this._def.options}}Yc.create=(e,t)=>new Yc({options:e,typeName:Ou.ZodUnion,...bc(t)});const eu=e=>e instanceof cu?eu(e.schema):e instanceof mu?eu(e.innerType()):e instanceof uu?[e.value]:e instanceof hu?e.options:e instanceof pu?Zl.objectValues(e.enum):e instanceof vu?eu(e._def.innerType):e instanceof qc?[void 0]:e instanceof Wc?[null]:e instanceof gu?[void 0,...eu(e.unwrap())]:e instanceof yu?[null,...eu(e.unwrap())]:e instanceof _u||e instanceof Su?eu(e.unwrap()):e instanceof bu?eu(e._def.innerType):[];class tu extends wc{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jl.object)return rc(t,{code:Xl.invalid_type,expected:Jl.object,received:t.parsedType}),ic;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(rc(t,{code:Xl.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ic)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=eu(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new tu({typeName:Ou.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...bc(n)})}}function nu(e,t){const n=Kl(e),r=Kl(t);if(e===t)return{valid:!0,data:e};if(n===Jl.object&&r===Jl.object){const n=Zl.objectKeys(t),r=Zl.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const i of r){const n=nu(e[i],t[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(n===Jl.array&&r===Jl.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=nu(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Jl.date&&r===Jl.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class ru extends wc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(lc(e)||lc(r))return ic;const a=nu(e.value,r.value);return a.valid?((cc(e)||cc(r))&&t.dirty(),{status:t.value,value:a.data}):(rc(n,{code:Xl.invalid_intersection_types}),ic)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ru.create=(e,t,n)=>new ru({left:e,right:t,typeName:Ou.ZodIntersection,...bc(n)});class au extends wc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jl.array)return rc(n,{code:Xl.invalid_type,expected:Jl.array,received:n.parsedType}),ic;if(n.data.length<this._def.items.length)return rc(n,{code:Xl.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ic;!this._def.rest&&n.data.length>this._def.items.length&&(rc(n,{code:Xl.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new yc(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>ac.mergeArray(t,e))):ac.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new au({...this._def,rest:e})}}au.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new au({items:e,typeName:Ou.ZodTuple,rest:null,...bc(t)})};class iu extends wc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jl.object)return rc(n,{code:Xl.invalid_type,expected:Jl.object,received:n.parsedType}),ic;const r=[],a=this._def.keyType,i=this._def.valueType;for(const o in n.data)r.push({key:a._parse(new yc(n,o,n.path,o)),value:i._parse(new yc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ac.mergeObjectAsync(t,r):ac.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new iu(t instanceof wc?{keyType:e,valueType:t,typeName:Ou.ZodRecord,...bc(n)}:{keyType:Mc.create(),valueType:e,typeName:Ou.ZodRecord,...bc(t)})}}class ou extends wc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jl.map)return rc(n,{code:Xl.invalid_type,expected:Jl.map,received:n.parsedType}),ic;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,o]=e;return{key:r._parse(new yc(n,i,n.path,[t,"key"])),value:a._parse(new yc(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return ic;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return ic;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}ou.create=(e,t,n)=>new ou({valueType:t,keyType:e,typeName:Ou.ZodMap,...bc(n)});class su extends wc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jl.set)return rc(n,{code:Xl.invalid_type,expected:Jl.set,received:n.parsedType}),ic;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(rc(n,{code:Xl.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(rc(n,{code:Xl.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return ic;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new yc(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new su({...this._def,minSize:{value:e,message:fc.toString(t)}})}max(e,t){return new su({...this._def,maxSize:{value:e,message:fc.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}su.create=(e,t)=>new su({valueType:e,minSize:null,maxSize:null,typeName:Ou.ZodSet,...bc(t)});class lu extends wc{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jl.function)return rc(t,{code:Xl.invalid_type,expected:Jl.function,received:t.parsedType}),ic;function n(e,n){return nc({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tc(),Yl].filter((e=>!!e)),issueData:{code:Xl.invalid_arguments,argumentsError:n}})}function r(e,n){return nc({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tc(),Yl].filter((e=>!!e)),issueData:{code:Xl.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof fu){const e=this;return sc((async function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=new Ql([]),c=await e._def.args.parseAsync(o,a).catch((e=>{throw l.addIssue(n(o,e)),l})),u=await Reflect.apply(i,this,c);return await e._def.returns._def.type.parseAsync(u,a).catch((e=>{throw l.addIssue(r(u,e)),l}))}))}{const e=this;return sc((function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=e._def.args.safeParse(o,a);if(!l.success)throw new Ql([n(o,l.error)]);const c=Reflect.apply(i,this,l.data),u=e._def.returns.safeParse(c,a);if(!u.success)throw new Ql([r(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lu({...this._def,args:au.create(t).rest(Zc.create())})}returns(e){return new lu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new lu({args:e||au.create([]).rest(Zc.create()),returns:t||Zc.create(),typeName:Ou.ZodFunction,...bc(n)})}}class cu extends wc{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}cu.create=(e,t)=>new cu({getter:e,typeName:Ou.ZodLazy,...bc(t)});class uu extends wc{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return rc(t,{received:t.data,code:Xl.invalid_literal,expected:this._def.value}),ic}return{status:"valid",value:e.data}}get value(){return this._def.value}}function du(e,t){return new hu({values:e,typeName:Ou.ZodEnum,...bc(t)})}uu.create=(e,t)=>new uu({value:e,typeName:Ou.ZodLiteral,...bc(t)});class hu extends wc{constructor(){super(...arguments),mc.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return rc(t,{expected:Zl.joinValues(n),received:t.parsedType,code:Xl.invalid_type}),ic}if(hc(this,mc,"f")||pc(this,mc,new Set(this._def.values),"f"),!hc(this,mc,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return rc(t,{received:t.data,code:Xl.invalid_enum_value,options:n}),ic}return sc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return hu.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return hu.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}mc=new WeakMap,hu.create=du;class pu extends wc{constructor(){super(...arguments),gc.set(this,void 0)}_parse(e){const t=Zl.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Jl.string&&n.parsedType!==Jl.number){const e=Zl.objectValues(t);return rc(n,{expected:Zl.joinValues(e),received:n.parsedType,code:Xl.invalid_type}),ic}if(hc(this,gc,"f")||pc(this,gc,new Set(Zl.getValidEnumValues(this._def.values)),"f"),!hc(this,gc,"f").has(e.data)){const e=Zl.objectValues(t);return rc(n,{received:n.data,code:Xl.invalid_enum_value,options:e}),ic}return sc(e.data)}get enum(){return this._def.values}}gc=new WeakMap,pu.create=(e,t)=>new pu({values:e,typeName:Ou.ZodNativeEnum,...bc(t)});class fu extends wc{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jl.promise&&!1===t.common.async)return rc(t,{code:Xl.invalid_type,expected:Jl.promise,received:t.parsedType}),ic;const n=t.parsedType===Jl.promise?t.data:Promise.resolve(t.data);return sc(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}fu.create=(e,t)=>new fu({type:e,typeName:Ou.ZodPromise,...bc(t)});class mu extends wc{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ou.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{rc(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return ic;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?ic:"dirty"===r.status||"dirty"===t.value?oc(r.value):r}));{if("aborted"===t.value)return ic;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?ic:"dirty"===r.status||"dirty"===t.value?oc(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ic:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?ic:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!uc(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>uc(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}Zl.assertNever(r)}}mu.create=(e,t,n)=>new mu({schema:e,typeName:Ou.ZodEffects,effect:t,...bc(n)}),mu.createWithPreprocess=(e,t,n)=>new mu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ou.ZodEffects,...bc(n)});class gu extends wc{_parse(e){return this._getType(e)===Jl.undefined?sc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gu.create=(e,t)=>new gu({innerType:e,typeName:Ou.ZodOptional,...bc(t)});class yu extends wc{_parse(e){return this._getType(e)===Jl.null?sc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yu.create=(e,t)=>new yu({innerType:e,typeName:Ou.ZodNullable,...bc(t)});class vu extends wc{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Jl.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}vu.create=(e,t)=>new vu({innerType:e,typeName:Ou.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...bc(t)});class bu extends wc{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dc(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bu.create=(e,t)=>new bu({innerType:e,typeName:Ou.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...bc(t)});class wu extends wc{_parse(e){if(this._getType(e)!==Jl.nan){const t=this._getOrReturnCtx(e);return rc(t,{code:Xl.invalid_type,expected:Jl.nan,received:t.parsedType}),ic}return{status:"valid",value:e.data}}}wu.create=e=>new wu({typeName:Ou.ZodNaN,...bc(e)});const xu=Symbol("zod_brand");class _u extends wc{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ku extends wc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ic:"dirty"===e.status?(t.dirty(),oc(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ic:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ku({in:e,out:t,typeName:Ou.ZodPipeline})}}class Su extends wc{_parse(e){const t=this._def.innerType._parse(e),n=e=>(uc(e)&&(e.value=Object.freeze(e.value)),e);return dc(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Eu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?Vc.create().superRefine(((r,a)=>{var i,o;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===o||o,l="string"===typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:s})}})):Vc.create()}Su.create=(e,t)=>new Su({innerType:e,typeName:Ou.ZodReadonly,...bc(t)});const Nu={object:Qc.lazycreate};var Ou;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Ou||(Ou={}));const ju=Mc.create,Cu=Fc.create,Pu=wu.create,Tu=zc.create,Au=Uc.create,Iu=Bc.create,Ru=Hc.create,Lu=qc.create,$u=Wc.create,Mu=Vc.create,Du=Zc.create,Fu=Gc.create,zu=Jc.create,Uu=Kc.create,Bu=Qc.create,Hu=Qc.strictCreate,qu=Yc.create,Wu=tu.create,Vu=ru.create,Zu=au.create,Gu=iu.create,Ju=ou.create,Ku=su.create,Xu=lu.create,Qu=cu.create,Yu=uu.create,ed=hu.create,td=pu.create,nd=fu.create,rd=mu.create,ad=gu.create,id=yu.create,od=mu.createWithPreprocess,sd=ku.create,ld={string:e=>Mc.create({...e,coerce:!0}),number:e=>Fc.create({...e,coerce:!0}),boolean:e=>Uc.create({...e,coerce:!0}),bigint:e=>zc.create({...e,coerce:!0}),date:e=>Bc.create({...e,coerce:!0})},cd=ic;var ud=Object.freeze({__proto__:null,defaultErrorMap:Yl,setErrorMap:function(e){ec=e},getErrorMap:tc,makeIssue:nc,EMPTY_PATH:[],addIssueToContext:rc,ParseStatus:ac,INVALID:ic,DIRTY:oc,OK:sc,isAborted:lc,isDirty:cc,isValid:uc,isAsync:dc,get util(){return Zl},get objectUtil(){return Gl},ZodParsedType:Jl,getParsedType:Kl,ZodType:wc,datetimeRegex:$c,ZodString:Mc,ZodNumber:Fc,ZodBigInt:zc,ZodBoolean:Uc,ZodDate:Bc,ZodSymbol:Hc,ZodUndefined:qc,ZodNull:Wc,ZodAny:Vc,ZodUnknown:Zc,ZodNever:Gc,ZodVoid:Jc,ZodArray:Kc,ZodObject:Qc,ZodUnion:Yc,ZodDiscriminatedUnion:tu,ZodIntersection:ru,ZodTuple:au,ZodRecord:iu,ZodMap:ou,ZodSet:su,ZodFunction:lu,ZodLazy:cu,ZodLiteral:uu,ZodEnum:hu,ZodNativeEnum:pu,ZodPromise:fu,ZodEffects:mu,ZodTransformer:mu,ZodOptional:gu,ZodNullable:yu,ZodDefault:vu,ZodCatch:bu,ZodNaN:wu,BRAND:xu,ZodBranded:_u,ZodPipeline:ku,ZodReadonly:Su,custom:Eu,Schema:wc,ZodSchema:wc,late:Nu,get ZodFirstPartyTypeKind(){return Ou},coerce:ld,any:Mu,array:Uu,bigint:Tu,boolean:Au,date:Iu,discriminatedUnion:Wu,effect:rd,enum:ed,function:Xu,instanceof:function(e){return Eu((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:Vu,lazy:Qu,literal:Yu,map:Ju,nan:Pu,nativeEnum:td,never:Fu,null:$u,nullable:id,number:Cu,object:Bu,oboolean:()=>Au().optional(),onumber:()=>Cu().optional(),optional:ad,ostring:()=>ju().optional(),pipeline:sd,preprocess:od,promise:nd,record:Gu,set:Ku,strictObject:Hu,string:ju,symbol:Ru,transformer:rd,tuple:Zu,undefined:Lu,union:qu,unknown:Du,void:zu,NEVER:cd,ZodIssueCode:Xl,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Ql});function dd(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function hd(e,t,n,r,a){e[t]=n,dd(e,t,r,a)}function pd(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>pd(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return fd(e,t)}}const fd=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":hd(n,"minimum",r.value,r.message,t);break;case"max":hd(n,"maximum",r.value,r.message,t)}return n};let md;const gd={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===md&&(md=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),md),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function yd(e,t){const n={type:"string"};function r(e){return"escape"===t.patternStrategy?vd(e):e}if(e.checks)for(const a of e.checks)switch(a.kind){case"min":hd(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t);break;case"max":hd(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"email":switch(t.emailStrategy){case"format:email":bd(n,"email",a.message,t);break;case"format:idn-email":bd(n,"idn-email",a.message,t);break;case"pattern:zod":wd(n,gd.email,a.message,t)}break;case"url":bd(n,"uri",a.message,t);break;case"uuid":bd(n,"uuid",a.message,t);break;case"regex":wd(n,a.regex,a.message,t);break;case"cuid":wd(n,gd.cuid,a.message,t);break;case"cuid2":wd(n,gd.cuid2,a.message,t);break;case"startsWith":wd(n,RegExp(`^${r(a.value)}`),a.message,t);break;case"endsWith":wd(n,RegExp(`${r(a.value)}$`),a.message,t);break;case"datetime":bd(n,"date-time",a.message,t);break;case"date":bd(n,"date",a.message,t);break;case"time":bd(n,"time",a.message,t);break;case"duration":bd(n,"duration",a.message,t);break;case"length":hd(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t),hd(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"includes":wd(n,RegExp(r(a.value)),a.message,t);break;case"ip":"v6"!==a.version&&bd(n,"ipv4",a.message,t),"v4"!==a.version&&bd(n,"ipv6",a.message,t);break;case"emoji":wd(n,gd.emoji,a.message,t);break;case"ulid":wd(n,gd.ulid,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":bd(n,"binary",a.message,t);break;case"contentEncoding:base64":hd(n,"contentEncoding","base64",a.message,t);break;case"pattern:zod":wd(n,gd.base64,a.message,t)}break;case"nanoid":wd(n,gd.nanoid,a.message,t)}return n}const vd=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),bd=(e,t,n,r)=>{e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):hd(e,"format",t,n,r)},wd=(e,t,n,r)=>{e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:xd(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):hd(e,"pattern",xd(t,r),n,r)},xd=(e,t)=>{const n="function"===typeof e?e():e;if(!t.applyRegexFlags||!n.flags)return n.source;const r=n.flags.includes("i"),a=n.flags.includes("m"),i=n.flags.includes("s"),o=r?n.source.toLowerCase():n.source;let s="",l=!1,c=!1,u=!1;for(let d=0;d<o.length;d++)if(l)s+=o[d],l=!1;else{if(r)if(c){if(o[d].match(/[a-z]/)){u?(s+=o[d],s+=`${o[d-2]}-${o[d]}`.toUpperCase(),u=!1):"-"===o[d+1]&&o[d+2]?.match(/[a-z]/)?(s+=o[d],u=!0):s+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){s+=`[${o[d]}${o[d].toUpperCase()}]`;continue}if(a){if("^"===o[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===o[d]){s+="($|(?=[\r\n]))";continue}}i&&"."===o[d]?s+=c?`${o[d]}\r\n`:`[${o[d]}\r\n]`:(s+=o[d],"\\"===o[d]?l=!0:c&&"]"===o[d]?c=!1:c||"["!==o[d]||(c=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function _d(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===Ou.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((n,r)=>({...n,[r]:Nd(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Nd(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===Ou.ZodString&&e.keyType._def.checks?.length){const r=Object.entries(yd(e.keyType._def,t)).reduce(((e,t)=>{let[n,r]=t;return"type"===n?e:{...e,[n]:r}}),{});return{...n,propertyNames:r}}return e.keyType?._def.typeName===Ou.ZodEnum?{...n,propertyNames:{enum:e.keyType._def.values}}:n}const kd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};const Sd=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>Nd(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function Ed(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:Nd(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:Nd(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function Nd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.seen.get(e);if(t.override){const a=t.override?.(e,t,r,n);if(a!==ql)return a}if(r&&!n){const e=Od(r,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const i=Cd(e,e.typeName,t);return i&&Pd(e,t,i),a.jsonSchema=i,i}const Od=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:jd(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},jd=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},Cd=(e,t,n)=>{switch(t){case Ou.ZodString:return yd(e,n);case Ou.ZodNumber:return function(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",dd(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?hd(n,"minimum",r.value,r.message,t):hd(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),hd(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?hd(n,"maximum",r.value,r.message,t):hd(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),hd(n,"maximum",r.value,r.message,t));break;case"multipleOf":hd(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Ou.ZodObject:return function(e,t){const n={type:"object",...Object.entries(e.shape()).reduce(((e,n)=>{let[r,a]=n;if(void 0===a||void 0===a._def)return e;const i=Nd(a._def,{...t,currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]});return void 0===i?e:{properties:{...e.properties,[r]:i},required:a.isOptional()?e.required:[...e.required,r]}}),{properties:{},required:[]}),additionalProperties:Ed(e,t)};return n.required.length||delete n.required,n}(e,n);case Ou.ZodBigInt:return function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?hd(n,"minimum",r.value,r.message,t):hd(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),hd(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?hd(n,"maximum",r.value,r.message,t):hd(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),hd(n,"maximum",r.value,r.message,t));break;case"multipleOf":hd(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Ou.ZodBoolean:return{type:"boolean"};case Ou.ZodDate:return pd(e,n);case Ou.ZodUndefined:return{not:{}};case Ou.ZodNull:return function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(n);case Ou.ZodArray:return function(e,t){const n={type:"array"};return e.type?._def?.typeName!==Ou.ZodAny&&(n.items=Nd(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&hd(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&hd(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(hd(n,"minItems",e.exactLength.value,e.exactLength.message,t),hd(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case Ou.ZodUnion:case Ou.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return Sd(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in kd&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=kd[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return Sd(e,t)}(e,n);case Ou.ZodIntersection:return function(e,t){const n=[Nd(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Nd(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;a.push(t)}else a.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);var t})),a.length?{allOf:a,...r}:void 0}(e,n);case Ou.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>Nd(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:Nd(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>Nd(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case Ou.ZodRecord:return _d(e,n);case Ou.ZodLiteral:return function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case Ou.ZodEnum:return function(e){return{type:"string",enum:e.values}}(e);case Ou.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case Ou.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:kd[e.innerType._def.typeName],nullable:!0}:{type:[kd[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=Nd(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=Nd(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case Ou.ZodOptional:return((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Nd(e.innerType._def,t);const n=Nd(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}})(e,n);case Ou.ZodMap:return function(e,t){return"record"===t.mapStrategy?_d(e,t):{type:"array",maxItems:125,items:{type:"array",items:[Nd(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},Nd(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case Ou.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:Nd(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&hd(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&hd(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case Ou.ZodLazy:return Nd(e.getter()._def,n);case Ou.ZodPromise:return function(e,t){return Nd(e.type._def,t)}(e,n);case Ou.ZodNaN:case Ou.ZodNever:return{not:{}};case Ou.ZodEffects:return function(e,t){return"input"===t.effectStrategy?Nd(e.schema._def,t):{}}(e,n);case Ou.ZodAny:case Ou.ZodUnknown:return{};case Ou.ZodDefault:return function(e,t){return{...Nd(e.innerType._def,t),default:e.defaultValue()}}(e,n);case Ou.ZodBranded:return function(e,t){return Nd(e.type._def,t)}(e,n);case Ou.ZodReadonly:case Ou.ZodCatch:return((e,t)=>Nd(e.innerType._def,t))(e,n);case Ou.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return Nd(e.in._def,t);if("output"===t.pipeStrategy)return Nd(e.out._def,t);const n=Nd(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,Nd(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}})(e,n);case Ou.ZodFunction:case Ou.ZodVoid:case Ou.ZodSymbol:default:return}},Pd=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),Td=(e,t)=>{const n=Vl(t),r="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[r,a]=t;return{...e,[r]:Nd(a._def,{...n,currentPath:[...n.basePath,n.definitionPath,r]},!0)??{}}}),{}):void 0,a="string"===typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,i=Nd(e._def,void 0===a?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??{},o="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(i.title=o);const s=void 0===a?r?{...i,[n.definitionPath]:r}:i:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:i}};return"jsonSchema7"===n.target?s.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),s};function Ad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Id;e=e.trim();const n=/```(json)?(.*)```/s.exec(e);return t(n?n[2]:e)}function Id(e){if("undefined"===typeof e)return null;try{return JSON.parse(e)}catch(i){}let t="";const n=[];let r=!1,a=!1;for(let o of e){if(r)'"'!==o||a?"\n"!==o||a?a="\\"===o&&!a:o="\\n":r=!1;else if('"'===o)r=!0,a=!1;else if("{"===o)n.push("}");else if("["===o)n.push("]");else if("}"===o||"]"===o){if(!n||n[n.length-1]!==o)return null;n.pop()}t+=o}r&&(t+='"');for(let o=n.length-1;o>=0;o-=1)t+=n[o];try{return JSON.parse(t)}catch(i){return null}}var Rd=n(1876);n(6383);function Ld(e,t){return t?.[e]||Rd(e)}function $d(e,t,n){const r={};for(const a in e)Object.hasOwn(e,a)&&(r[t(a,n)]=e[a]);return r}function Md(e){return Array.isArray(e)?[...e]:{...e}}function Dd(e,t){const n=Md(e);for(const[r,a]of Object.entries(t)){const[e,...t]=r.split(".").reverse();let i=n;for(const n of t.reverse()){if(void 0===i[n])break;i[n]=Md(i[n]),i=i[n]}void 0!==i[e]&&(i[e]={lc:1,type:"secret",id:[a]})}return n}function Fd(e){const t=Object.getPrototypeOf(e);return"function"===typeof e.lc_name&&("function"!==typeof t.lc_name||e.lc_name()!==t.lc_name())?e.lc_name():e.name}class zd{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Fd(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof zd||"object"!==typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce(((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e)),{});for(let r=Object.getPrototypeOf(this);r;r=Object.getPrototypeOf(r))Object.assign(e,Reflect.get(r,"lc_aliases",this)),Object.assign(t,Reflect.get(r,"lc_secrets",this)),Object.assign(n,Reflect.get(r,"lc_attributes",this));return Object.keys(t).forEach((e=>{let t=this,r=n;const[a,...i]=e.split(".").reverse();for(const n of i.reverse()){if(!(n in t)||void 0===t[n])return;n in r&&void 0!==r[n]||("object"===typeof t[n]&&null!=t[n]?r[n]={}:Array.isArray(t[n])&&(r[n]=[])),t=t[n],r=r[n]}a in t&&void 0!==t[a]&&(r[a]=r[a]||t[a])})),{lc:1,type:"constructor",id:this.lc_id,kwargs:$d(Object.keys(t).length?Dd(n,t):n,Ld,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Ud(e,t){return"string"===typeof e?"string"===typeof t?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?qd(e,t)??[...e,...t]:[...e,{type:"text",text:t}]}class Bd extends zd{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return"string"===typeof this.content?this.content:""}constructor(e,t){"string"===typeof e&&(e={content:e,additional_kwargs:t,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(null===e)return this;const t=(n=this._printableFields,r=Math.max(4,e),JSON.stringify(function e(t,n){if("object"!==typeof t||null===t||void 0===t)return t;if(n>=r)return Array.isArray(t)?"[Array]":"[Object]";if(Array.isArray(t))return t.map((t=>e(t,n+1)));const a={};for(const r of Object.keys(t))a[r]=e(t[r],n+1);return a}(n,0),null,2));var n,r;return`${this.constructor.lc_name()} ${t}`}}function Hd(e,t){const n={...e};for(const[r,a]of Object.entries(t))if(null==n[r])n[r]=a;else{if(null==a)continue;if(typeof n[r]!==typeof a||Array.isArray(n[r])!==Array.isArray(a))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if("string"===typeof n[r]){if("type"===r)continue;n[r]+=a}else if("object"!==typeof n[r]||Array.isArray(n[r]))if(Array.isArray(n[r]))n[r]=qd(n[r],a);else{if(n[r]===a)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}else n[r]=Hd(n[r],a)}return n}function qd(e,t){if(void 0!==e||void 0!==t){if(void 0===e||void 0===t)return e||t;{const n=[...e];for(const e of t)if("object"===typeof e&&"index"in e&&"number"===typeof e.index){const t=n.findIndex((t=>t.index===e.index));-1!==t?n[t]=Hd(n[t],e):n.push(e)}else{if("object"===typeof e&&"text"in e&&""===e.text)continue;n.push(e)}return n}}}class Wd extends Bd{}function Vd(e){return"function"===typeof e?._getType}class Zd extends Bd{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,t,n){"string"===typeof e&&(e={content:e,name:n,tool_call_id:t}),super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return"tool"===e._getType()}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class Gd extends Bd{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,t){let n;if("string"===typeof e)n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:t??{}};else{n=e;const t=n.additional_kwargs?.tool_calls,r=n.tool_calls;null!=t&&t.length>0&&(void 0===r||0===r.length)&&console.warn(["New LangChain packages are available that more efficiently handle","tool calling.\n\nPlease upgrade your packages to versions that set","message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(null!=t&&void 0===r){const[e,r]=function(e){const t=[],n=[];for(const a of e)if(a.function){const e=a.function.name;try{const n={name:e||"",args:JSON.parse(a.function.arguments)||{},id:a.id};t.push(n)}catch(r){n.push({name:e,args:a.function.arguments,id:a.id,error:"Malformed args."})}}return[t,n]}(t);n.tool_calls=e??[],n.invalid_tool_calls=r??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch(eb){n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"!==typeof n&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Jd(e){return"ai"===e._getType()}function Kd(e){return"ai"===e._getType()}class Xd extends Wd{constructor(e){let t;if("string"===typeof e)t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(void 0===e.tool_call_chunks)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[]};else{const n=[],r=[];for(const t of e.tool_call_chunks){let e={};try{if(e=Id(t.args||"{}"),null===e||"object"!==typeof e||Array.isArray(e))throw new Error("Malformed tool call chunk args.");n.push({name:t.name??"",args:e,id:t.id,type:"tool_call"})}catch(eb){r.push({name:t.name,args:t.args,id:t.id,error:"Malformed args.",type:"invalid_tool_call"})}}t={...e,tool_calls:n,invalid_tool_calls:r}}super(t),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const t={content:Ud(this.content,e.content),additional_kwargs:Hd(this.additional_kwargs,e.additional_kwargs),response_metadata:Hd(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(void 0!==this.tool_call_chunks||void 0!==e.tool_call_chunks){const n=qd(this.tool_call_chunks,e.tool_call_chunks);void 0!==n&&n.length>0&&(t.tool_call_chunks=n)}if(void 0!==this.usage_metadata||void 0!==e.usage_metadata){const n=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},r=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},a={input_tokens:n.input_tokens+r.input_tokens,output_tokens:n.output_tokens+r.output_tokens,total_tokens:n.total_tokens+r.total_tokens};t.usage_metadata=a}return new Xd(t)}}class Qd extends Bd{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Qd}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return"generic"===e._getType()}get _printableFields(){return{...super._printableFields,role:this.role}}}class Yd extends Wd{static lc_name(){return"ChatMessageChunk"}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new Yd({content:Ud(this.content,e.content),additional_kwargs:Hd(this.additional_kwargs,e.additional_kwargs),response_metadata:Hd(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class eh extends Wd{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new eh({content:Ud(this.content,e.content),additional_kwargs:Hd(this.additional_kwargs,e.additional_kwargs),response_metadata:Hd(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class th extends Bd{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class nh extends Wd{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new nh({content:Ud(this.content,e.content),additional_kwargs:Hd(this.additional_kwargs,e.additional_kwargs),response_metadata:Hd(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class rh extends Bd{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class ah extends Wd{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new ah({content:Ud(this.content,e.content),additional_kwargs:Hd(this.additional_kwargs,e.additional_kwargs),response_metadata:Hd(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function ih(e){return!(!e||"object"!==typeof e||!("type"in e)||"tool_call"!==e.type)}class oh extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}function sh(e){return ih(e)?e:"string"===typeof e.id&&"function"===e.type&&"object"===typeof e.function&&null!==e.function&&"arguments"in e.function&&"string"===typeof e.function.arguments&&"name"in e.function&&"string"===typeof e.function.name?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function lh(e){const{type:t,...n}=e;if("human"===t||"user"===t)return new th(n);if("ai"===t||"assistant"===t){const{tool_calls:e,...t}=n;if(!Array.isArray(e))return new Gd(n);const r=e.map(sh);return new Gd({...t,tool_calls:r})}if("system"===t)return new rh(n);if("tool"===t&&"tool_call_id"in n)return new Zd({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function ch(e){if("string"===typeof e)return new th(e);if(Vd(e))return e;if(Array.isArray(e)){const[t,n]=e;return lh({type:t,content:n})}if("string"===typeof e.role){const{role:t,...n}=e;return lh({...n,type:t})}return lh(e)}function uh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Human",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AI";const r=[];for(const a of e){let e;if("human"===a._getType())e=t;else if("ai"===a._getType())e=n;else if("system"===a._getType())e="System";else if("function"===a._getType())e="Function";else if("tool"===a._getType())e="Tool";else{if("generic"!==a._getType())throw new Error(`Got unsupported message type: ${a._getType()}`);e=a.role}const i=a.name?`${a.name}, `:"",o="string"===typeof a.content?a.content:JSON.stringify(a.content,null,2);r.push(`${e}: ${i}${o}`)}return r.join("\n")}function dh(e){const t=e._getType();if("human"===t)return new nh({...e});if("ai"===t){let t={...e};return"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map((e=>({...e,type:"tool_call_chunk",index:void 0,args:JSON.stringify(e.args)})))}),new Xd({...t})}if("system"===t)return new ah({...e});if("function"===t)return new eh({...e});if(Qd.isInstance(e))return new Yd({...e});throw new Error("Unknown message type.")}var hh=n(9174);const ph={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var fh,mh=new Uint8Array(16);function gh(){if(!fh&&!(fh="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fh(mh)}for(var yh=[],vh=0;vh<256;++vh)yh.push((vh+256).toString(16).slice(1));function bh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(yh[e[t+0]]+yh[e[t+1]]+yh[e[t+2]]+yh[e[t+3]]+"-"+yh[e[t+4]]+yh[e[t+5]]+"-"+yh[e[t+6]]+yh[e[t+7]]+"-"+yh[e[t+8]]+yh[e[t+9]]+"-"+yh[e[t+10]]+yh[e[t+11]]+yh[e[t+12]]+yh[e[t+13]]+yh[e[t+14]]+yh[e[t+15]]).toLowerCase()}const wh=function(e,t,n){if(ph.randomUUID&&!t&&!e)return ph.randomUUID();var r=(e=e||{}).random||(e.rng||gh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return bh(r)};const xh=Symbol.for("ls:tracing_async_local_storage"),_h=new class{getStore(){}run(e,t){return t()}};const kh=new class{getInstance(){return globalThis[xh]??_h}initializeGlobalInstance(e){void 0===globalThis[xh]&&(globalThis[xh]=e)}};Symbol.for("langsmith:traceable:root");function Sh(e){return"function"===typeof e&&"langsmith:traceable"in e}const Eh=Object.prototype.hasOwnProperty;function Nh(e,t){return Eh.call(e,t)}function Oh(e){if(Array.isArray(e)){const t=new Array(e.length);for(let e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(e);let t=[];for(let n in e)Nh(e,n)&&t.push(n);return t}function jh(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Ch(e){let t=0;const n=e.length;let r;for(;t<n;){if(r=e.charCodeAt(t),!(r>=48&&r<=57))return!1;t++}return!0}function Ph(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Th(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ah(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ah(e[n]))return!0}else if("object"===typeof e){const n=Oh(e),r=n.length;for(var t=0;t<r;t++)if(Ah(e[n[t]]))return!0}return!1}function Ih(e,t){const n=[e];for(const r in t){const e="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof e&&n.push(`${r}: ${e}`)}return n.join("\n")}class Rh extends Error{constructor(e,t,n,r,a){super(Ih(e,{name:t,index:n,operation:r,tree:a})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.setPrototypeOf(this,new.target.prototype),this.message=Ih(e,{name:t,index:n,operation:r,tree:a})}}const Lh=Rh,$h=jh,Mh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){let r=Fh(n,this.path);r&&(r=jh(r));const a=zh(n,{op:"remove",path:this.from}).removed;return zh(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(e,t,n){const r=Fh(n,this.from);return zh(n,{op:"add",path:this.path,value:jh(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Wh(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}};var Dh={add:function(e,t,n){return Ch(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Mh.move,copy:Mh.copy,test:Mh.test,_get:Mh._get};function Fh(e,t){if(""==t)return e;var n={op:"_get",path:t};return zh(e,n),n.value}function zh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(n&&("function"==typeof n?n(t,0,e,t.path):Hh(t,0)),""===t.path){let r={newDocument:e};if("add"===t.op)return r.newDocument=t.value,r;if("replace"===t.op)return r.newDocument=t.value,r.removed=e,r;if("move"===t.op||"copy"===t.op)return r.newDocument=Fh(e,t.from),"move"===t.op&&(r.removed=e),r;if("test"===t.op){if(r.test=Wh(e,t.value),!1===r.test)throw new Lh("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return r.newDocument=e,r}if("remove"===t.op)return r.removed=e,r.newDocument=null,r;if("_get"===t.op)return t.value=e,r;if(n)throw new Lh("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return r}{r||(e=jh(e));const o=(t.path||"").split("/");let s,l,c,u=e,d=1,h=o.length;for(c="function"==typeof n?n:Hh;;){if(l=o[d],l&&-1!=l.indexOf("~")&&(l=Th(l)),a&&("__proto__"==l||"prototype"==l&&d>0&&"constructor"==o[d-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===s&&(void 0===u[l]?s=o.slice(0,d).join("/"):d==h-1&&(s=t.path),void 0!==s&&c(t,0,e,s)),d++,Array.isArray(u)){if("-"===l)l=u.length;else{if(n&&!Ch(l))throw new Lh("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);Ch(l)&&(l=~~l)}if(d>=h){if(n&&"add"===t.op&&l>u.length)throw new Lh("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);const r=Dh[t.op].call(t,u,l,e);if(!1===r.test)throw new Lh("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return r}}else if(d>=h){const n=Mh[t.op].call(t,u,l,e);if(!1===n.test)throw new Lh("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return n}if(u=u[l],n&&d<h&&(!u||"object"!==typeof u))throw new Lh("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}}function Uh(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(n&&!Array.isArray(t))throw new Lh("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=jh(e));const i=new Array(t.length);for(let o=0,s=t.length;o<s;o++)i[o]=zh(e,t[o],n,!0,a,o),e=i[o].newDocument;return i.newDocument=e,i}function Bh(e,t,n){const r=zh(e,t);if(!1===r.test)throw new Lh("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Hh(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new Lh("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!Mh[e.op])throw new Lh("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new Lh("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Lh('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new Lh("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Lh("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Ah(e.value))throw new Lh("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var a=e.path.split("/").length,i=r.split("/").length;if(a!==i+1&&a!==i)throw new Lh("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new Lh("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=qh([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new Lh("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function qh(e,t,n){try{if(!Array.isArray(e))throw new Lh("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Uh(jh(t),jh(e),n||!0);else{n=n||Hh;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(eb){if(eb instanceof Lh)return eb;throw eb}}function Wh(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,a,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!Wh(e[n],t[n]))return!1;return!0}if(i!=o)return!1;var s=Object.keys(e);if((r=s.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=r;0!==n--;)if(!Wh(e[a=s[n]],t[a]))return!1;return!0}return e!==e&&t!==t}new WeakMap;function Vh(e,t,n,r,a){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var i=Oh(t),o=Oh(e),s=!1,l=o.length-1;l>=0;l--){var c=e[d=o[l]];if(!Nh(t,d)||void 0===t[d]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&n.push({op:"test",path:r+"/"+Ph(d),value:jh(c)}),n.push({op:"remove",path:r+"/"+Ph(d)}),s=!0):(a&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var u=t[d];"object"==typeof c&&null!=c&&"object"==typeof u&&null!=u&&Array.isArray(c)===Array.isArray(u)?Vh(c,u,n,r+"/"+Ph(d),a):c!==u&&(a&&n.push({op:"test",path:r+"/"+Ph(d),value:jh(c)}),n.push({op:"replace",path:r+"/"+Ph(d),value:jh(u)}))}}if(s||i.length!=o.length)for(l=0;l<i.length;l++){var d;Nh(e,d=i[l])||void 0===t[d]||n.push({op:"add",path:r+"/"+Ph(d),value:jh(t[d])})}}}function Zh(e,t){var n=[];return Vh(e,t,n,"",arguments.length>2&&void 0!==arguments[2]&&arguments[2]),n}const Gh=()=>"undefined"!==typeof Deno,Jh=()=>{let e;return e="undefined"!==typeof window&&"undefined"!==typeof window.document?"browser":"undefined"===typeof process||"undefined"===typeof process.versions||"undefined"===typeof process.versions.node||Gh()?"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":Gh()?"deno":"other":"node",e};let Kh;async function Xh(){if(void 0===Kh){const e=Jh();Kh={library:"langchain-js",runtime:e}}return Kh}function Qh(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}?.[e]:void 0}catch(eb){return}}class Yh{}class ep extends Yh{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Fd(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:"false"===Qh("LANGCHAIN_CALLBACKS_BACKGROUND")}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return zd.prototype.toJSON.call(this)}toJSONNotImplemented(){return zd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends ep{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:wh()}),Object.assign(this,e)}}}}function tp(e,t){return e&&!Array.isArray(e)&&"object"===typeof e?e:{[t]:e}}function np(e){return"function"===typeof e._addRunToRunMap}class rp extends ep{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`\n\n${e.stack}`:""):"string"===typeof e?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){const t=function(e,t,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`.replace(/[-:.]/g,"")+t}(e.start_time,e.id,e.execution_order),n={...e};if(void 0!==n.parent_run_id){const e=this.runMap.get(n.parent_run_id);e&&(this._addChildRun(e,n),e.child_execution_order=Math.max(e.child_execution_order,n.child_execution_order),n.trace_id=e.trace_id,void 0!==e.dotted_order&&(n.dotted_order=[e.dotted_order,t].join(".")))}else n.trace_id=n.id,n.dotted_order=t;return this.runMap.set(n.id,n),n}async _endTrace(e){const t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await(this.onRunUpdate?.(e))}_getExecutionOrder(e){const t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,n,r,a,i,o,s){const l=this._getExecutionOrder(r),c=Date.now(),u=o?{...a,metadata:o}:a,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:u??{},tags:i||[]};return this._addRunToRunMap(d)}async handleLLMStart(e,t,n,r,a,i,o,s){const l=this.runMap.get(n)??this._createRunForLLMStart(e,t,n,r,a,i,o,s);return await(this.onRunCreate?.(l)),await(this.onLLMStart?.(l)),l}_createRunForChatModelStart(e,t,n,r,a,i,o,s){const l=this._getExecutionOrder(r),c=Date.now(),u=o?{...a,metadata:o}:a,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:u??{},tags:i||[]};return this._addRunToRunMap(d)}async handleChatModelStart(e,t,n,r,a,i,o,s){const l=this.runMap.get(n)??this._createRunForChatModelStart(e,t,n,r,a,i,o,s);return await(this.onRunCreate?.(l)),await(this.onLLMStart?.(l)),l}async handleLLMEnd(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onLLMEnd?.(n)),await this._endTrace(n),n}async handleLLMError(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onLLMError?.(n)),await this._endTrace(n),n}_createRunForChainStart(e,t,n,r,a,i,o,s){const l=this._getExecutionOrder(r),c=Date.now(),u={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:l,child_execution_order:l,run_type:o??"chain",child_runs:[],extra:i?{metadata:i}:{},tags:a||[]};return this._addRunToRunMap(u)}async handleChainStart(e,t,n,r,a,i,o,s){const l=this.runMap.get(n)??this._createRunForChainStart(e,t,n,r,a,i,o,s);return await(this.onRunCreate?.(l)),await(this.onChainStart?.(l)),l}async handleChainEnd(e,t,n,r,a){const i=this.runMap.get(t);if(!i)throw new Error("No chain run to end.");return i.end_time=Date.now(),i.outputs=tp(e,"output"),i.events.push({name:"end",time:new Date(i.end_time).toISOString()}),void 0!==a?.inputs&&(i.inputs=tp(a.inputs,"input")),await(this.onChainEnd?.(i)),await this._endTrace(i),i}async handleChainError(e,t,n,r,a){const i=this.runMap.get(t);if(!i)throw new Error("No chain run to end.");return i.end_time=Date.now(),i.error=this.stringifyError(e),i.events.push({name:"error",time:new Date(i.end_time).toISOString()}),void 0!==a?.inputs&&(i.inputs=tp(a.inputs,"input")),await(this.onChainError?.(i)),await this._endTrace(i),i}_createRunForToolStart(e,t,n,r,a,i,o){const s=this._getExecutionOrder(r),l=Date.now(),c={id:n,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:t},execution_order:s,child_execution_order:s,run_type:"tool",child_runs:[],extra:i?{metadata:i}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleToolStart(e,t,n,r,a,i,o){const s=this.runMap.get(n)??this._createRunForToolStart(e,t,n,r,a,i,o);return await(this.onRunCreate?.(s)),await(this.onToolStart?.(s)),s}async handleToolEnd(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onToolEnd?.(n)),await this._endTrace(n),n}async handleToolError(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onToolError?.(n)),await this._endTrace(n),n}async handleAgentAction(e,t){const n=this.runMap.get(t);if(!n||"chain"!==n?.run_type)return;const r=n;r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentAction?.(n))}async handleAgentEnd(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"agent_end",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentEnd?.(n)))}_createRunForRetrieverStart(e,t,n,r,a,i,o){const s=this._getExecutionOrder(r),l=Date.now(),c={id:n,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:t},execution_order:s,child_execution_order:s,run_type:"retriever",child_runs:[],extra:i?{metadata:i}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,t,n,r,a,i,o){const s=this.runMap.get(n)??this._createRunForRetrieverStart(e,t,n,r,a,i,o);return await(this.onRunCreate?.(s)),await(this.onRetrieverStart?.(s)),s}async handleRetrieverEnd(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverEnd?.(n)),await this._endTrace(n),n}async handleRetrieverError(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverError?.(n)),await this._endTrace(n),n}async handleText(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"text",time:(new Date).toISOString(),kwargs:{text:e}}),await(this.onText?.(n)))}async handleLLMNewToken(e,t,n,r,a,i){const o=this.runMap.get(n);if(!o||"llm"!==o?.run_type)throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:(new Date).toISOString(),kwargs:{token:e,idx:t,chunk:i?.chunk}}),await(this.onLLMNewToken?.(o,e,{chunk:i?.chunk})),o}}const ap={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var ip,op=new Uint8Array(16);function sp(){if(!ip&&!(ip="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ip(op)}for(var lp=[],cp=0;cp<256;++cp)lp.push((cp+256).toString(16).slice(1));function up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(lp[e[t+0]]+lp[e[t+1]]+lp[e[t+2]]+lp[e[t+3]]+"-"+lp[e[t+4]]+lp[e[t+5]]+"-"+lp[e[t+6]]+lp[e[t+7]]+"-"+lp[e[t+8]]+lp[e[t+9]]+"-"+lp[e[t+10]]+lp[e[t+11]]+lp[e[t+12]]+lp[e[t+13]]+lp[e[t+14]]+lp[e[t+15]]).toLowerCase()}const dp=function(e,t,n){if(ap.randomUUID&&!t&&!e)return ap.randomUUID();var r=(e=e||{}).random||(e.rng||sp)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return up(r)};var hp=n(2272);const pp=function(){return fetch(...arguments)},fp=Symbol.for("ls:fetch_implementation"),mp=()=>globalThis[fp]??pp,gp=[400,401,403,404,405,406,407,408],yp=[409];class vp{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.queue=new hp.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=this.onFailedResponseHook;return this.queue.add((()=>hh((()=>e(...n).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{async onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response,n=t?.status;if(n){if(gp.includes(+n))throw e;if(yp.includes(+n))return;a&&await a(t)}},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.signal?Promise.race([this.call(t,...r),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...r)}fetch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call((()=>mp()(...t).then((e=>e.ok?e:Promise.reject(e)))))}}function bp(e){return"function"===typeof e?._getType}function wp(e){const t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}let xp;const _p=()=>"undefined"!==typeof Deno,kp=()=>xp||(xp="undefined"!==typeof window&&"undefined"!==typeof window.document?"browser":"undefined"===typeof process||"undefined"===typeof process.versions||"undefined"===typeof process.versions.node||_p()?"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":_p()?"deno":"other":"node",xp);let Sp,Ep;async function Np(){if(void 0===Sp){const e=kp(),t=function(){if(void 0!==Ep)return Ep;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const n of e){const e=jp(n);void 0!==e&&(t[n]=e)}return Ep=t,t}();Sp={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:rf,...t}}return Sp}function Op(){try{return"undefined"!==typeof process?Object.entries({NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}).reduce(((e,t)=>{let[n,r]=t;return e[n]=String(r),e}),{}):void 0}catch(eb){return}}function jp(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}?.[e]:void 0}catch(eb){return}}function Cp(e){return jp(`LANGSMITH_${e}`)||jp(`LANGCHAIN_${e}`)}const Pp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const Tp=function(e){return"string"===typeof e&&Pp.test(e)};function Ap(e,t){if(!Tp(e)){throw new Error(void 0!==t?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`)}return e}const Ip={};function Rp(e){Ip[e]||(console.warn(e),Ip[e]=!0)}var Lp=n(5671);function $p(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[t,n]=e.split(":"),r=n||"latest";if(t.includes("/")){const[n,a]=t.split("/",2);if(!n||!a)throw new Error(`Invalid identifier format: ${e}`);return[n,a,r]}if(!t)throw new Error(`Invalid identifier format: ${e}`);return["-",t,r]}class Mp extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}}async function Dp(e,t,n){let r;if(e.ok)return void(n&&(r=await e.text()));r=await e.text();const a=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Server response: ${r}`;if(409===e.status)throw new Mp(a);throw new Error(a)}var Fp="[...]",zp={result:"[Circular]"},Up=[],Bp=[];function Hp(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function qp(e,t,n,r){var a;"undefined"===typeof r&&(r=Hp()),Vp(e,"",0,[],void 0,0,r);try{a=0===Bp.length?JSON.stringify(e,t,n):JSON.stringify(e,Zp(t),n)}catch(o){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Up.length;){var i=Up.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return a}function Wp(e,t,n,r){var a=Object.getOwnPropertyDescriptor(r,n);void 0!==a.get?a.configurable?(Object.defineProperty(r,n,{value:e}),Up.push([r,n,t,a])):Bp.push([t,n,e]):(r[n]=e,Up.push([r,n,t]))}function Vp(e,t,n,r,a,i,o){var s;if(i+=1,"object"===typeof e&&null!==e){for(s=0;s<r.length;s++)if(r[s]===e)return void Wp(zp,e,t,a);if("undefined"!==typeof o.depthLimit&&i>o.depthLimit)return void Wp(Fp,e,t,a);if("undefined"!==typeof o.edgesLimit&&n+1>o.edgesLimit)return void Wp(Fp,e,t,a);if(r.push(e),Array.isArray(e))for(s=0;s<e.length;s++)Vp(e[s],s,s,r,e,i,o);else{var l=Object.keys(e);for(s=0;s<l.length;s++){var c=l[s];Vp(e[c],c,s,r,e,i,o)}}r.pop()}}function Zp(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,n){if(Bp.length>0)for(var r=0;r<Bp.length;r++){var a=Bp[r];if(a[1]===t&&a[0]===n){n=a[2],Bp.splice(r,1);break}}return e.call(this,t,n)}}async function Gp(e){const t=await Np(),n=function(){const e=Op()||{},t={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,a]of Object.entries(e))!r.startsWith("LANGCHAIN_")||"string"!==typeof a||n.includes(r)||r.toLowerCase().includes("key")||r.toLowerCase().includes("secret")||r.toLowerCase().includes("token")||("LANGCHAIN_REVISION_ID"===r?t.revision_id=a:t[r]=a);return t}();return e.map((e=>{const r=e.extra??{},a=r.metadata;return e.extra={...r,runtime:{...t,...r?.runtime},metadata:{...n,...n.revision_id||e.revision_id?{revision_id:e.revision_id??n.revision_id}:{},...a}},e}))}function Jp(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Kp=async e=>{if(429===e?.status){const t=1e3*parseInt(e.headers.get("retry-after")??"30",10);if(t>0)return await new Promise((e=>setTimeout(e,t))),!0}return!1};class Xp{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise((t=>{this.items.push([e,t])}))}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const t=[];for(;t.length<e&&this.items.length;){const e=this.items.shift();if(!e)break;t.push(e)}return[t.map((e=>e[0])),()=>t.forEach((e=>e[1]()))]}}class Qp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new Xp}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=Qp.getDefaultClientConfig();this.tracingSampleRate=(()=>{const e=Cp("TRACING_SAMPLING_RATE");if(void 0===e)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t})(),this.apiUrl=Jp(e.apiUrl??t.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=Jp(e.apiKey??t.apiKey),this.webUrl=Jp(e.webUrl??t.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??12e3,this.caller=new vp(e.callerOptions??{}),this.batchIngestCaller=new vp({...e.callerOptions??{},onFailedResponseHook:Kp}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=Cp("API_KEY");return{apiUrl:Cp("ENDPOINT")??"https://api.smith.langchain.com",apiKey:e,webUrl:void 0,hideInputs:"true"===Cp("HIDE_INPUTS"),hideOutputs:"true"===Cp("HIDE_OUTPUTS")}}getHostUrl(){return this.webUrl?this.webUrl:(e=>{const t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return"localhost"===t||"127.0.0.1"===t||"::1"===t})(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${rf}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return!1===this.hideInputs?e:!0===this.hideInputs?{}:"function"===typeof this.hideInputs?this.hideInputs(e):e}processOutputs(e){return!1===this.hideOutputs?e:!0===this.hideOutputs?{}:"function"===typeof this.hideOutputs?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const t={...e};return void 0!==t.inputs&&(t.inputs=this.processInputs(t.inputs)),void 0!==t.outputs&&(t.outputs=this.processOutputs(t.outputs)),t}async _getResponse(e,t){const n=t?.toString()??"",r=`${this.apiUrl}${e}?${n}`,a=await this.caller.call(mp(),r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(a,`Failed to fetch ${e}`),a}async _get(e,t){return(await this._getResponse(e,t)).json()}_getPaginated(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams,r=arguments.length>2?arguments[2]:void 0;return async function*(){let a=Number(n.get("offset"))||0;const i=Number(n.get("limit"))||100;for(;;){n.set("offset",String(a)),n.set("limit",String(i));const o=`${t.apiUrl}${e}?${n}`,s=await t.caller.call(mp(),o,{method:"GET",headers:t.headers,signal:AbortSignal.timeout(t.timeout_ms),...t.fetchOptions});await Dp(s,`Failed to fetch ${e}`);const l=r?r(await s.json()):await s.json();if(0===l.length)break;if(yield l,l.length<i)break;a+=l.length}}()}catch(eb){return Promise.reject(eb)}}_getCursorPaginatedList(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"runs";return async function*(){const i=n?{...n}:{};for(;;){const n=await t.caller.call(mp(),`${t.apiUrl}${e}`,{method:r,headers:{...t.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(t.timeout_ms),...t.fetchOptions,body:JSON.stringify(i)}),o=await n.json();if(!o)break;if(!o[a])break;yield o[a];const s=o.cursors;if(!s)break;if(!s.next)break;i.cursor=s.next}}()}catch(eb){return Promise.reject(eb)}}_filterForSampling(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===this.tracingSampleRate)return e;if(t){const t=[];for(const n of e)this.filteredPostUuids.has(n.id)?this.filteredPostUuids.delete(n.id):t.push(n);return t}{const t=[];for(const n of e)n.id!==n.trace_id&&!this.filteredPostUuids.has(n.trace_id)||Math.random()<this.tracingSampleRate?t.push(n):this.filteredPostUuids.add(n.id);return t}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,t]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length)return void t();try{await this.batchIngestRuns({runCreates:e.filter((e=>"create"===e.action)).map((e=>e.item)),runUpdates:e.filter((e=>"update"===e.action)).map((e=>e.item))})}finally{t()}}}async processRunOperation(e,t){const n=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const r=this.autoBatchQueue.push(e);return(t||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue().catch(console.error),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout((()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)}),n?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),r}async _getServerInfo(){const e=await mp()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(e,"get server info"),e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch(eb){return!1}return!0}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async createRun(e){if(!this._filterForSampling([e]).length)return;const t={...this.headers,"Content-Type":"application/json"},n=e.project_name;delete e.project_name;const r=this.prepareRunCreateOrUpdateInputs({session_name:n,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&void 0!==r.trace_id&&void 0!==r.dotted_order)return void this.processRunOperation({action:"create",item:r}).catch(console.error);const a=await Gp([r]),i=await this.caller.call(mp(),`${this.apiUrl}/runs`,{method:"POST",headers:t,body:qp(a[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(i,"create run",!0)}async batchIngestRuns(e){let{runCreates:t,runUpdates:n}=e;if(void 0===t&&void 0===n)return;let r=t?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[],a=n?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[];if(r.length>0&&a.length>0){const e=r.reduce(((e,t)=>t.id?(e[t.id]=t,e):e),{}),t=[];for(const n of a)void 0!==n.id&&e[n.id]?e[n.id]={...e[n.id],...n}:t.push(n);r=Object.values(e),a=t}const i={post:this._filterForSampling(r),patch:this._filterForSampling(a,!0)};if(!i.post.length&&!i.patch.length)return;if(r=await Gp(r),void 0===this.batchEndpointSupported&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const e of i.post)await this.createRun(e);for(const e of i.patch)void 0!==e.id&&await this.updateRun(e.id,e);return}const o=this.serverInfo?.batch_ingest_config?.size_limit_bytes??20971520,s={post:[],patch:[]};let l=0;for(const c of["post","patch"]){const e=c,t=i[e].reverse();let n=t.pop();for(;void 0!==n;){const r=qp(n);l>0&&l+r.length>o&&(await this._postBatchIngestRuns(qp(s)),l=0,s.post=[],s.patch=[]),l+=r.length,s[e].push(n),n=t.pop()}}(s.post.length>0||s.patch.length>0)&&await this._postBatchIngestRuns(qp(s))}async _postBatchIngestRuns(e){const t={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(mp(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:t,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(n,"batch create run",!0)}async updateRun(e,t){Ap(e),t.inputs&&(t.inputs=this.processInputs(t.inputs)),t.outputs&&(t.outputs=this.processOutputs(t.outputs));const n={...t,id:e};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&void 0!==n.trace_id&&void 0!==n.dotted_order)return void 0!==t.end_time&&void 0===n.parent_run_id?void await this.processRunOperation({action:"update",item:n},!0):void this.processRunOperation({action:"update",item:n}).catch(console.error);const r={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(mp(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:qp(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(a,"update run",!0)}async readRun(e){let{loadChildRuns:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loadChildRuns:!1};Ap(e);let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl(e){let{runId:t,run:n,projectOpts:r}=e;if(void 0!==n){let e;if(n.session_id)e=n.session_id;else if(r?.projectName)e=(await this.readProject({projectName:r?.projectName})).id;else if(r?.projectId)e=r?.projectId;else{e=(await this.readProject({projectName:Cp("PROJECT")||"default"})).id}const t=await this._getTenantId();return`${this.getHostUrl()}/o/${t}/projects/p/${e}/r/${n.id}?poll=true`}if(void 0!==t){const e=await this.readRun(t);if(!e.app_path)throw new Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${e.app_path}`}throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await async function(e){const t=[];for await(const n of e)t.push(n);return t}(this.listRuns({id:e.child_run_ids})),n={},r={};t.sort(((e,t)=>(e?.dotted_order??"").localeCompare(t?.dotted_order??"")));for(const a of t){if(null===a.parent_run_id||void 0===a.parent_run_id)throw new Error(`Child run ${a.id} has no parent`);a.parent_run_id in n||(n[a.parent_run_id]=[]),n[a.parent_run_id].push(a),r[a.id]=a}e.child_runs=n[e.id]||[];for(const a in n)a!==e.id&&(r[a].child_runs=n[a]);return e}async*listRuns(e){const{projectId:t,projectName:n,parentRunId:r,traceId:a,referenceExampleId:i,startTime:o,executionOrder:s,isRoot:l,runType:c,error:u,id:d,query:h,filter:p,traceFilter:f,treeFilter:m,limit:g,select:y}=e;let v=[];if(t&&(v=Array.isArray(t)?t:[t]),n){const e=Array.isArray(n)?n:[n],t=await Promise.all(e.map((e=>this.readProject({projectName:e}).then((e=>e.id)))));v.push(...t)}const b={session:v.length?v:null,run_type:c,reference_example:i,query:h,filter:p,trace_filter:f,tree_filter:m,execution_order:s,parent_run:r,start_time:o?o.toISOString():null,error:u,id:d,limit:g,trace:a,select:y||["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],is_root:l};let w=0;for await(const x of this._getCursorPaginatedList("/runs/query",b))if(g){if(w>=g)break;if(x.length+w>g){const e=x.slice(0,g-w);yield*e;break}w+=x.length,yield*x}else yield*x}async getRunStats(e){let{id:t,trace:n,parentRun:r,runType:a,projectNames:i,projectIds:o,referenceExampleIds:s,startTime:l,endTime:c,error:u,query:d,filter:h,traceFilter:p,treeFilter:f,isRoot:m,dataSourceType:g}=e,y=o||[];i&&(y=[...o||[],...await Promise.all(i.map((e=>this.readProject({projectName:e}).then((e=>e.id)))))]);const v={id:t,trace:n,parent_run:r,run_type:a,session:y,reference_example:s,start_time:l,end_time:c,error:u,query:d,filter:h,trace_filter:p,tree_filter:f,is_root:m,data_source_type:g},b=Object.fromEntries(Object.entries(v).filter((e=>{let[t,n]=e;return void 0!==n}))),w=await this.caller.call(mp(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(b),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await w.json()}async shareRun(e){let{shareId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={run_id:e,share_token:t||dp()};Ap(e);const r=await this.caller.call(mp(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await r.json();if(null===a||!("share_token"in a))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${a.share_token}/r`}async unshareRun(e){Ap(e);const t=await this.caller.call(mp(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(t,"unshare run",!0)}async readRunSharedLink(e){Ap(e);const t=await this.caller.call(mp(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await t.json();if(null!==n&&"share_token"in n)return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e){let{runIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams({share_token:e});if(void 0!==t)for(const a of t)n.append("id",a);Ap(e);const r=await this.caller.call(mp(),`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await r.json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}Ap(e);const n=await this.caller.call(mp(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}const n={dataset_id:e};Ap(e);const r=await this.caller.call(mp(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await r.json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async unshareDataset(e){Ap(e);const t=await this.caller.call(mp(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(t,"unshare dataset",!0)}async readSharedDataset(e){Ap(e);const t=await this.caller.call(mp(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await t.json()}async listSharedExamples(e,t){const n={};t?.exampleIds&&(n.id=t.exampleIds);const r=new URLSearchParams;Object.entries(n).forEach((e=>{let[t,n]=e;Array.isArray(n)?n.forEach((e=>r.append(t,e))):r.append(t,n)}));const a=await this.caller.call(mp(),`${this.apiUrl}/public/${e}/examples?${r.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),i=await a.json();if(!a.ok){if("detail"in i)throw new Error(`Failed to list shared examples.\nStatus: ${a.status}\nMessage: ${i.detail.join("\n")}`);throw new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`)}return i.map((e=>({...e,_hostUrl:this.getHostUrl()})))}async createProject(e){let{projectName:t,description:n=null,metadata:r=null,upsert:a=!1,projectExtra:i=null,referenceDatasetId:o=null}=e;const s=a?"?upsert=true":"",l=`${this.apiUrl}/sessions${s}`,c=i||{};r&&(c.metadata=r);const u={name:t,extra:c,description:n};null!==o&&(u.reference_dataset_id=o);const d=await this.caller.call(mp(),l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(d,"create project");return await d.json()}async updateProject(e,t){let{name:n=null,description:r=null,metadata:a=null,projectExtra:i=null,endTime:o=null}=t;const s=`${this.apiUrl}/sessions/${e}`;let l=i;a&&(l={...l||{},metadata:a});const c={name:n,extra:l,description:r,end_time:o?new Date(o).toISOString():null},u=await this.caller.call(mp(),s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(u,"update project");return await u.json()}async hasProject(e){let{projectId:t,projectName:n}=e,r="/sessions";const a=new URLSearchParams;if(void 0!==t&&void 0!==n)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==t)Ap(t),r+=`/${t}`;else{if(void 0===n)throw new Error("Must provide projectName or projectId");a.append("name",n)}const i=await this.caller.call(mp(),`${this.apiUrl}${r}?${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const e=await i.json();return!!i.ok&&(!Array.isArray(e)||e.length>0)}catch(eb){return!1}}async readProject(e){let{projectId:t,projectName:n,includeStats:r}=e,a="/sessions";const i=new URLSearchParams;if(void 0!==t&&void 0!==n)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==t)Ap(t),a+=`/${t}`;else{if(void 0===n)throw new Error("Must provide projectName or projectId");i.append("name",n)}void 0!==r&&i.append("include_stats",r.toString());const o=await this._get(a,i);let s;if(Array.isArray(o)){if(0===o.length)throw new Error(`Project[id=${t}, name=${n}] not found`);s=o[0]}else s=o;return s}async getProjectUrl(e){let{projectId:t,projectName:n}=e;if(void 0===t&&void 0===n)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:t,projectName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${r.id}`}async getDatasetUrl(e){let{datasetId:t,datasetName:n}=e;if(void 0===t&&void 0===n)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:t,datasetName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/datasets/${r.id}`}async _getTenantId(){if(null!==this._tenantId)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}listProjects(){try{var e=this;let{projectIds:t,name:n,nameContains:r,referenceDatasetId:a,referenceDatasetName:i,referenceFree:o,metadata:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const l=new URLSearchParams;if(void 0!==t)for(const e of t)l.append("id",e);if(void 0!==n&&l.append("name",n),void 0!==r&&l.append("name_contains",r),void 0!==a)l.append("reference_dataset",a);else if(void 0!==i){const t=await e.readDataset({datasetName:i});l.append("reference_dataset",t.id)}void 0!==o&&l.append("reference_free",o.toString()),void 0!==s&&l.append("metadata",JSON.stringify(s));for await(const t of e._getPaginated("/sessions",l))yield*t}()}catch(eb){return Promise.reject(eb)}}async deleteProject(e){let t,{projectId:n,projectName:r}=e;if(void 0===n&&void 0===r)throw new Error("Must provide projectName or projectId");if(void 0!==n&&void 0!==r)throw new Error("Must provide either projectName or projectId, not both");t=void 0===n?(await this.readProject({projectName:r})).id:n,Ap(t);const a=await this.caller.call(mp(),`${this.apiUrl}/sessions/${t}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(a,`delete session ${t} (${r})`,!0)}async uploadCsv(e){let{csvFile:t,fileName:n,inputKeys:r,outputKeys:a,description:i,dataType:o,name:s}=e;const l=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",t,n),r.forEach((e=>{c.append("input_keys",e)})),a.forEach((e=>{c.append("output_keys",e)})),i&&c.append("description",i),o&&c.append("data_type",o),s&&c.append("name",s);const u=await this.caller.call(mp(),l,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(u,"upload CSV");return await u.json()}async createDataset(e){let{description:t,dataType:n,inputsSchema:r,outputsSchema:a,metadata:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={name:e,description:t,extra:i?{metadata:i}:void 0};n&&(o.data_type=n),r&&(o.inputs_schema_definition=r),a&&(o.outputs_schema_definition=a);const s=await this.caller.call(mp(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(s,"create dataset");return await s.json()}async readDataset(e){let{datasetId:t,datasetName:n}=e,r="/datasets";const a=new URLSearchParams({limit:"1"});if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t)Ap(t),r+=`/${t}`;else{if(void 0===n)throw new Error("Must provide datasetName or datasetId");a.append("name",n)}const i=await this._get(r,a);let o;if(Array.isArray(i)){if(0===i.length)throw new Error(`Dataset[id=${t}, name=${n}] not found`);o=i[0]}else o=i;return o}async hasDataset(e){let{datasetId:t,datasetName:n}=e;try{return await this.readDataset({datasetId:t,datasetName:n}),!0}catch(eb){if(eb instanceof Error&&eb.message.toLocaleLowerCase().includes("not found"))return!1;throw eb}}async diffDatasetVersions(e){let{datasetId:t,datasetName:n,fromVersion:r,toVersion:a}=e,i=t;if(void 0===i&&void 0===n)throw new Error("Must provide either datasetName or datasetId");if(void 0!==i&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===i){i=(await this.readDataset({datasetName:n})).id}const o=new URLSearchParams({from_version:"string"===typeof r?r:r.toISOString(),to_version:"string"===typeof a?a:a.toISOString()});return await this._get(`/datasets/${i}/versions/diff`,o)}async readDatasetOpenaiFinetuning(e){let{datasetId:t,datasetName:n}=e;if(void 0!==t);else{if(void 0===n)throw new Error("Must provide datasetName or datasetId");t=(await this.readDataset({datasetName:n})).id}const r=await this._getResponse(`/datasets/${t}/openai_ft`);return(await r.text()).trim().split("\n").map((e=>JSON.parse(e)))}listDatasets(){try{var e=this;let{limit:t=100,offset:n=0,datasetIds:r,datasetName:a,datasetNameContains:i,metadata:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const s=new URLSearchParams({limit:t.toString(),offset:n.toString()});if(void 0!==r)for(const e of r)s.append("id",e);void 0!==a&&s.append("name",a),void 0!==i&&s.append("name_contains",i),void 0!==o&&s.append("metadata",JSON.stringify(o));for await(const t of e._getPaginated("/datasets",s))yield*t}()}catch(eb){return Promise.reject(eb)}}async updateDataset(e){const{datasetId:t,datasetName:n,...r}=e;if(!t&&!n)throw new Error("Must provide either datasetName or datasetId");const a=t??(await this.readDataset({datasetName:n})).id;Ap(a);const i=await this.caller.call(mp(),`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(i,"update dataset"),await i.json()}async deleteDataset(e){let{datasetId:t,datasetName:n}=e,r="/datasets",a=t;if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==n){a=(await this.readDataset({datasetName:n})).id}if(void 0===a)throw new Error("Must provide datasetName or datasetId");Ap(a),r+=`/${a}`;const i=await this.caller.call(mp(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(i,`delete ${r}`),await i.json()}async indexDataset(e){let{datasetId:t,datasetName:n,tag:r}=e,a=t;if(!a&&!n)throw new Error("Must provide either datasetName or datasetId");if(a&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(!a){a=(await this.readDataset({datasetName:n})).id}Ap(a);const i={tag:r},o=await this.caller.call(mp(),`${this.apiUrl}/datasets/${a}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(o,"index dataset"),await o.json()}async similarExamples(e,t,n){let{filter:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a={limit:n,inputs:e};void 0!==r&&(a.filter=r),Ap(t);const i=await this.caller.call(mp(),`${this.apiUrl}/datasets/${t}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(i,"fetch similar examples");return(await i.json()).examples}async createExample(e,t,n){let{datasetId:r,datasetName:a,createdAt:i,exampleId:o,metadata:s,split:l,sourceRunId:c}=n,u=r;if(void 0===u&&void 0===a)throw new Error("Must provide either datasetName or datasetId");if(void 0!==u&&void 0!==a)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===u){u=(await this.readDataset({datasetName:a})).id}const d=i||new Date,h={dataset_id:u,inputs:e,outputs:t,created_at:d?.toISOString(),id:o,metadata:s,split:l,source_run_id:c},p=await this.caller.call(mp(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(p,"create example");return await p.json()}async createExamples(e){const{inputs:t,outputs:n,metadata:r,sourceRunIds:a,exampleIds:i,datasetId:o,datasetName:s}=e;let l=o;if(void 0===l&&void 0===s)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==s)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===l){const e=await this.readDataset({datasetName:s});l=e.id}const c=t.map(((t,o)=>({dataset_id:l,inputs:t,outputs:n?n[o]:void 0,metadata:r?r[o]:void 0,split:e.splits?e.splits[o]:void 0,id:i?i[o]:void 0,source_run_id:a?a[o]:void 0}))),u=await this.caller.call(mp(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(u,"create examples");return await u.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const r=e.map((e=>bp(e)?wp(e):e)),a=bp(t)?wp(t):t;return this.createExample({input:r},{output:a},n)}async readExample(e){Ap(e);const t=`/examples/${e}`;return await this._get(t)}listExamples(){try{var e=this;let{datasetId:t,datasetName:n,exampleIds:r,asOf:a,splits:i,inlineS3Urls:o,metadata:s,limit:l,offset:c,filter:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){let d;if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t)d=t;else{if(void 0===n)throw new Error("Must provide a datasetName or datasetId");d=(await e.readDataset({datasetName:n})).id}const h=new URLSearchParams({dataset:d}),p=a?"string"===typeof a?a:a?.toISOString():void 0;p&&h.append("as_of",p);const f=o??!0;if(h.append("inline_s3_urls",f.toString()),void 0!==r)for(const e of r)h.append("id",e);if(void 0!==i)for(const e of i)h.append("splits",e);if(void 0!==s){const e=JSON.stringify(s);h.append("metadata",e)}void 0!==l&&h.append("limit",l.toString()),void 0!==c&&h.append("offset",c.toString()),void 0!==u&&h.append("filter",u);let m=0;for await(const t of e._getPaginated("/examples",h)){for(const e of t)yield e,m++;if(void 0!==l&&m>=l)break}}()}catch(eb){return Promise.reject(eb)}}async deleteExample(e){Ap(e);const t=`/examples/${e}`,n=await this.caller.call(mp(),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(n,`delete ${t}`),await n.json()}async updateExample(e,t){Ap(e);const n=await this.caller.call(mp(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(n,"update example");return await n.json()}async updateExamples(e){const t=await this.caller.call(mp(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(t,"update examples");return await t.json()}async listDatasetSplits(e){let t,{datasetId:n,datasetName:r,asOf:a}=e;if(void 0===n&&void 0===r)throw new Error("Must provide dataset name or ID");if(void 0!==n&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===n){t=(await this.readDataset({datasetName:r})).id}else t=n;Ap(t);const i=new URLSearchParams,o=a?"string"===typeof a?a:a?.toISOString():void 0;o&&i.append("as_of",o);return await this._get(`/datasets/${t}/splits`,i)}async updateDatasetSplits(e){let t,{datasetId:n,datasetName:r,splitName:a,exampleIds:i,remove:o=!1}=e;if(void 0===n&&void 0===r)throw new Error("Must provide dataset name or ID");if(void 0!==n&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===n){t=(await this.readDataset({datasetName:r})).id}else t=n;Ap(t);const s={split_name:a,examples:i.map((e=>(Ap(e),e))),remove:o},l=await this.caller.call(mp(),`${this.apiUrl}/datasets/${t}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(l,"update dataset splits",!0)}async evaluateRun(e,t){let n,{sourceInfo:r,loadChildRuns:a,referenceExample:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loadChildRuns:!1};if(Rp("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead."),"string"===typeof e)n=await this.readRun(e,{loadChildRuns:a});else{if("object"!==typeof e||!("id"in e))throw new Error("Invalid run type: "+typeof e);n=e}null!==n.reference_example_id&&void 0!==n.reference_example_id&&(i=await this.readExample(n.reference_example_id));const o=await t.evaluateRun(n,i),[s,l]=await this._logEvaluationFeedback(o,n,r);return l[0]}async createFeedback(e,t,n){let{score:r,value:a,correction:i,comment:o,sourceInfo:s,feedbackSourceType:l="api",sourceRunId:c,feedbackId:u,feedbackConfig:d,projectId:h,comparativeExperimentId:p}=n;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const f={type:l??"api",metadata:s??{}};void 0===c||void 0===f?.metadata||f.metadata.__run||(f.metadata.__run={run_id:c}),void 0!==f?.metadata&&void 0!==f.metadata.__run?.run_id&&Ap(f.metadata.__run.run_id);const m={id:u??dp(),run_id:e,key:t,score:r,value:a,correction:i,comment:o,feedback_source:f,comparative_experiment_id:p,feedbackConfig:d,session_id:h},g=`${this.apiUrl}/feedback`,y=await this.caller.call(mp(),g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(y,"create feedback",!0),m}async updateFeedback(e,t){let{score:n,value:r,correction:a,comment:i}=t;const o={};void 0!==n&&null!==n&&(o.score=n),void 0!==r&&null!==r&&(o.value=r),void 0!==a&&null!==a&&(o.correction=a),void 0!==i&&null!==i&&(o.comment=i),Ap(e);const s=await this.caller.call(mp(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(s,"update feedback",!0)}async readFeedback(e){Ap(e);const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){Ap(e);const t=`/feedback/${e}`,n=await this.caller.call(mp(),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(n,`delete ${t}`),await n.json()}listFeedback(){try{var e=this;let{runIds:t,feedbackKeys:n,feedbackSourceTypes:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const a=new URLSearchParams;if(t&&a.append("run",t.join(",")),n)for(const e of n)a.append("key",e);if(r)for(const e of r)a.append("source",e);for await(const t of e._getPaginated("/feedback",a))yield*t}()}catch(eb){return Promise.reject(eb)}}async createPresignedFeedbackToken(e,t){let{expiration:n,feedbackConfig:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={run_id:e,feedback_key:t,feedback_config:r};n?"string"===typeof n?a.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(a.expires_in=n):a.expires_in={hours:3};const i=await this.caller.call(mp(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await i.json()}async createComparativeExperiment(e){let{name:t,experimentIds:n,referenceDatasetId:r,createdAt:a,description:i,metadata:o,id:s}=e;if(0===n.length)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),null==!r)throw new Error("A reference dataset is required");const l={id:s,name:t,experiment_ids:n,reference_dataset_id:r,description:i,created_at:(a??new Date)?.toISOString(),extra:{}};o&&(l.extra.metadata=o);const c=await this.caller.call(mp(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await c.json()}async*listPresignedFeedbackTokens(e){Ap(e);const t=new URLSearchParams({run_id:e});for await(const n of this._getPaginated("/feedback/tokens",t))yield*n}_selectEvalResults(e){let t;return t="results"in e?e.results:[e],t}async _logEvaluationFeedback(e,t,n){const r=this._selectEvalResults(e),a=[];for(const i of r){let e=n||{};i.evaluatorInfo&&(e={...i.evaluatorInfo,...e});let r=null;i.targetRunId?r=i.targetRunId:t&&(r=t.id),a.push(await this.createFeedback(r,i.key,{score:i.score,value:i.value,comment:i.comment,correction:i.correction,sourceInfo:e,sourceRunId:i.sourceRunId,feedbackConfig:i.feedbackConfig,feedbackSourceType:"model"}))}return[r,a]}async logEvaluationFeedback(e,t,n){const[r]=await this._logEvaluationFeedback(e,t,n);return r}listAnnotationQueues(){try{var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const{queueIds:n,name:r,nameContains:a,limit:i}=t,o=new URLSearchParams;n&&n.forEach(((e,t)=>{Ap(e,`queueIds[${t}]`),o.append("ids",e)})),r&&o.append("name",r),a&&o.append("name_contains",a),o.append("limit",(void 0!==i?Math.min(i,100):100).toString());let s=0;for await(const t of e._getPaginated("/annotation-queues",o))if(yield*t,s++,void 0!==i&&s>=i)break}()}catch(eb){return Promise.reject(eb)}}async createAnnotationQueue(e){const{name:t,description:n,queueId:r}=e,a={name:t,description:n,id:r||dp()},i=await this.caller.call(mp(),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(a).filter((e=>{let[t,n]=e;return void 0!==n})))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(i,"create annotation queue");return await i.json()}async readAnnotationQueue(e){const t=await this.listAnnotationQueues({queueIds:[e]}).next();if(t.done)throw new Error(`Annotation queue with ID ${e} not found`);return t.value}async updateAnnotationQueue(e,t){const{name:n,description:r}=t,a=await this.caller.call(mp(),`${this.apiUrl}/annotation-queues/${Ap(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:n,description:r}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(a,"update annotation queue")}async deleteAnnotationQueue(e){const t=await this.caller.call(mp(),`${this.apiUrl}/annotation-queues/${Ap(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(t,"delete annotation queue")}async addRunsToAnnotationQueue(e,t){const n=await this.caller.call(mp(),`${this.apiUrl}/annotation-queues/${Ap(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t.map(((e,t)=>Ap(e,`runIds[${t}]`).toString()))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(n,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,t){const n=`/annotation-queues/${Ap(e,"queueId")}/run`,r=await this.caller.call(mp(),`${this.apiUrl}${n}/${t}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(r,"get run from annotation queue"),await r.json()}async _currentTenantIsOwner(e){const t=await this._getSettings();return"-"==e||t.tenant_handle===e}async _ownerConflictError(e,t){const n=await this._getSettings();return new Error(`Cannot ${e} for another tenant.\n\n      Current tenant: ${n.tenant_handle}\n\n      Requested tenant: ${t}`)}async _getLatestCommitHash(e){const t=await this.caller.call(mp(),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await t.json();if(!t.ok){const e="string"===typeof n.detail?n.detail:JSON.stringify(n.detail),r=new Error(`Error ${t.status}: ${t.statusText}\n${e}`);throw r.statusCode=t.status,r}if(0!==n.commits.length)return n.commits[0].commit_hash}async _likeOrUnlikePrompt(e,t){const[n,r,a]=$p(e),i=await this.caller.call(mp(),`${this.apiUrl}/likes/${n}/${r}`,{method:"POST",body:JSON.stringify({like:t}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(i,(t?"like":"unlike")+" prompt"),await i.json()}async _getPromptUrl(e){const[t,n,r]=$p(e);if(await this._currentTenantIsOwner(t)){const e=await this._getSettings();return"latest"!==r?`${this.getHostUrl()}/prompts/${n}/${r.substring(0,8)}?organizationId=${e.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${e.id}`}return"latest"!==r?`${this.getHostUrl()}/hub/${t}/${n}/${r.substring(0,8)}`:`${this.getHostUrl()}/hub/${t}/${n}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const t of this._getPaginated(`/commits/${e}/`,new URLSearchParams,(e=>e.commits)))yield*t}async*listPrompts(e){const t=new URLSearchParams;t.append("sort_field",e?.sortField??"updated_at"),t.append("sort_direction","desc"),t.append("is_archived",(!!e?.isArchived).toString()),void 0!==e?.isPublic&&t.append("is_public",e.isPublic.toString()),e?.query&&t.append("query",e.query);for await(const n of this._getPaginated("/repos",t,(e=>e.repos)))yield*n}async getPrompt(e){const[t,n,r]=$p(e),a=await this.caller.call(mp(),`${this.apiUrl}/repos/${t}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(404===a.status)return null;await Dp(a,"get prompt");const i=await a.json();return i.repo?i.repo:null}async createPrompt(e,t){const n=await this._getSettings();if(t?.isPublic&&!n.tenant_handle)throw new Error("Cannot create a public prompt without first\n\n        creating a LangChain Hub handle. \n        You can add a handle by creating a public prompt at:\n\n        https://smith.langchain.com/prompts");const[r,a,i]=$p(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("create a prompt",r);const o={repo_handle:a,...t?.description&&{description:t.description},...t?.readme&&{readme:t.readme},...t?.tags&&{tags:t.tags},is_public:!!t?.isPublic},s=await this.caller.call(mp(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(s,"create prompt");const{repo:l}=await s.json();return l}async createCommit(e,t,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,a,i]=$p(e),o="latest"!==n?.parentCommitHash&&n?.parentCommitHash?n?.parentCommitHash:await this._getLatestCommitHash(`${r}/${a}`),s={manifest:JSON.parse(JSON.stringify(t)),parent_commit:o},l=await this.caller.call(mp(),`${this.apiUrl}/commits/${r}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(l,"create commit");const c=await l.json();return this._getPromptUrl(`${r}/${a}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updatePrompt(e,t){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r]=$p(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);const a={};if(void 0!==t?.description&&(a.description=t.description),void 0!==t?.readme&&(a.readme=t.readme),void 0!==t?.tags&&(a.tags=t.tags),void 0!==t?.isPublic&&(a.is_public=t.isPublic),void 0!==t?.isArchived&&(a.is_archived=t.isArchived),0===Object.keys(a).length)throw new Error("No valid update options provided");const i=await this.caller.call(mp(),`${this.apiUrl}/repos/${n}/${r}`,{method:"PATCH",body:JSON.stringify(a),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dp(i,"update prompt"),i.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[t,n,r]=$p(e);if(!await this._currentTenantIsOwner(t))throw await this._ownerConflictError("delete a prompt",t);const a=await this.caller.call(mp(),`${this.apiUrl}/repos/${t}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await a.json()}async pullPromptCommit(e,t){const[n,r,a]=$p(e);let i=a;if(!function(e,t){const n=(0,Lp.parse)(e),r=(0,Lp.parse)(t);if(!n||!r)throw new Error("Invalid version format.");return n.compare(r)>=0}((await this._getServerInfo()).version,"0.5.23")&&"latest"===a){const e=await this._getLatestCommitHash(`${n}/${r}`);if(!e)throw new Error("No commits found");i=e}const o=await this.caller.call(mp(),`${this.apiUrl}/commits/${n}/${r}/${i}${t?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Dp(o,"pull prompt commit");const s=await o.json();return{owner:n,repo:r,commit_hash:s.commit_hash,manifest:s.manifest,examples:s.examples}}async _pullPrompt(e,t){const n=await this.pullPromptCommit(e,{includeModel:t?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(e,t){if(await this.promptExists(e)?t&&Object.keys(t).some((e=>"object"!==e))&&await this.updatePrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}):await this.createPrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}),!t?.object)return await this._getPromptUrl(e);return await this.createCommit(e,t?.object,{parentCommitHash:t?.parentCommitHash})}async clonePublicDataset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceApiUrl:n=this.apiUrl,datasetName:r}=t,[a,i]=this.parseTokenOrUrl(e,n),o=new Qp({apiUrl:a,apiKey:"placeholder"}),s=await o.readSharedDataset(i),l=r||s.name;try{if(await this.hasDataset({datasetId:l}))return void console.log(`Dataset ${l} already exists in your tenant. Skipping.`)}catch(d){}const c=await o.listSharedExamples(i),u=await this.createDataset(l,{description:s.description,dataType:s.data_type||"kv",inputsSchema:s.inputs_schema_definition??void 0,outputsSchema:s.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map((e=>e.inputs)),outputs:c.flatMap((e=>e.outputs?[e.outputs]:[])),datasetId:u.id})}catch(eb){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),eb}}parseTokenOrUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dataset";try{return Ap(e),[t,e]}catch(a){}try{const a=new URL(e).pathname.split("/").filter((e=>""!==e));if(a.length>=n){return[t,a[a.length-n]]}throw new Error(`Invalid public ${r} URL: ${e}`)}catch(i){throw new Error(`Invalid public ${r} URL or token: ${e}`)}}}class Yp{constructor(e,t){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=t}static fromHeader(e){const t=e.split(",");let n={},r=[];for(const a of t){const[e,t]=a.split("="),i=decodeURIComponent(t);"langsmith-metadata"===e?n=JSON.parse(i):"langsmith-tags"===e&&(r=i.split(","))}return new Yp(n,r)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}}class ef{constructor(e){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=ef.getDefaultConfig(),{metadata:n,...r}=e,a=r.client??ef.getSharedClient(),i={...n,...r?.extra?.metadata};if(r.extra={...r.extra,metadata:i},Object.assign(this,{...t,...r,client:a}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order){const e=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1).toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${n}Z`.replace(/[-:.]/g,"")+t}(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+e:this.dotted_order=e}}static getDefaultConfig(){return{id:dp(),run_type:"chain",project_name:jp("LANGCHAIN_PROJECT")??jp("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:jp("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:jp("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return ef.sharedClient||(ef.sharedClient=new Qp),ef.sharedClient}createChild(e){const t=this.child_execution_order+1,n=new ef({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:t,child_execution_order:t}),r=Symbol.for("lc:child_config"),a=e.extra?.[r]??this.extra[r];if(void 0!==(i=a)&&"object"===typeof i.callbacks&&(nf(i.callbacks?.handlers)||nf(i.callbacks))){const e={...a},t=function(e){return"object"===typeof e&&null!=e&&Array.isArray(e.handlers)}(e.callbacks)?e.callbacks.copy?.():void 0;t&&(Object.assign(t,{_parentRunId:n.id}),t.handlers?.find(tf)?.updateFromRunTree?.(n),e.callbacks=t),n.extra[r]=e}var i;const o=new Set;let s=this;for(;null!=s&&!o.has(s.id);)o.add(s.id),s.child_execution_order=Math.max(s.child_execution_order,t),s=s.parent_run;return this.child_runs.push(n),n}async end(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();this.outputs=this.outputs??e,this.error=this.error??t,this.end_time=this.end_time??n}_convertToCreate(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.extra??{};if(r.runtime||(r.runtime={}),t)for(const[o,s]of Object.entries(t))r.runtime[o]||(r.runtime[o]=s);let a,i;n?(i=e.parent_run?.id,a=[]):(a=e.child_runs.map((e=>this._convertToCreate(e,t,n))),i=void 0);return{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:r,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:i,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags}}async postRun(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{const t=await Np(),n=await this._convertToCreate(this,t,!0);if(await this.client.createRun(n),!e){Rp("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const e of this.child_runs)await e.postRun(!1)}}catch(t){console.error(`Error in postRun for run ${this.id}:`,t)}}async patchRun(){try{const e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags};await this.client.updateRun(this.id,e)}catch(e){console.error(`Error in patchRun for run ${this.id}`,e)}}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,t){const n=e?.callbacks;let r,a,i,o=(e=>void 0!==e?e:!!["TRACING_V2","TRACING"].find((e=>"true"===Cp(e))))();if(n){const e=n?.getParentRunId?.()??"",t=n?.handlers?.find((e=>"langchain_tracer"==e?.name));r=t?.getRun?.(e),a=t?.projectName,i=t?.client,o=o||!!t}if(!r)return new ef({...t,client:i,tracingEnabled:o,project_name:a});return new ef({name:r.name,id:r.id,trace_id:r.trace_id,dotted_order:r.dotted_order,client:i,tracingEnabled:o,project_name:a,tags:[...new Set((r?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...r?.extra?.metadata,...e?.metadata}}}).createChild(t)}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,t){const n="get"in e&&"function"===typeof e.get?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,r=n["langsmith-trace"];if(!r||"string"!==typeof r)return;const a=r.trim(),i=a.split(".").map((e=>{const[t,n]=e.split("Z");return{strTime:t,time:Date.parse(t+"Z"),uuid:n}})),o=i[0].uuid,s={...t,name:t?.name??"parent",run_type:t?.run_type??"chain",start_time:t?.start_time??Date.now(),id:i.at(-1)?.uuid,trace_id:o,dotted_order:a};if(n.baggage&&"string"===typeof n.baggage){const e=Yp.fromHeader(n.baggage);s.metadata=e.metadata,s.tags=e.tags}return new ef(s)}toHeaders(e){const t={"langsmith-trace":this.dotted_order,baggage:new Yp(this.extra?.metadata,this.tags).toHeader()};if(e)for(const[n,r]of Object.entries(t))e.set(n,r);return t}}function tf(e){return"object"===typeof e&&null!=e&&"string"===typeof e.name&&"langchain_tracer"===e.name}function nf(e){return Array.isArray(e)&&e.some((e=>tf(e)))}Object.defineProperty(ef,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});const rf="0.1.61";var af=n(700);function of(e,t){return`${e.open}${t}${e.close}`}function sf(e,t){try{return JSON.stringify(e,null,2)}catch(n){return t}}function lf(e){return"string"===typeof e?e.trim():null===e||void 0===e?e:sf(e,e.toString())}function cf(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:uf}=af;class df extends rp{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const e=this.runMap.get(n.parent_run_id);if(!e)break;t.push(e),n=e}return t}getBreadcrumbs(e){const t=[...this.getParents(e).reverse(),e].map(((e,t,n)=>{const r=`${e.execution_order}:${e.run_type}:${e.name}`;return t===n.length-1?of(af.bold,r):r})).join(" > ");return of(uf.grey,t)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.green,"[chain/start]")} [${t}] Entering Chain run with input: ${sf(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.cyan,"[chain/end]")} [${t}] [${cf(e)}] Exiting Chain run with output: ${sf(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.red,"[chain/error]")} [${t}] [${cf(e)}] Chain run errored with error: ${sf(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map((e=>e.trim()))}:e.inputs;console.log(`${of(uf.green,"[llm/start]")} [${t}] Entering LLM run with input: ${sf(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.cyan,"[llm/end]")} [${t}] [${cf(e)}] Exiting LLM run with output: ${sf(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.red,"[llm/error]")} [${t}] [${cf(e)}] LLM run errored with error: ${sf(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.green,"[tool/start]")} [${t}] Entering Tool run with input: "${lf(e.inputs.input)}"`)}onToolEnd(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.cyan,"[tool/end]")} [${t}] [${cf(e)}] Exiting Tool run with output: "${lf(e.outputs?.output)}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.red,"[tool/error]")} [${t}] [${cf(e)}] Tool run errored with error: ${sf(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${sf(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.cyan,"[retriever/end]")} [${t}] [${cf(e)}] Exiting Retriever run with output: ${sf(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${of(uf.red,"[retriever/error]")} [${t}] [${cf(e)}] Retriever run errored with error: ${sf(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${of(uf.blue,"[agent/action]")} [${n}] Agent selected action: ${sf(t.actions[t.actions.length-1],"[action]")}`)}}class hf extends rp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:r}=e;this.projectName=n??Qh("LANGCHAIN_PROJECT")??Qh("LANGCHAIN_SESSION"),this.exampleId=t,this.client=r??new Qp({});const a=hf.getTraceableRunTree();a&&this.updateFromRunTree(a)}async _convertToCreate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{...e,extra:{...e.extra,runtime:await Xh()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async onRunCreate(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async onRunUpdate(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,t)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let t=e;const n=new Set;for(;t.parent_run&&!n.has(t.id)&&(n.add(t.id),t.parent_run);)t=t.parent_run;n.clear();const r=[t];for(;r.length>0;){const e=r.shift();e&&!n.has(e.id)&&(n.add(e.id),this.runMap.set(e.id,e),e.child_runs&&r.push(...e.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const t={},n=[];for(const[r,a]of this.runMap){const e=new ef({...a,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});t[r]=e,n.push([r,a.dotted_order])}n.sort(((e,t)=>e[1]&&t[1]?e[1].localeCompare(t[1]):0));for(const[r]of n){const e=this.runMap.get(r),n=t[r];if(e&&n&&e.parent_run_id){const r=t[e.parent_run_id];r&&(r.child_runs.push(n),n.parent_run=r)}}return t[e]}static getTraceableRunTree(){try{return(()=>{const e=kh.getInstance().getStore();if(void 0===e)throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join("\n"));return e})()}catch{return}}}let pf;async function ff(e,t){!0===t?await e():("undefined"===typeof pf&&(pf=new(0,hp.default)({autoStart:!0,concurrency:1})),pf.add(e))}class mf{setHandler(e){return this.setHandlers([e])}}class gf{constructor(e,t,n,r,a,i,o,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map((t=>ff((async()=>{try{await(t.handleText?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleCustomEvent(e,t,n,r,a){await Promise.all(this.handlers.map((n=>ff((async()=>{try{await(n.handleCustomEvent?.(e,t,this.runId,this.tags,this.metadata))}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleCustomEvent: ${r}`),n.raiseError)throw r}}),n.awaitHandlers))))}}class yf extends gf{getChild(e){const t=new xf(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleRetrieverError(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${n}`),t.raiseError)throw e}}),t.awaitHandlers))))}}class vf extends gf{async handleLLMNewToken(e,t,n,r,a,i){await Promise.all(this.handlers.map((n=>ff((async()=>{if(!n.ignoreLLM)try{await(n.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,i))}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${r}`),n.raiseError)throw r}}),n.awaitHandlers))))}async handleLLMError(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleLLMEnd(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class bf extends gf{getChild(e){const t=new xf(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,r,a){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreChain)try{await(t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,a))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleChainEnd(e,t,n,r,a){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreChain)try{await(t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,a))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentAction(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentEnd(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class wf extends gf{getChild(e){const t=new xf(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreAgent)try{await(t.handleToolError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleToolEnd(e){await Promise.all(this.handlers.map((t=>ff((async()=>{if(!t.ignoreAgent)try{await(t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class xf extends mf{constructor(e,t){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=t?.handlers??this.handlers,this.inheritableHandlers=t?.inheritableHandlers??this.inheritableHandlers,this.tags=t?.tags??this.tags,this.inheritableTags=t?.inheritableTags??this.inheritableTags,this.metadata=t?.metadata??this.metadata,this.inheritableMetadata=t?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return Promise.all(t.map((async(t,i)=>{const o=0===i&&n?n:wh();return await Promise.all(this.handlers.map((n=>{if(!n.ignoreLLM)return np(n)&&n._createRunForLLMStart(e,[t],o,this._parentRunId,r,this.tags,this.metadata,a),ff((async()=>{try{await(n.handleLLMStart?.(e,[t],o,this._parentRunId,r,this.tags,this.metadata,a))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMStart: ${i}`),n.raiseError)throw i}}),n.awaitHandlers)}))),new vf(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChatModelStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return Promise.all(t.map((async(t,i)=>{const o=0===i&&n?n:wh();return await Promise.all(this.handlers.map((n=>{if(!n.ignoreLLM)return np(n)&&n._createRunForChatModelStart(e,[t],o,this._parentRunId,r,this.tags,this.metadata,a),ff((async()=>{try{if(n.handleChatModelStart)await(n.handleChatModelStart?.(e,[t],o,this._parentRunId,r,this.tags,this.metadata,a));else if(n.handleLLMStart){const i=uh(t);await(n.handleLLMStart?.(e,[i],o,this._parentRunId,r,this.tags,this.metadata,a))}}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMStart: ${i}`),n.raiseError)throw i}}),n.awaitHandlers)}))),new vf(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChainStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wh(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((i=>{if(!i.ignoreChain)return np(i)&&i._createRunForChainStart(e,t,n,this._parentRunId,this.tags,this.metadata,r,a),ff((async()=>{try{await(i.handleChainStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r,a))}catch(o){if((i.raiseError?console.error:console.warn)(`Error in handler ${i.constructor.name}, handleChainStart: ${o}`),i.raiseError)throw o}}),i.awaitHandlers)}))),new bf(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wh(),r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((a=>{if(!a.ignoreAgent)return np(a)&&a._createRunForToolStart(e,t,n,this._parentRunId,this.tags,this.metadata,r),ff((async()=>{try{await(a.handleToolStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r))}catch(i){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleToolStart: ${i}`),a.raiseError)throw i}}),a.awaitHandlers)}))),new wf(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wh(),r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((a=>{if(!a.ignoreRetriever)return np(a)&&a._createRunForRetrieverStart(e,t,n,this._parentRunId,this.tags,this.metadata,r),ff((async()=>{try{await(a.handleRetrieverStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r))}catch(i){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleRetrieverStart: ${i}`),a.raiseError)throw i}}),a.awaitHandlers)}))),new yf(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,t,n,r,a){await Promise.all(this.handlers.map((r=>ff((async()=>{if(!r.ignoreCustomEvent)try{await(r.handleCustomEvent?.(e,t,n,this.tags,this.metadata))}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${a}`),r.raiseError)throw a}}),r.awaitHandlers))))}addHandler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e)),this.inheritableHandlers=this.inheritableHandlers.filter((t=>t!==e))}setHandlers(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter((t=>!e.includes(t))),this.inheritableTags=this.inheritableTags.filter((t=>!e.includes(t)))}addMetadata(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new xf(this._parentRunId);for(const r of this.handlers){const e=this.inheritableHandlers.includes(r);n.addHandler(r,e)}for(const r of this.tags){const e=this.inheritableTags.includes(r);n.addTags([r],e)}for(const r of Object.keys(this.metadata)){const e=Object.keys(this.inheritableMetadata).includes(r);n.addMetadata({[r]:this.metadata[r]},e)}for(const r of e)n.handlers.filter((e=>"console_callback_handler"===e.name)).some((e=>e.name===r.name))||n.addHandler(r,t);return n}static fromHandlers(e){const t=new this;return t.addHandler(new class extends ep{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:wh()}),Object.assign(this,e)}}),t}static configure(e,t,n,r,a,i,o){return this._configureSync(e,t,n,r,a,i,o)}static _configureSync(e,t,n,r,a,i,o){let s;(e||t)&&(Array.isArray(e)||!e?(s=new xf,s.setHandlers(e?.map(_f)??[],!0)):s=e,s=s.copy(Array.isArray(t)?t.map(_f):t?.handlers,!1));const l="true"===Qh("LANGCHAIN_VERBOSE")||o?.verbose,c=hf.getTraceableRunTree()?.tracingEnabled||(e=>void 0!==e?e:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((e=>"true"===Qh(e))))(),u=c||(Qh("LANGCHAIN_TRACING")??!1);if(l||u){if(s||(s=new xf),l&&!s.handlers.some((e=>e.name===df.prototype.name))){const e=new df;s.addHandler(e,!0)}if(u&&!s.handlers.some((e=>"langchain_tracer"===e.name))&&c){const e=new hf;s.addHandler(e,!0),s._parentRunId=hf.getTraceableRunTree()?.id??s._parentRunId}}return(n||r)&&s&&(s.addTags(n??[]),s.addTags(r??[],!1)),(a||i)&&s&&(s.addMetadata(a??{}),s.addMetadata(i??{},!1)),s}}function _f(e){return"name"in e?e:ep.fromMethods(e)}const kf=new class{getStore(){}run(e,t){return t()}},Sf=Symbol.for("ls:tracing_async_local_storage"),Ef=Symbol.for("lc:child_config");const Nf=new class{getInstance(){return globalThis[Sf]??kf}getRunnableConfig(){const e=this.getInstance();return e.getStore()?.extra?.[Ef]}runWithConfig(e,t,n){const r=xf._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),a=this.getInstance(),i=r?.getParentRunId(),o=r?.handlers?.find((e=>"langchain_tracer"===e?.name));let s;return o&&i?s=o.convertToRunTree(i):n||(s=new ef({name:"<runnable_lambda>",tracingEnabled:!1})),s&&(s.extra={...s.extra,[Ef]:e}),a.run(s,t)}initializeGlobalInstance(e){void 0===globalThis[Sf]&&(globalThis[Sf]=e)}};async function Of(e,t){if(void 0===t)return e;let n;return Promise.race([e.catch((e=>{if(!t?.aborted)throw e})),new Promise(((e,r)=>{n=()=>{r(new Error("Aborted"))},t.addEventListener("abort",n),t.aborted&&r(new Error("Aborted"))}))]).finally((()=>t.removeEventListener("abort",n)))}class jf extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(eb){throw this.reader.releaseLock(),eb}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const t=e.getReader();return new jf({start:e=>function n(){return t.read().then((t=>{let{done:r,value:a}=t;if(!r)return e.enqueue(a),n();e.close()}))}(),cancel(){t.releaseLock()}})}static fromAsyncGenerator(e){return new jf({async pull(t){const{value:n,done:r}=await e.next();r&&t.close(),t.enqueue(n)},async cancel(t){await e.return(t)}})}}function Cf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=Array.from({length:t},(()=>[]));return n.map((async function*(t){for(;;)if(0===t.length){const t=await e.next();for(const e of n)e.push(t)}else{if(t[0].done)return;yield t.shift().value}}))}function Pf(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if("string"===typeof e&&"string"===typeof t)return e+t;if("number"===typeof e&&"number"===typeof t)return e+t;if("concat"in e&&"function"===typeof e.concat)return e.concat(t);if("object"===typeof e&&"object"===typeof t){const n={...e};for(const[e,r]of Object.entries(t))e in n&&!Array.isArray(n[e])?n[e]=Pf(n[e],r):n[e]=r;return n}throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}class Tf{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise(((t,n)=>{Nf.runWithConfig(e.config,(async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,n):this.firstResult.then((e=>t(void 0)),n)}),!0)}))}async next(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.signal?.throwIfAborted(),this.firstResultUsed?Nf.runWithConfig(this.config,this.signal?async()=>Of(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}class Af{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),n=Uh({},t);return new If({ops:t,state:n[n.length-1].newDocument})}}class If extends Af{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=Uh(this.state,e.ops);return new If({ops:t,state:n[n.length-1].newDocument})}static fromRunLogPatch(e){const t=Uh({},e.ops);return new If({ops:e.ops,state:t[t.length-1].newDocument})}}const Rf=e=>"log_stream_tracer"===e.name;async function Lf(e,t){if("original"===t)throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=e;return["retriever","llm","prompt"].includes(e.run_type)?n:1!==Object.keys(n).length||""!==n?.input?n.input:void 0}async function $f(e,t){const{outputs:n}=e;return"original"===t||["retriever","llm","prompt"].includes(e.run_type)?n:void 0!==n&&1===Object.keys(n).length&&void 0!==n?.output?n.output:n}class Mf extends rp{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=jf.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.run_type)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.run_type)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){for await(const n of t){if(e!==this.rootId){const t=this.keyMapByRunId[e];t&&await this.writer.write(new Af({ops:[{op:"add",path:`/logs/${t}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(e){if(void 0===this.rootId&&(this.rootId=e.id,await this.writer.write(new Af({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;void 0===this.counterMapByRunName[e.name]&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=1===t?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};"streaming_events"===this._schemaFormat&&(n.inputs=await Lf(e,this._schemaFormat)),await this.writer.write(new Af({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(void 0===t)return;const n=[];"streaming_events"===this._schemaFormat&&n.push({op:"replace",path:`/logs/${t}/inputs`,value:await Lf(e,this._schemaFormat)}),n.push({op:"add",path:`/logs/${t}/final_output`,value:await $f(e,this._schemaFormat)}),void 0!==e.end_time&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const r=new Af({ops:n});await this.writer.write(r)}finally{if(e.id===this.rootId){const t=new Af({ops:[{op:"replace",path:"/final_output",value:await $f(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,n){const r=this.keyMapByRunId[e.id];if(void 0===r)return;let a;var i;void 0!==e.inputs.messages?(i=n?.chunk,a=void 0!==i&&void 0!==i.message?n?.chunk:new Xd({id:`run-${e.id}`,content:t})):a=t;const o=new Af({ops:[{op:"add",path:`/logs/${r}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${r}/streamed_output/-`,value:a}]});await this.writer.write(o)}}const Df="__run";class Ff{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new Ff({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class zf extends Ff{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new zf({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function Uf(e){let{name:t,serialized:n}=e;return void 0!==t?t:void 0!==n?.name?n.name:void 0!==n?.id&&Array.isArray(n?.id)?n.id[n.id.length-1]:"Unnamed"}const Bf=e=>"event_stream_tracer"===e.name;class Hf extends rp{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=jf.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.runType)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.runType)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){const n=await t.next();if(n.done)return;const r=this.runInfoMap.get(e);if(void 0===r)return void(yield n.value);function a(e,t){return"llm"===e&&"string"===typeof t?new Ff({text:t}):t}let i=this.tappedPromises.get(e);if(void 0===i){let o;i=new Promise((e=>{o=e})),this.tappedPromises.set(e,i);try{const i={event:`on_${r.runType}_stream`,run_id:e,name:r.name,tags:r.tags,metadata:r.metadata,data:{}};await this.send({...i,data:{chunk:a(r.runType,n.value)}},r),yield n.value;for await(const e of t)"tool"!==r.runType&&"retriever"!==r.runType&&await this.send({...i,data:{chunk:a(r.runType,e)}},r),yield e}finally{o()}}else{yield n.value;for await(const e of t)yield e}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){const n=this.tappedPromises.get(e.run_id);void 0!==n?n.then((()=>{this.send(e,t)})):await this.send(e,t)}async onLLMStart(e){const t=Uf(e),n=void 0!==e.inputs.messages?"chat_model":"llm",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:n,inputs:e.inputs};this.runInfoMap.set(e.id,r);const a=`on_${n}_start`;await this.send({event:a,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onLLMNewToken(e,t,n){const r=this.runInfoMap.get(e.id);let a,i;if(void 0===r)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(1!==this.runInfoMap.size){if("chat_model"===r.runType)i="on_chat_model_stream",a=void 0===n?.chunk?new Xd({content:t,id:`run-${e.id}`}):n.chunk.message;else{if("llm"!==r.runType)throw new Error(`Unexpected run type ${r.runType}`);i="on_llm_stream",a=void 0===n?.chunk?new Ff({text:t}):n.chunk}await this.send({event:i,data:{chunk:a},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}}async onLLMEnd(e){const t=this.runInfoMap.get(e.id);let n;if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const r=e.outputs?.generations;let a;if("chat_model"===t.runType){for(const e of r??[]){if(void 0!==a)break;a=e[0]?.message}n="on_chat_model_end"}else{if("llm"!==t.runType)throw new Error(`onLLMEnd: Unexpected run type: ${t.runType}`);a={generations:r?.map((e=>e.map((e=>({text:e.text,generationInfo:e.generationInfo}))))),llmOutput:e.outputs?.llmOutput??{}},n="on_llm_end"}await this.sendEndEvent({event:n,data:{output:a,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){const t=Uf(e),n=e.run_type??"chain",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type};let a={};""===e.inputs.input&&1===Object.keys(e.inputs).length?(a={},r.inputs={}):void 0!==e.inputs.input?(a.input=e.inputs.input,r.inputs=e.inputs.input):(a.input=e.inputs,r.inputs=e.inputs),this.runInfoMap.set(e.id,r),await this.send({event:`on_${n}_start`,data:a,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onChainEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const n=`on_${e.run_type}_end`,r=e.inputs??t.inputs??{},a={output:e.outputs?.output??e.outputs,input:r};r.input&&1===Object.keys(r).length&&(a.input=r.input,t.inputs=r.input),await this.sendEndEvent({event:n,data:a,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){const t=Uf(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,n),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},n)}async onToolEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(void 0===t.inputs)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const n=void 0===e.outputs?.output?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){const t=Uf(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,n),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onRetrieverEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,n){const r=this.runInfoMap.get(n);if(void 0===r)throw new Error(`handleCustomEvent: Run ID ${n} not found in run map.`);await this.send({event:"on_custom_event",run_id:n,name:e,tags:r.tags,metadata:r.metadata,data:t},r)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally((()=>{this.writer.close()}))}}async function qf(e){return xf._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function Wf(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n.filter((e=>!!e)))for(const t of Object.keys(a))if("metadata"===t)e[t]={...e[t],...a[t]};else if("tags"===t){const n=e[t]??[];e[t]=[...new Set(n.concat(a[t]??[]))]}else if("configurable"===t)e[t]={...e[t],...a[t]};else if("timeout"===t)void 0===e.timeout?e.timeout=a.timeout:void 0!==a.timeout&&(e.timeout=Math.min(e.timeout,a.timeout));else if("signal"===t)void 0===e.signal?e.signal=a.signal:void 0!==a.signal&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,a.signal]):e.signal=a.signal);else if("callbacks"===t){const t=e.callbacks,n=a.callbacks;if(Array.isArray(n))if(t)if(Array.isArray(t))e.callbacks=t.concat(n);else{const r=t.copy();for(const e of n)r.addHandler(_f(e),!0);e.callbacks=r}else e.callbacks=n;else if(n)if(t)if(Array.isArray(t)){const r=n.copy();for(const e of t)r.addHandler(_f(e),!0);e.callbacks=r}else e.callbacks=new xf(n._parentRunId,{handlers:t.handlers.concat(n.handlers),inheritableHandlers:t.inheritableHandlers.concat(n.inheritableHandlers),tags:Array.from(new Set(t.tags.concat(n.tags))),inheritableTags:Array.from(new Set(t.inheritableTags.concat(n.inheritableTags))),metadata:{...t.metadata,...n.metadata}});else e.callbacks=n}else{const n=t;e[n]=a[n]??e[n]}return e}const Vf=new Set(["string","number","boolean"]);function Zf(e){const t=Nf.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){const{runId:e,runName:r,...a}=t;n=Object.entries(a).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e}),n)}if(e&&(n=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e}),n)),n?.configurable)for(const r of Object.keys(n.configurable))Vf.has(typeof n.configurable[r])&&!n.metadata?.[r]&&(n.metadata||(n.metadata={}),n.metadata[r]=n.configurable[r]);if(void 0!==n.timeout){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const e=AbortSignal.timeout(n.timeout);void 0!==n.signal?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,e])):n.signal=e,delete n.timeout}return n}function Gf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{callbacks:t,maxConcurrency:n,recursionLimit:r,runName:a,configurable:i,runId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Zf(e);return void 0!==t&&(delete s.runName,s.callbacks=t),void 0!==r&&(s.recursionLimit=r),void 0!==n&&(s.maxConcurrency=n),void 0!==a&&(s.runName=a),void 0!==i&&(s.configurable={...s.configurable,...i}),void 0!==o&&delete s.runId,s}const Jf=[400,401,402,403,404,405,406,407,409],Kf=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||"AbortError"===e.name)throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status??e?.status;if(t&&Jf.includes(+t))throw e;if("insufficient_quota"===e?.error?.code){const t=new Error(e?.message);throw t.name="InsufficientQuotaError",t}};class Xf{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??Kf;const t=hp.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.queue.add((()=>hh((()=>e(...n).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.signal?Promise.race([this.call(t,...r),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...r)}fetch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call((()=>fetch(...t).then((e=>e.ok?e:Promise.reject(e)))))}}class Qf extends rp{constructor(e){let{config:t,onStart:n,onEnd:r,onError:a}=e;super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=t,this.argOnStart=n,this.argOnEnd=r,this.argOnError=a}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Yf(e){return!!e&&e.lc_runnable}class em{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let n=void 0===this.includeNames&&void 0===this.includeTypes&&void 0===this.includeTags;const r=e.tags??[];return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(t)),void 0!==this.includeTags&&(n=n||r.some((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(t)),void 0!==this.excludeTags&&(n=n&&r.every((e=>!this.excludeTags?.includes(e)))),n}}const tm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const nm=function(e){return"string"===typeof e&&tm.test(e)};function rm(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}function am(e,t){return[t[e.source]??e.source,t[e.target]??e.target]}function im(e,t,n){const{firstNodeLabel:r,lastNodeLabel:a,nodeColors:i,withStyles:o=!0,curveStyle:s="linear",wrapLabelNWords:l=9}=n??{};let c=o?`%%{init: {'flowchart': {'curve': '${s}'}}}%%\ngraph TD;\n`:"graph TD;\n";if(o){const t="default",n={[t]:"{0}([{1}]):::otherclass"};void 0!==r&&(n[r]="{0}[{0}]:::startclass"),void 0!==a&&(n[a]="{0}[{0}]:::endclass");for(const r of Object.values(e)){const e=n[r]??n[t],a=rm(r),i=r.split(":"),o=i[i.length-1];c+=`\t${e.replace(/\{0\}/g,a).replace(/\{1\}/g,o)};\n`}}let u="";for(const d of t){const t=d.source.includes(":")?d.source.split(":")[0]:void 0,n=d.target.includes(":")?d.target.split(":")[0]:void 0;""===u||u===t&&u===n||(c+="\tend\n",u=""),""===u&&void 0!==t&&t===n&&(c=`\tsubgraph ${t}\n`,u=t);const[r,a]=am(d,e);let i="";if(void 0!==d.data){let e=d.data;const t=e.split(" ");t.length>l&&(e=t.reduce(((e,t,n)=>(n%l===0&&e.push(""),e[e.length-1]+=` ${t}`,e)),[]).join("<br>")),i=d.conditional?` -. ${e} .-> `:` -- ${e} --\x3e `}else i=d.conditional?" -.-> ":" --\x3e ";c+=`\t${rm(r)}${i}${rm(a)};\n`}return""!==u&&(c+="end\n"),o&&void 0!==i&&(c+=function(e){let t="";for(const[n,r]of Object.entries(e))t+=`\tclassDef ${n}class fill:${r};\n`;return t}(i)),c}function om(e){if(!nm(e.id))return e.id;if(!Yf(e.data))return e.data.name??"UnknownSchema";try{let t=e.data.getName();return t=t.startsWith("Runnable")?t.slice(8):t,t.length>42&&(t=`${t.substring(0,42)}...`),t}catch(t){return e.data.getName()}}function sm(e){return Yf(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...Td(e.data.schema),title:e.data.name}}}class lm{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach(((t,n)=>{e[t.id]=nm(t.id)?n:t.id})),{nodes:Object.values(this.nodes).map((t=>({id:e[t.id],...sm(t)}))),edges:this.edges.map((t=>{const n={source:e[t.source],target:e[t.target]};return"undefined"!==typeof t.data&&(n.data=t.data),"undefined"!==typeof t.conditional&&(n.conditional=t.conditional),n}))}}addNode(e,t){if(void 0!==t&&void 0!==this.nodes[t])throw new Error(`Node with id ${t} already exists`);const n=t||wh(),r={id:n,data:e};return this.nodes[n]=r,r}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter((t=>t.source!==e.id&&t.target!==e.id))}addEdge(e,t,n,r){if(void 0===this.nodes[e.id])throw new Error(`Source node ${e.id} not in graph`);if(void 0===this.nodes[t.id])throw new Error(`Target node ${t.id} not in graph`);const a={source:e.id,target:t.id,data:n,conditional:r};return this.edges.push(a),a}firstNode(){const e=new Set(this.edges.map((e=>e.target))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}lastNode(){const e=new Set(this.edges.map((e=>e.source))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=Object.values(e.nodes).map((e=>e.id));n.every(nm)&&(t="");const r=e=>t?`${t}:${e}`:e;Object.entries(e.nodes).forEach((e=>{let[t,n]=e;this.nodes[r(t)]={...n,id:r(t)}}));const a=e.edges.map((e=>({...e,source:r(e.source),target:r(e.target)})));this.edges=[...this.edges,...a];const i=e.firstNode(),o=e.lastNode();return[i?{id:r(i.id),data:i.data}:void 0,o?{id:r(o.id),data:o.data}:void 0]}trimFirstNode(){const e=this.firstNode();if(e){const t=this.edges.filter((t=>t.source===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const t=this.edges.filter((t=>t.target===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}drawMermaid(e){const{withStyles:t,curveStyle:n,nodeColors:r={start:"#ffdfba",end:"#baffc9",other:"#fad7de"},wrapLabelNWords:a}=e??{},i={};for(const u of Object.values(this.nodes))i[u.id]=om(u);const o=this.firstNode(),s=o?om(o):void 0,l=this.lastNode(),c=l?om(l):void 0;return im(i,this.edges,{firstNodeLabel:s,lastNodeLabel:c,withStyles:t,curveStyle:n,nodeColors:r,wrapLabelNWords:a})}async drawMermaidPng(e){return async function(e,t){let{backgroundColor:n="white"}=t??{};const r=btoa(e);void 0!==n&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${r}?bgColor=${n}`,i=await fetch(a);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join("\n"));return await i.blob()}(this.drawMermaid(e),{backgroundColor:e?.backgroundColor})}}function cm(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.iterator]&&"function"===typeof e.next}function um(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator]}function*dm(e,t){for(;;){const{value:n,done:r}=Nf.runWithConfig(e,t.next.bind(t),!0);if(r)break;yield n}}async function*hm(e,t){const n=t[Symbol.asyncIterator]();for(;;){const{value:r,done:a}=await Nf.runWithConfig(e,n.next.bind(t),!0);if(a)break;yield r}}function pm(e,t){return!e||Array.isArray(e)||e instanceof Date||"object"!==typeof e?{[t]:e}:e}class fm extends zd{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}bind(e){return new mm({bound:this,kwargs:e,config:{}})}map(){return new gm({bound:this})}withRetry(e){return new ym({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new mm({bound:this,config:e,kwargs:{}})}withFallbacks(e){const t=Array.isArray(e)?e:e.fallbacks;return new _m({runnable:this,fallbacks:t})}_getOptionsList(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(e)&&e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(Zf);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const n=Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"runId"!==t})));return Array.from({length:t},((t,r)=>Zf(0===r?e:n)))}return Array.from({length:t},(()=>Zf(e)))}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),a=r[0]?.maxConcurrency??n?.maxConcurrency,i=new Xf({maxConcurrency:a,onFailedAttempt:e=>{throw e}}),o=e.map(((e,t)=>i.call((async()=>{try{return await this.invoke(e,r[t])}catch(eb){if(n?.returnExceptions)return eb;throw eb}}))));return Promise.all(o)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){const n=Zf(t),r=new Tf({generator:this._streamIterator(e,n),config:n});return await r.setup,jf.fromAsyncGenerator(r)}_separateRunnableConfigFromCallOptions(e){let t;t=Zf(void 0===e?e:{callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,delete n.timeout,delete n.signal,[t,n]}async _callWithConfig(e,t,n){const r=Zf(n),a=await qf(r),i=await(a?.handleChainStart(this.toJSON(),pm(t,"input"),r.runId,r?.runType,void 0,void 0,r?.runName??this.getName()));let o;delete r.runId;try{const a=e.call(this,t,r,i);o=await Of(a,n?.signal)}catch(eb){throw await(i?.handleChainError(eb)),eb}return await(i?.handleChainEnd(pm(o,"output"))),o}async _batchWithConfig(e,t,n,r){const a=this._getOptionsList(n??{},t.length),i=await Promise.all(a.map(qf)),o=await Promise.all(i.map((async(e,n)=>{const r=await(e?.handleChainStart(this.toJSON(),pm(t[n],"input"),a[n].runId,a[n].runType,void 0,void 0,a[n].runName??this.getName()));return delete a[n].runId,r})));let s;try{const n=e.call(this,t,a,o,r);s=await Of(n,a?.[0]?.signal)}catch(eb){throw await Promise.all(o.map((t=>t?.handleChainError(eb)))),eb}return await Promise.all(o.map((e=>e?.handleChainEnd(pm(s,"output"))))),s}async*_transformStreamWithConfig(e,t,n){let r,a,i=!0,o=!0;const s=Zf(n),l=await qf(s);let c;try{const u=await async function(e,t,n,r){const a=new Tf({generator:t,startSetup:n,signal:r}),i=await a.setup;for(var o=arguments.length,s=new Array(o>4?o-4:0),l=4;l<o;l++)s[l-4]=arguments[l];return{output:e(a,i,...s),setup:i}}(t.bind(this),async function*(){for await(const t of e){if(i)if(void 0===r)r=t;else try{r=Pf(r,t)}catch{r=void 0,i=!1}yield t}}(),(async()=>l?.handleChainStart(this.toJSON(),{input:""},s.runId,s.runType,void 0,void 0,s.runName??this.getName())),n?.signal,s);delete s.runId,c=u.setup;const d=c?.handlers.find(Bf);let h=u.output;void 0!==d&&void 0!==c&&(h=d.tapOutputIterable(c.runId,h));const p=c?.handlers.find(Rf);void 0!==p&&void 0!==c&&(h=p.tapOutputIterable(c.runId,h));for await(const e of h)if(yield e,o)if(void 0===a)a=e;else try{a=Pf(a,e)}catch{a=void 0,o=!1}}catch(eb){throw await(c?.handleChainError(eb,void 0,void 0,void 0,{inputs:pm(r,"input")})),eb}await(c?.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:pm(r,"input")}))}getGraph(e){const t=new lm,n=t.addNode({name:`${this.getName()}Input`,schema:ud.any()}),r=t.addNode(this),a=t.addNode({name:`${this.getName()}Output`,schema:ud.any()});return t.addEdge(n,r),t.addEdge(r,a),t}pipe(e){return new vm({first:this,last:km(e)})}pick(e){return this.pipe(new Em(e))}assign(e){return this.pipe(new Sm(new bm({steps:e})))}async*transform(e,t){let n;for await(const r of e)n=void 0===n?r:Pf(n,r);yield*this._streamIterator(n,Zf(t))}async*streamLog(e,t,n){const r=new Mf({...n,autoClose:!1,_schemaFormat:"original"}),a=Zf(t);yield*this._streamLog(e,r,a)}async*_streamLog(e,t,n){const{callbacks:r}=n;if(void 0===r)n.callbacks=[t];else if(Array.isArray(r))n.callbacks=r.concat([t]);else{const e=r.copy();e.addHandler(t,!0),n.callbacks=e}const a=this.stream(e,n);const i=async function(){try{const e=await a;for await(const n of e){const e=new Af({ops:[{op:"add",path:"/streamed_output/-",value:n}]});await t.writer.write(e)}}finally{await t.writer.close()}}();try{for await(const e of t)yield e}finally{await i}}streamEvents(e,t,n){let r;if("v1"===t.version)r=this._streamEventsV1(e,t,n);else{if("v2"!==t.version)throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');r=this._streamEventsV2(e,t,n)}return"text/event-stream"===t.encoding?function(e){const t=new TextEncoder,n=new ReadableStream({async start(n){for await(const r of e)n.enqueue(t.encode(`event: data\ndata: ${JSON.stringify(r)}\n\n`));n.enqueue(t.encode("event: end\n\n")),n.close()}});return jf.fromReadableStream(n)}(r):jf.fromAsyncGenerator(r)}async*_streamEventsV2(e,t,n){const r=new Hf({...n,autoClose:!1}),a=Zf(t),i=a.runId??wh();a.runId=i;const o=a.callbacks;if(void 0===o)a.callbacks=[r];else if(Array.isArray(o))a.callbacks=o.concat(r);else{const e=o.copy();e.addHandler(r,!0),a.callbacks=e}const s=this;const l=async function(){try{const t=await s.stream(e,a),n=r.tapOutputIterable(i,t);for await(const e of n);}finally{await r.finish()}}();let c,u=!1;try{for await(const t of r)u?(t.run_id===c&&t.event.endsWith("_end")&&t.data?.input&&delete t.data.input,yield t):(t.data.input=e,u=!0,c=t.run_id,yield t)}finally{await l}}async*_streamEventsV1(e,t,n){let r,a=!1;const i=Zf(t),o=i.tags??[],s=i.metadata??{},l=i.runName??this.getName(),c=new Mf({...n,autoClose:!1,_schemaFormat:"streaming_events"}),u=new em({...n}),d=this._streamLog(e,c,i);for await(const p of d){if(r=r?r.concat(p):If.fromRunLogPatch(p),void 0===r.state)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const t={...r.state},n={run_id:t.id,event:`on_${t.type}_start`,name:l,tags:o,metadata:s,data:{input:e}};u.includeEvent(n,t.type)&&(yield n)}const t=p.ops.filter((e=>e.path.startsWith("/logs/"))).map((e=>e.path.split("/")[2])),n=[...new Set(t)];for(const e of n){let t,n={};const a=r.state.logs[e];if(t=void 0===a.end_time?a.streamed_output.length>0?"stream":"start":"end","start"===t)void 0!==a.inputs&&(n.input=a.inputs);else if("end"===t)void 0!==a.inputs&&(n.input=a.inputs),n.output=a.final_output;else if("stream"===t){const e=a.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${a.name}"`);n={chunk:a.streamed_output[0]},a.streamed_output=[]}yield{event:`on_${a.type}_${t}`,name:a.name,run_id:a.id,tags:a.tags,metadata:a.metadata,data:n}}const{state:i}=r;if(i.streamed_output.length>0){const e=i.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${i.name}"`);const t={chunk:i.streamed_output[0]};i.streamed_output=[];const n={event:`on_${i.type}_stream`,run_id:i.id,tags:o,metadata:s,name:l,data:t};u.includeEvent(n,i.type)&&(yield n)}}const h=r?.state;if(void 0!==h){const e={event:`on_${h.type}_end`,name:l,run_id:h.id,tags:o,metadata:s,data:{output:h.final_output}};u.includeEvent(e,h.type)&&(yield e)}}static isRunnable(e){return Yf(e)}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new mm({bound:this,config:{},configFactories:[e=>({callbacks:[new Qf({config:e,onStart:t,onEnd:n,onError:r})]})]})}asTool(e){return function(e,t){const n=t.name??e.getName(),r=t.description??t.schema?.description;if(t.schema.constructor===ud.ZodString)return new Nm({name:n,description:r,schema:ud.object({input:ud.string()}).transform((e=>e.input)),bound:e});return new Nm({name:n,description:r,schema:t.schema,bound:e})}(this,e)}}class mm extends fm{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wf(this.config,...t);return Wf(r,...this.configFactories?await Promise.all(this.configFactories.map((async e=>await e(r)))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig(Zf(t),this.kwargs))}async batch(e,t,n){const r=Array.isArray(t)?await Promise.all(t.map((async e=>this._mergeConfig(Zf(e),this.kwargs)))):await this._mergeConfig(Zf(t),this.kwargs);return this.bound.batch(e,r,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig(Zf(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig(Zf(t),this.kwargs))}async*transform(e,t){yield*this.bound.transform(e,await this._mergeConfig(Zf(t),this.kwargs))}streamEvents(e,t,n){const r=this;return jf.fromAsyncGenerator(async function*(){yield*r.bound.streamEvents(e,{...await r._mergeConfig(Zf(t),r.kwargs),version:t.version},n)}())}static isRunnableBinding(e){return e.bound&&fm.isRunnable(e.bound)}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new mm({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[e=>({callbacks:[new Qf({config:e,onStart:t,onEnd:n,onError:r})]})]})}}class gm extends fm{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new gm({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _invoke(e,t,n){return this.bound.batch(e,Gf(t,{callbacks:n?.getChild()}))}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new gm({bound:this.bound.withListeners({onStart:t,onEnd:n,onError:r})})}}class ym extends mm{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const r=e>1?`retry:attempt:${e}`:void 0;return Gf(t,{callbacks:n?.getChild(r)})}async _invoke(e,t,n){return hh((r=>super.invoke(e,this._patchConfigForRetry(r,t,n))),{onFailedAttempt:t=>this.onFailedAttempt(t,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,n,r){const a={};try{await hh((async i=>{const o=e.map(((e,t)=>t)).filter((e=>void 0===a[e.toString()]||a[e.toString()]instanceof Error)),s=o.map((t=>e[t])),l=o.map((e=>this._patchConfigForRetry(i,t?.[e],n?.[e]))),c=await super.batch(s,l,{...r,returnExceptions:!0});let u;for(let e=0;e<c.length;e+=1){const t=c[e],n=o[e];t instanceof Error&&void 0===u&&(u=t,u.input=s[e]),a[n.toString()]=t}if(u)throw u;return c}),{onFailedAttempt:e=>this.onFailedAttempt(e,e.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(eb){if(!0!==r?.returnExceptions)throw eb}return Object.keys(a).sort(((e,t)=>parseInt(e,10)-parseInt(t,10))).map((e=>a[parseInt(e,10)]))}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class vm extends fm{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=Zf(t),r=await qf(n),a=await(r?.handleChainStart(this.toJSON(),pm(e,"input"),n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;let i,o=e;try{const e=[this.first,...this.middle];for(let r=0;r<e.length;r+=1){const i=e[r].invoke(o,Gf(n,{callbacks:a?.getChild(`seq:step:${r+1}`)}));o=await Of(i,t?.signal)}if(t?.signal?.aborted)throw new Error("Aborted");i=await this.last.invoke(o,Gf(n,{callbacks:a?.getChild(`seq:step:${this.steps.length}`)}))}catch(eb){throw await(a?.handleChainError(eb)),eb}return await(a?.handleChainEnd(pm(i,"output"))),i}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),a=await Promise.all(r.map(qf)),i=await Promise.all(a.map((async(t,n)=>{const a=await(t?.handleChainStart(this.toJSON(),pm(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,a})));let o=e;try{for(let e=0;e<this.steps.length;e+=1){const t=this.steps[e].batch(o,i.map(((t,n)=>{const a=t?.getChild(`seq:step:${e+1}`);return Gf(r[n],{callbacks:a})})),n);o=await Of(t,r[0]?.signal)}}catch(eb){throw await Promise.all(i.map((t=>t?.handleChainError(eb)))),eb}return await Promise.all(i.map((e=>e?.handleChainEnd(pm(o,"output"))))),o}async*_streamIterator(e,t){const n=await qf(t),{runId:r,...a}=t??{},i=await(n?.handleChainStart(this.toJSON(),pm(e,"input"),r,void 0,void 0,void 0,a?.runName)),o=[this.first,...this.middle,this.last];let s,l=!0;try{let n=o[0].transform(async function*(){yield e}(),Gf(a,{callbacks:i?.getChild("seq:step:1")}));for(let e=1;e<o.length;e+=1){const t=o[e];n=await t.transform(n,Gf(a,{callbacks:i?.getChild(`seq:step:${e+1}`)}))}for await(const e of n)if(t?.signal?.throwIfAborted(),yield e,l)if(void 0===s)s=e;else try{s=Pf(s,e)}catch(eb){s=void 0,l=!1}}catch(eb){throw await(i?.handleChainError(eb)),eb}await(i?.handleChainEnd(pm(s,"output")))}getGraph(e){const t=new lm;let n=null;return this.steps.forEach(((r,a)=>{const i=r.getGraph(e);0!==a&&i.trimFirstNode(),a!==this.steps.length-1&&i.trimLastNode(),t.extend(i);const o=i.firstNode();if(!o)throw new Error(`Runnable ${r} has no first node`);n&&t.addEdge(n,o),n=i.lastNode()})),t}pipe(e){return vm.isRunnableSequence(e)?new vm({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new vm({first:this.first,middle:[...this.middle,this.last],last:km(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&fm.isRunnable(e)}static from(e,t){let[n,...r]=e;return new vm({first:km(n),middle:r.slice(0,-1).map(km),last:km(r[r.length-1]),name:t})}}class bm extends fm{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=km(n)}static from(e){return new bm({steps:e})}async invoke(e,t){const n=Zf(t),r=await qf(n),a=await(r?.handleChainStart(this.toJSON(),{input:e},n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;const i={};try{const r=Object.entries(this.steps).map((async t=>{let[r,o]=t;i[r]=await o.invoke(e,Gf(n,{callbacks:a?.getChild(`map:key:${r}`)}))}));await Of(Promise.all(r),t?.signal)}catch(eb){throw await(a?.handleChainError(eb)),eb}return await(a?.handleChainEnd(i)),i}async*_transform(e,t,n){const r={...this.steps},a=Cf(e,Object.keys(r).length),i=new Map(Object.entries(r).map(((e,r)=>{let[i,o]=e;const s=o.transform(a[r],Gf(n,{callbacks:t?.getChild(`map:key:${i}`)}));return[i,s.next().then((e=>({key:i,gen:s,result:e})))]})));for(;i.size;){const e=Promise.race(i.values()),{key:t,result:r,gen:a}=await Of(e,n?.signal);i.delete(t),r.done||(yield{[t]:r.value},i.set(t,a.next().then((e=>({key:t,gen:a,result:e})))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=Zf(t),r=new Tf({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,jf.fromAsyncGenerator(r)}}class wm extends fm{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!Sh(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){const[n]=this._getOptionsList(t??{},1),r=await qf(n);return Of(this.func(Gf(n,{callbacks:r}),e),n?.signal)}async*_streamIterator(e,t){const[n]=this._getOptionsList(t??{},1),r=await this.invoke(e,t);var a;if(um(r))for await(const i of r)n?.signal?.throwIfAborted(),yield i;else if(null!=(a=r)&&"object"===typeof a&&"next"in a&&"function"===typeof a.next)for(;;){n?.signal?.throwIfAborted();const e=r.next();if(e.done)break;yield e.value}else yield r}static from(e){return new wm({func:e})}}class xm extends fm{static lc_name(){return"RunnableLambda"}constructor(e){if(Sh(e.func))return wm.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){if(Sh(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}(e.func),this.func=e.func}static from(e){return new xm({func:e})}async _invoke(e,t,n){return new Promise(((r,a)=>{const i=Gf(t,{callbacks:n?.getChild(),recursionLimit:(t?.recursionLimit??25)-1});Nf.runWithConfig(i,(async()=>{try{let n=await this.func(e,{...i});if(n&&fm.isRunnable(n)){if(0===t?.recursionLimit)throw new Error("Recursion limit reached.");n=await n.invoke(e,{...i,recursionLimit:(i.recursionLimit??25)-1})}else if(um(n)){let e;for await(const r of hm(i,n))if(t?.signal?.throwIfAborted(),void 0===e)e=r;else try{e=Pf(e,r)}catch(eb){e=r}n=e}else if(cm(n)){let e;for(const r of dm(i,n))if(t?.signal?.throwIfAborted(),void 0===e)e=r;else try{e=Pf(e,r)}catch(eb){e=r}n=e}r(n)}catch(eb){a(eb)}}))}))}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async*_transform(e,t,n){let r;for await(const o of e)if(void 0===r)r=o;else try{r=Pf(r,o)}catch(eb){r=o}const a=Gf(n,{callbacks:t?.getChild(),recursionLimit:(n?.recursionLimit??25)-1}),i=await new Promise(((e,t)=>{Nf.runWithConfig(a,(async()=>{try{const t=await this.func(r,{...a,config:a});e(t)}catch(eb){t(eb)}}))}));if(i&&fm.isRunnable(i)){if(0===n?.recursionLimit)throw new Error("Recursion limit reached.");const e=await i.stream(r,a);for await(const t of e)yield t}else if(um(i))for await(const o of hm(a,i))n?.signal?.throwIfAborted(),yield o;else if(cm(i))for(const o of dm(a,i))n?.signal?.throwIfAborted(),yield o;else yield i}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=Zf(t),r=new Tf({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,jf.fromAsyncGenerator(r)}}class _m extends fm{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=Zf(t),r=await qf(t),{runId:a,...i}=n,o=await(r?.handleChainStart(this.toJSON(),pm(e,"input"),a,void 0,void 0,void 0,i?.runName));let s;for(const l of this.runnables()){n?.signal?.throwIfAborted();try{const t=await l.invoke(e,Gf(i,{callbacks:o?.getChild()}));return await(o?.handleChainEnd(pm(t,"output"))),t}catch(eb){void 0===s&&(s=eb)}}if(void 0===s)throw new Error("No error stored at end of fallback.");throw await(o?.handleChainError(s)),s}async*_streamIterator(e,t){const n=Zf(t),r=await qf(t),{runId:a,...i}=n,o=await(r?.handleChainStart(this.toJSON(),pm(e,"input"),a,void 0,void 0,void 0,i?.runName));let s,l,c;for(const u of this.runnables()){n?.signal?.throwIfAborted();const t=Gf(i,{callbacks:o?.getChild()});try{l=await u.stream(e,t);break}catch(eb){void 0===s&&(s=eb)}}if(void 0===l){const e=s??new Error("No error stored at end of fallback.");throw await(o?.handleChainError(e)),e}try{for await(const e of l){yield e;try{c=void 0===c?c:Pf(c,e)}catch(eb){c=void 0}}}catch(eb){throw await(o?.handleChainError(eb)),eb}await(o?.handleChainEnd(pm(c,"output")))}async batch(e,t,n){if(n?.returnExceptions)throw new Error("Not implemented.");const r=this._getOptionsList(t??{},e.length),a=await Promise.all(r.map((e=>qf(e)))),i=await Promise.all(a.map((async(t,n)=>{const a=await(t?.handleChainStart(this.toJSON(),pm(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,a})));let o;for(const s of this.runnables()){r[0].signal?.throwIfAborted();try{const t=await s.batch(e,i.map(((e,t)=>Gf(r[t],{callbacks:e?.getChild()}))),n);return await Promise.all(i.map(((e,n)=>e?.handleChainEnd(pm(t[n],"output"))))),t}catch(eb){void 0===o&&(o=eb)}}if(!o)throw new Error("No error stored at end of fallbacks.");throw await Promise.all(i.map((e=>e?.handleChainError(o)))),o}}function km(e){if("function"===typeof e)return new xm({func:e});if(fm.isRunnable(e))return e;if(Array.isArray(e)||"object"!==typeof e)throw new Error("Expected a Runnable, function or object.\nInstead got an unsupported type.");{const t={};for(const[n,r]of Object.entries(e))t[n]=km(r);return new bm({steps:t})}}class Sm extends fm{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof bm&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}async*_transform(e,t,n){const r=this.mapper.getStepsKeys(),[a,i]=Cf(e),o=this.mapper.transform(i,Gf(n,{callbacks:t?.getChild()})),s=o.next();for await(const l of a){if("object"!==typeof l||Array.isArray(l))throw new Error("RunnableAssign can only be used with objects as input, got "+typeof l);const e=Object.fromEntries(Object.entries(l).filter((e=>{let[t]=e;return!r.includes(t)})));Object.keys(e).length>0&&(yield e)}yield(await s).value;for await(const l of o)yield l}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=Zf(t),r=new Tf({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,jf.fromAsyncGenerator(r)}}class Em extends fm{static lc_name(){return"RunnablePick"}constructor(e){("string"===typeof e||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if("string"===typeof this.keys)return e[this.keys];{const t=this.keys.map((t=>[t,e[t]])).filter((e=>void 0!==e[1]));return 0===t.length?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(const t of e){const e=await this._pick(t);void 0!==e&&(yield e)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=Zf(t),r=new Tf({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,jf.fromAsyncGenerator(r)}}class Nm extends mm{constructor(e){super({bound:vm.from([xm.from((async e=>{let t;if(ih(e))try{t=await this.schema.parseAsync(e.args)}catch(eb){throw new oh("Received tool input did not match expected schema",JSON.stringify(e.args))}else t=e;return t})).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name}),config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}var Om="object"===typeof window?window:{},jm="0123456789abcdef".split(""),Cm=[-2147483648,8388608,32768,128],Pm=[24,16,8,0],Tm=[];function Am(e){e?(Tm[0]=Tm[16]=Tm[1]=Tm[2]=Tm[3]=Tm[4]=Tm[5]=Tm[6]=Tm[7]=Tm[8]=Tm[9]=Tm[10]=Tm[11]=Tm[12]=Tm[13]=Tm[14]=Tm[15]=0,this.blocks=Tm):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Am.prototype.update=function(e){if(!this.finalized){var t="string"!==typeof e;t&&e.constructor===Om.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,a=0,i=e.length||0,o=this.blocks;a<i;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(r=this.start;a<i&&r<64;++a)o[r>>2]|=e[a]<<Pm[3&r++];else for(r=this.start;a<i&&r<64;++a)(n=e.charCodeAt(a))<128?o[r>>2]|=n<<Pm[3&r++]:n<2048?(o[r>>2]|=(192|n>>6)<<Pm[3&r++],o[r>>2]|=(128|63&n)<<Pm[3&r++]):n<55296||n>=57344?(o[r>>2]|=(224|n>>12)<<Pm[3&r++],o[r>>2]|=(128|n>>6&63)<<Pm[3&r++],o[r>>2]|=(128|63&n)<<Pm[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++a)),o[r>>2]|=(240|n>>18)<<Pm[3&r++],o[r>>2]|=(128|n>>12&63)<<Pm[3&r++],o[r>>2]|=(128|n>>6&63)<<Pm[3&r++],o[r>>2]|=(128|63&n)<<Pm[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Am.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=Cm[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Am.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,a=this.h2,i=this.h3,o=this.h4,s=this.blocks;for(e=16;e<80;++e)t=s[e-3]^s[e-8]^s[e-14]^s[e-16],s[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(a=(t=(i=(t=(o=(t=n<<5|n>>>27)+(r&a|~r&i)+o+1518500249+s[e]|0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|~n&a)+i+1518500249+s[e+1]|0)<<5|i>>>27)+(o&(n=n<<30|n>>>2)|~o&r)+a+1518500249+s[e+2]|0)<<5|a>>>27)+(i&(o=o<<30|o>>>2)|~i&n)+r+1518500249+s[e+3]|0)<<5|r>>>27)+(a&(i=i<<30|i>>>2)|~a&o)+n+1518500249+s[e+4]|0,a=a<<30|a>>>2;for(;e<40;e+=5)n=(t=(r=(t=(a=(t=(i=(t=(o=(t=n<<5|n>>>27)+(r^a^i)+o+1859775393+s[e]|0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^a)+i+1859775393+s[e+1]|0)<<5|i>>>27)+(o^(n=n<<30|n>>>2)^r)+a+1859775393+s[e+2]|0)<<5|a>>>27)+(i^(o=o<<30|o>>>2)^n)+r+1859775393+s[e+3]|0)<<5|r>>>27)+(a^(i=i<<30|i>>>2)^o)+n+1859775393+s[e+4]|0,a=a<<30|a>>>2;for(;e<60;e+=5)n=(t=(r=(t=(a=(t=(i=(t=(o=(t=n<<5|n>>>27)+(r&a|r&i|a&i)+o-1894007588+s[e]|0)<<5|o>>>27)+(n&(r=r<<30|r>>>2)|n&a|r&a)+i-1894007588+s[e+1]|0)<<5|i>>>27)+(o&(n=n<<30|n>>>2)|o&r|n&r)+a-1894007588+s[e+2]|0)<<5|a>>>27)+(i&(o=o<<30|o>>>2)|i&n|o&n)+r-1894007588+s[e+3]|0)<<5|r>>>27)+(a&(i=i<<30|i>>>2)|a&o|i&o)+n-1894007588+s[e+4]|0,a=a<<30|a>>>2;for(;e<80;e+=5)n=(t=(r=(t=(a=(t=(i=(t=(o=(t=n<<5|n>>>27)+(r^a^i)+o-899497514+s[e]|0)<<5|o>>>27)+(n^(r=r<<30|r>>>2)^a)+i-899497514+s[e+1]|0)<<5|i>>>27)+(o^(n=n<<30|n>>>2)^r)+a-899497514+s[e+2]|0)<<5|a>>>27)+(i^(o=o<<30|o>>>2)^n)+r-899497514+s[e+3]|0)<<5|r>>>27)+(a^(i=i<<30|i>>>2)^o)+n-899497514+s[e+4]|0,a=a<<30|a>>>2;this.h0=this.h0+n|0,this.h1=this.h1+r|0,this.h2=this.h2+a|0,this.h3=this.h3+i|0,this.h4=this.h4+o|0},Am.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4;return jm[e>>28&15]+jm[e>>24&15]+jm[e>>20&15]+jm[e>>16&15]+jm[e>>12&15]+jm[e>>8&15]+jm[e>>4&15]+jm[15&e]+jm[t>>28&15]+jm[t>>24&15]+jm[t>>20&15]+jm[t>>16&15]+jm[t>>12&15]+jm[t>>8&15]+jm[t>>4&15]+jm[15&t]+jm[n>>28&15]+jm[n>>24&15]+jm[n>>20&15]+jm[n>>16&15]+jm[n>>12&15]+jm[n>>8&15]+jm[n>>4&15]+jm[15&n]+jm[r>>28&15]+jm[r>>24&15]+jm[r>>20&15]+jm[r>>16&15]+jm[r>>12&15]+jm[r>>8&15]+jm[r>>4&15]+jm[15&r]+jm[a>>28&15]+jm[a>>24&15]+jm[a>>20&15]+jm[a>>16&15]+jm[a>>12&15]+jm[a>>8&15]+jm[a>>4&15]+jm[15&a]},Am.prototype.toString=Am.prototype.hex,Am.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a]},Am.prototype.array=Am.prototype.digest,Am.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};const Im=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=t.join("_"),new Am(!0).update(r).hex();var r};class Rm{}const Lm=new Map;class $m extends Rm{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(Im(e,t))??null)}async update(e,t,n){this.cache.set(Im(e,t),n)}static global(){return new $m(Lm)}}class Mm extends zd{}class Dm extends Mm{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new th(this.value)]}}class Fm extends Mm{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return uh(this.messages)}toChatMessages(){return this.messages}}var zm=n(6676),Um=Object.defineProperty;function Bm(e,t){return 1===e.length?[t.get(e.join(","))]:function(e,t){let n=Array.from({length:e.length},((e,t)=>({start:t,end:t+1})));for(;n.length>1;){let r=null;for(let a=0;a<n.length-1;a++){const i=e.slice(n[a].start,n[a+1].end),o=t.get(i.join(","));null!=o&&(null==r||o<r[0])&&(r=[o,a])}if(null==r)break;{const e=r[1];n[e]={start:n[e].start,end:n[e+1].end},n.splice(e+1,1)}}return n}(e,t).map((n=>t.get(e.slice(n.start,n.end).join(",")))).filter((e=>null!=e))}var Hm,qm,Wm=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=(()=>new TextEncoder)();textDecoder=(()=>new TextDecoder("utf-8"))();rankMap=(()=>new Map)();textMap=(()=>new Map)();constructor(e,t){this.patStr=e.pat_str;const n=e.bpe_ranks.split("\n").filter(Boolean).reduce(((e,t)=>{const[n,r,...a]=t.split(" "),i=Number.parseInt(r,10);return a.forEach(((t,n)=>e[t]=i+n)),e}),{});for(const[r,a]of Object.entries(n)){const e=zm.toByteArray(r);this.rankMap.set(e.join(","),a),this.textMap.set(a,e)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce(((e,t)=>{let[n,r]=t;return e[r]=this.textEncoder.encode(n),e}),{})}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";const r=new RegExp(this.patStr,"ug"),a=Wm.specialTokenRegex(Object.keys(this.specialTokens)),i=[],o=new Set("all"===t?Object.keys(this.specialTokens):t),s=new Set("all"===n?Object.keys(this.specialTokens).filter((e=>!o.has(e))):n);if(s.size>0){const t=Wm.specialTokenRegex([...s]),n=e.match(t);if(null!=n)throw new Error(`The text contains a special token that is not allowed: ${n[0]}`)}let l=0;for(;;){let t=null,n=l;for(;a.lastIndex=n,t=a.exec(e),null!=t&&!o.has(t[0]);)n=t.index+1;const s=t?.index??e.length;for(const a of e.substring(l,s).matchAll(r)){const e=this.textEncoder.encode(a[0]),t=this.rankMap.get(e.join(","));null==t?i.push(...Bm(e,this.rankMap)):i.push(t)}if(null==t)break;let c=this.specialTokens[t[0]];i.push(c),l=t.index+t[0].length}return i}decode(e){const t=[];let n=0;for(let i=0;i<e.length;++i){const r=e[i],a=this.textMap.get(r)??this.inverseSpecialTokens[r];null!=a&&(t.push(a),n+=a.length)}const r=new Uint8Array(n);let a=0;for(const i of t)r.set(i,a),a+=i.length;return this.textDecoder.decode(r)}},Vm=Wm;qm=e=>new RegExp(e.map((e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|"),"g"),((e,t,n)=>{t in e?Um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(Vm,"symbol"!==typeof(Hm="specialTokenRegex")?Hm+"":Hm,qm);const Zm={},Gm=new Xf({});async function Jm(e){return async function(e){return e in Zm||(Zm[e]=Gm.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then((e=>e.json())).then((e=>new Vm(e))).catch((t=>{throw delete Zm[e],t}))),await Zm[e]}(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":return"o200k_base";default:throw new Error("Unknown model")}}(e))}const Km=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e;class Xm extends fm{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class Qm extends Xm{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor(e){let{callbacks:t,callbackManager:n,...r}=e;super({callbacks:t??n,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"===typeof r.cache?this.cache=r.cache:r.cache?this.cache=$m.global():this.cache=void 0,this.caller=new Xf(r??{})}async getNumTokens(e){if("string"!==typeof e)return 0;let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Jm("modelName"in this?Km(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{t=this._encoding.encode(e).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return t}static _convertInputToPromptValue(e){return"string"===typeof e?new Dm(e):Array.isArray(e)?new Fm(e.map(ch)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){let{config:t,...n}=e;const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()},a=Object.entries(r).filter((e=>{let[t,n]=e;return void 0!==n})),i=a.map((e=>{let[t,n]=e;return`${t}:${JSON.stringify(n)}`})).sort().join(",");return i}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Ym extends fm{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,t){const n=Zf(t);return this.func&&await this.func(e,n),this._callWithConfig((e=>Promise.resolve(e)),e,n)}async*transform(e,t){const n=Zf(t);let r,a=!0;for await(const i of this._transformStreamWithConfig(e,(e=>e),n))if(yield i,a)if(void 0===r)r=i;else try{r=Pf(r,i)}catch{r=void 0,a=!1}this.func&&void 0!==r&&await this.func(r,n)}static assign(e){return new Sm(new bm({steps:e}))}}function eg(e){return"function"===typeof e?.parse}class tg extends Qm{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptionsCompat(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n.signal=t.signal,[t,n]}async invoke(e,t){const n=tg._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===tg.prototype._streamResponseChunks)yield this.invoke(e,t);else{const r=tg._convertInputToPromptValue(e).toChatMessages(),[a,i]=this._separateRunnableConfigFromCallOptionsCompat(t),o={...a.metadata,...this.getLsParams(i)},s=await xf.configure(a.callbacks,this.callbacks,a.tags,this.tags,o,this.metadata,{verbose:this.verbose}),l={options:i,invocation_params:this?.invocationParams(i),batch_size:1},c=await(s?.handleChatModelStart(this.toJSON(),[r],a.runId,void 0,l,void 0,void 0,a.runName));let u,d;try{for await(const e of this._streamResponseChunks(r,i,c?.[0])){if(null==e.message.id){const t=c?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata},yield e.message,u=u?u.concat(e):e,Kd(e.message)&&void 0!==e.message.usage_metadata&&(d={tokenUsage:{promptTokens:e.message.usage_metadata.input_tokens,completionTokens:e.message.usage_metadata.output_tokens,totalTokens:e.message.usage_metadata.total_tokens}})}}catch(n){throw await Promise.all((c??[]).map((e=>e?.handleLLMError(n)))),n}await Promise.all((c??[]).map((e=>e?.handleLLMEnd({generations:[[u]],llmOutput:d}))))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,t,n){const r=e.map((e=>e.map(ch))),a={...n.metadata,...this.getLsParams(t)},i=await xf.configure(n.callbacks,this.callbacks,n.tags,this.tags,a,this.metadata,{verbose:this.verbose}),o={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await(i?.handleChatModelStart(this.toJSON(),r,n.runId,void 0,o,void 0,void 0,n.runName)),l=[],c=[];if(!!s?.[0].handlers.find((e=>Bf(e)||Rf(e)))&&1===r.length&&this._streamResponseChunks!==tg.prototype._streamResponseChunks)try{const e=await this._streamResponseChunks(r[0],t,s?.[0]);let n,a;for await(const t of e){if(null==t.message.id){const e=s?.at(0)?.runId;null!=e&&t.message._updateId(`run-${e}`)}n=void 0===n?t:Pf(n,t),Kd(t.message)&&void 0!==t.message.usage_metadata&&(a={tokenUsage:{promptTokens:t.message.usage_metadata.input_tokens,completionTokens:t.message.usage_metadata.output_tokens,totalTokens:t.message.usage_metadata.total_tokens}})}if(void 0===n)throw new Error("Received empty response from chat model call.");l.push([n]),await(s?.[0].handleLLMEnd({generations:l,llmOutput:a}))}catch(eb){throw await(s?.[0].handleLLMError(eb)),eb}else{const e=await Promise.allSettled(r.map(((e,n)=>this._generate(e,{...t,promptIndex:n},s?.[n]))));await Promise.all(e.map((async(e,t)=>{if("fulfilled"===e.status){const n=e.value;for(const e of n.generations){if(null==e.message.id){const t=s?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata}}return 1===n.generations.length&&(n.generations[0].message.response_metadata={...n.llmOutput,...n.generations[0].message.response_metadata}),l[t]=n.generations,c[t]=n.llmOutput,s?.[t]?.handleLLMEnd({generations:[n.generations],llmOutput:n.llmOutput})}return await(s?.[t]?.handleLLMError(e.reason)),Promise.reject(e.reason)})))}const u={generations:l,llmOutput:c.length?this._combineLLMOutput?.(...c):void 0};return Object.defineProperty(u,Df,{value:s?{runIds:s?.map((e=>e.runId))}:void 0,configurable:!0}),u}async _generateCached(e){let{messages:t,cache:n,llmStringKey:r,parsedOptions:a,handledOptions:i}=e;const o=t.map((e=>e.map(ch))),s={...i.metadata,...this.getLsParams(a)},l=await xf.configure(i.callbacks,this.callbacks,i.tags,this.tags,s,this.metadata,{verbose:this.verbose}),c={options:a,invocation_params:this?.invocationParams(a),batch_size:1,cached:!0},u=await(l?.handleChatModelStart(this.toJSON(),o,i.runId,void 0,c,void 0,void 0,i.runName)),d=[],h=await Promise.allSettled(o.map((async(e,t)=>{const a=tg._convertInputToPromptValue(e).toString(),i=await n.lookup(a,r);return null==i&&d.push(t),i}))),p=h.map(((e,t)=>({result:e,runManager:u?.[t]}))).filter((e=>{let{result:t}=e;return"fulfilled"===t.status&&null!=t.value||"rejected"===t.status})),f=[];await Promise.all(p.map((async(e,t)=>{let{result:n,runManager:r}=e;if("fulfilled"===n.status){const e=n.value;return f[t]=e,e.length&&await(r?.handleLLMNewToken(e[0].text)),r?.handleLLMEnd({generations:[e]})}return await(r?.handleLLMError(n.reason)),Promise.reject(n.reason)})));const m={generations:f,missingPromptIndices:d};return Object.defineProperty(m,Df,{value:u?{runIds:u?.map((e=>e.runId))}:void 0,configurable:!0}),m}async generate(e,t,n){let r;r=Array.isArray(t)?{stop:t}:t;const a=e.map((e=>e.map(ch))),[i,o]=this._separateRunnableConfigFromCallOptionsCompat(r);if(i.callbacks=i.callbacks??n,!this.cache)return this._generateUncached(a,o,i);const{cache:s}=this,l=this._getSerializedCacheKeyParametersForCall(o),{generations:c,missingPromptIndices:u}=await this._generateCached({messages:a,cache:s,llmStringKey:l,parsedOptions:o,handledOptions:i});let d={};if(u.length>0){const e=await this._generateUncached(u.map((e=>a[e])),o,i);await Promise.all(e.generations.map((async(e,t)=>{const n=u[t];c[n]=e;const r=tg._convertInputToPromptValue(a[n]).toString();return s.update(r,l,e)}))),d=e.llmOutput??{}}return{generations:c,llmOutput:d}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const r=e.map((e=>e.toChatMessages()));return this.generate(r,t,n)}async call(e,t,n){return(await this.generate([e.map(ch)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const r=e.toChatMessages();return this.call(r,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const r=new th(e),a=await this.call([r],t,n);if("string"!==typeof a.content)throw new Error("Cannot use predict when output is not a string.");return a.content}withStructuredOutput(e,t){if("function"!==typeof this.bindTools)throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');const n=e,r=t?.name,a=n.description??"A function available to call.",i=t?.method,o=t?.includeRaw;if("jsonMode"===i)throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s,l=r??"extract";eg(n)?s=[{type:"function",function:{name:l,description:a,parameters:Td(n)}}]:("name"in n&&(l=n.name),s=[{type:"function",function:{name:l,description:a,parameters:n}}]);const c=this.bindTools(s),u=xm.from((e=>{if(!e.tool_calls||0===e.tool_calls.length)throw new Error("No tool calls found in the response.");const t=e.tool_calls.find((e=>e.name===l));if(!t)throw new Error(`No tool call found with name ${l}.`);return t.args}));if(!o)return c.pipe(u).withConfig({runName:"StructuredOutput"});const d=Ym.assign({parsed:(e,t)=>u.invoke(e.raw,t)}),h=Ym.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[h]});return vm.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}}const ng="0.5.0";let rg,ag,ig,og,sg,lg,cg,ug,dg,hg=!1,pg=null,fg=null,mg=null,gg=null;class yg{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}rg||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(hg)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(rg)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${rg}'\``);hg=t.auto,rg=e.kind,ag=e.fetch,pg=e.Request,fg=e.Response,mg=e.Headers,ig=e.FormData,gg=e.Blob,og=e.File,sg=e.ReadableStream,lg=e.getMultipartRequestOptions,cg=e.getDefaultAgent,ug=e.fileFromPath,dg=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,a,i;try{n=fetch,r=Request,a=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:i,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new yg(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class vg extends Error{}class bg extends vg{constructor(e,t,n,r){super(`${bg.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new xg({cause:sy(t)});const a=t;return 400===e?new kg(e,a,n,r):401===e?new Sg(e,a,n,r):403===e?new Eg(e,a,n,r):404===e?new Ng(e,a,n,r):409===e?new Og(e,a,n,r):422===e?new jg(e,a,n,r):429===e?new Cg(e,a,n,r):e>=500?new Pg(e,a,n,r):new bg(e,a,n,r)}}class wg extends bg{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class xg extends bg{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class _g extends xg{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class kg extends bg{constructor(){super(...arguments),this.status=400}}class Sg extends bg{constructor(){super(...arguments),this.status=401}}class Eg extends bg{constructor(){super(...arguments),this.status=403}}class Ng extends bg{constructor(){super(...arguments),this.status=404}}class Og extends bg{constructor(){super(...arguments),this.status=409}}class jg extends bg{constructor(){super(...arguments),this.status=422}}class Cg extends bg{constructor(){super(...arguments),this.status=429}}class Pg extends bg{}class Tg{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;const r=new Ag;return new Tg((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const n of async function*(){if(!e.body)throw t.abort(),new vg("Attempted to iterate over a response with no body");const n=new Ig,a=Rg(e.body);for await(const e of a)for(const t of n.decode(e)){const e=r.decode(t);e&&(yield e)}for(const e of n.flush()){const t=r.decode(e);t&&(yield t)}}())if(!a)if(n.data.startsWith("[DONE]"))a=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(eb){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),eb}if(e&&e.error)throw new bg(void 0,e.error,void 0,void 0);yield e}a=!0}catch(eb){if(eb instanceof Error&&"AbortError"===eb.name)return;throw eb}finally{a||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new Tg((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new Ig,n=Rg(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(eb){if(eb instanceof Error&&"AbortError"===eb.name)return;throw eb}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new Tg((()=>r(e)),this.controller),new Tg((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new sg({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const i=n.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}class Ag{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class Ig{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Ig.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(Ig.NEWLINE_REGEXP);return 1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new vg(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new vg(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new vg("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function Rg(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(eb){throw t.releaseLock(),eb}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}Ig.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","\x1c","\x1d","\x1e","\x85","\u2028","\u2029"]),Ig.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;const Lg=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,$g=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Mg(e),Mg=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,Dg=e=>$g(e)||Lg(e)||dg(e);async function Fg(e,t,n){if(e=await e,n??(n=$g(e)?{lastModified:e.lastModified,type:e.type}:{}),Lg(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new og([r],t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Mg(e))t.push(await e.arrayBuffer());else{if(!Ug(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return zg(e.name)||zg(e.filename)||zg(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new og(r,t,n)}const zg=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,Ug=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Bg=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Hg=async e=>{const t=await qg(e.body);return lg(t,e)},qg=async e=>{const t=new ig;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return Wg(t,n,r)}))),t},Wg=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(Dg(n)){const r=await Fg(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>Wg(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return Wg(e,`${t}[${r}]`,a)})))}}};async function Vg(e){const{response:t}=e;if(e.options.stream)return hy("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Tg.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return hy("response",t.status,t.url,t.headers,e),e}const r=await t.text();return hy("response",t.status,t.url,t.headers,r),r}class Zg extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vg;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Zg(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Gg{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:a,fetch:i}=e;this.baseURL=t,this.maxRetries=oy("maxRetries",n),this.timeout=oy("timeout",r),this.httpAgent=a,this.fetch=i??ag}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ty(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${py()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&Mg(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:n,query:r,headers:a={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:Bg(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(i),s=this.buildURL(n,r);"timeout"in e&&oy("timeout",e.timeout);const l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??cg(s),u=l+1e3;"number"===typeof c?.options?.timeout&&u>(c.options.timeout??0)&&(c.options.timeout=u),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...i&&{body:i},headers:this.buildHeaders({options:e,headers:a,contentLength:o}),...c&&{agent:c},signal:e.signal??null},url:s,timeout:l}}buildHeaders(e){let{options:t,headers:n,contentLength:r}=e;const a={};r&&(a["content-length"]=r);return dy(a,this.defaultHeaders(t)),dy(a,n),Bg(t.body)&&"node"!==rg&&delete a["content-type"],this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return bg.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Zg(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e;null==t&&(t=n.maxRetries??this.maxRetries),await this.prepareOptions(n);const{req:r,url:a,timeout:i}=this.buildRequest(n);if(await this.prepareRequest(r,{url:a,options:n}),hy("request",a,n,r.headers),n.signal?.aborted)throw new wg;const o=new AbortController,s=await this.fetchWithTimeout(a,r,i,o).catch(sy);if(s instanceof Error){if(n.signal?.aborted)throw new wg;if(t)return this.retryRequest(n,t);if("AbortError"===s.name)throw new _g;throw new xg({cause:s})}const l=Kg(s.headers);if(!s.ok){if(t&&this.shouldRetry(s)){return hy(`response (error; ${`retrying, ${t} attempts remaining`})`,s.status,a,l),this.retryRequest(n,t,l)}const e=await s.text().catch((e=>sy(e).message)),r=ny(e),i=r?void 0:e;hy(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,s.status,a,l,i);throw this.makeStatusError(s.status,r,i,l)}return{response:s,options:n,controller:o}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Jg(this,n,e)}buildURL(e,t){const n=ay(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return cy(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new vg(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...i}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const o=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...i}).finally((()=>{clearTimeout(o)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const i=n?.["retry-after"];if(i&&!r){const e=parseFloat(i);r=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await iy(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ng}`}}new WeakMap,Symbol.asyncIterator;class Jg extends Zg{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Vg(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Kg=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Xg=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ng,"X-Stainless-OS":Yg(Deno.build.os),"X-Stainless-Arch":Qg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ng,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ng,"X-Stainless-OS":Yg(process.platform),"X-Stainless-Arch":Qg(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ng,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ng,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Qg=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Yg=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let ey;const ty=()=>ey??(ey=Xg()),ny=e=>{try{return JSON.parse(e)}catch(t){return}},ry=new RegExp("^(?:[a-z]+:)?//","i"),ay=e=>ry.test(e),iy=e=>new Promise((t=>setTimeout(t,e))),oy=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new vg(`${e} must be an integer`);if(t<0)throw new vg(`${e} must be a positive integer`);return t},sy=e=>e instanceof Error?e:new Error(e),ly=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function cy(e){if(!e)return!0;for(const t in e)return!1;return!0}function uy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dy(e,t){for(const n in t){if(!uy(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}function hy(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/quillquest-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_ENVIRONMENT:"production"}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`Groq:DEBUG:${e}`,...n)}}const py=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));class fy{constructor(e){this._client=e}}class my extends fy{}my||(my={});class gy extends fy{create(e,t){return this._client.post("/openai/v1/chat/completions",{body:e,...t,stream:e.stream??!1})}}gy||(gy={});class yy extends fy{constructor(){super(...arguments),this.completions=new gy(this._client)}}!function(e){e.Completions=gy}(yy||(yy={}));class vy extends fy{create(e,t){return this._client.post("/openai/v1/embeddings",{body:e,...t})}}vy||(vy={});class by extends fy{create(e,t){return this._client.post("/openai/v1/audio/transcriptions",Hg({body:e,...t}))}}by||(by={});class wy extends fy{create(e,t){return this._client.post("/openai/v1/audio/translations",Hg({body:e,...t}))}}wy||(wy={});class xy extends fy{constructor(){super(...arguments),this.transcriptions=new by(this._client),this.translations=new wy(this._client)}}!function(e){e.Transcriptions=by,e.Translations=wy}(xy||(xy={}));class _y extends fy{retrieve(e,t){return this._client.get(`/openai/v1/models/${e}`,t)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,t){return this._client.delete(`/openai/v1/models/${e}`,t)}}var ky;_y||(_y={});class Sy extends Gg{constructor(){let{baseURL:e=ly("GROQ_BASE_URL"),apiKey:t=ly("GROQ_API_KEY"),...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new vg("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const r={apiKey:t,...n,baseURL:e||"https://api.groq.com"};if(!r.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new vg("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Groq({ apiKey, dangerouslyAllowBrowser: true })");super({baseURL:r.baseURL,timeout:r.timeout??6e4,httpAgent:r.httpAgent,maxRetries:r.maxRetries,fetch:r.fetch}),this.completions=new my(this),this.chat=new yy(this),this.embeddings=new vy(this),this.audio=new xy(this),this.models=new _y(this),this._options=r,this.apiKey=t}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}ky=Sy,Sy.Groq=ky,Sy.GroqError=vg,Sy.APIError=bg,Sy.APIConnectionError=xg,Sy.APIConnectionTimeoutError=_g,Sy.APIUserAbortError=wg,Sy.NotFoundError=Ng,Sy.ConflictError=Og,Sy.RateLimitError=Cg,Sy.BadRequestError=kg,Sy.AuthenticationError=Sg,Sy.InternalServerError=Pg,Sy.PermissionDeniedError=Eg,Sy.UnprocessableEntityError=jg,Sy.toFile=Fg,Sy.fileFromPath=ug;const{i7:Ey,LG:Ny,xX:Oy,qA:jy,cH:Cy,m_:Py,fK:Ty,OE:Ay,v7:Iy,v3:Ry,PO:Ly,Ll:$y,Is:My}=i;!function(e){e.Completions=my,e.Chat=yy,e.Embeddings=vy,e.Audio=xy,e.Models=_y}(Sy||(Sy={}));const Dy=Sy;class Fy extends fm{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}_baseMessageToString(e){return"string"===typeof e.content?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return"string"===typeof e?this._callWithConfig((async(e,t)=>this.parseResult([{text:e}],t?.callbacks)),e,{...t,runType:"parser"}):this._callWithConfig((async(e,t)=>this.parseResult([{message:e,text:this._baseMessageToString(e)}],t?.callbacks)),e,{...t,runType:"parser"})}}class zy extends Fy{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class Uy extends Error{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=t,this.observation=n,this.sendToLLM=r,r&&(void 0===n||void 0===t))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}function By(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!By(e[r],t[r]))return!1;return!0}if("object"===n){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n)if(!By(e[a],t[a]))return!1;return!0}return e===t}"undefined"!==typeof self&&self.location&&"null"!==self.location.origin&&(self.location.origin,self.location.pathname,location.search);const Hy=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,qy=[0,31,28,31,30,31,30,31,31,30,31,30,31],Wy=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Vy=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Zy=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Gy=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Jy=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Ky=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Xy=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Qy=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Yy=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ev=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,tv=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,nv=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,rv=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,av=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,iv=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function ov(e){return e.test.bind(e)}function sv(e){const t=e.match(Hy);if(!t)return!1;const n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:qy[r])}function lv(e,t){const n=t.match(Wy);if(!n)return!1;const r=+n[1],a=+n[2],i=+n[3],o=!!n[5];return(r<=23&&a<=59&&i<=59||23==r&&59==a&&60==i)&&(!e||o)}const cv=/t|\s/i;const uv=/\/|:/,dv=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const hv=/[^\\]\\Z/;class pv extends zy{async*_transform(e){for await(const t of e)"string"===typeof t?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class fv extends pv{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let t,n;for await(const a of e){if("string"!==typeof a&&"string"!==typeof a.content)throw new Error("Cannot handle non-string output.");let e;if(Vd(r=a)&&"function"===typeof r.concat){if("string"!==typeof a.content)throw new Error("Cannot handle non-string message output.");e=new zf({message:a,text:a.content})}else if(Vd(a)){if("string"!==typeof a.content)throw new Error("Cannot handle non-string message output.");e=new zf({message:dh(a),text:a.content})}else e=new Ff({text:a});n=void 0===n?e:n.concat(e);const i=await this.parsePartialResult([n]);void 0===i||null===i||By(i,t)||(this.diff?yield this._diff(t,i):yield i,t=i)}var r}getFormatInstructions(){return""}}class mv extends zy{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(ud.object(Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,ud.string().describe(n)]})))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.\n\n"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}\nwould match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.\nThus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\`\`\`json\n${JSON.stringify(Td(this.schema))}\n\`\`\`\n`}async parse(e){try{const t=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,((e,t)=>`"${t.replace(/\n/g,"\\n")}"`)).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(t))}catch(eb){throw new Uy(`Failed to parse. Text: "${e}". Error: ${eb}`,e)}}}class gv extends fv{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,t){if(t)return e?Zh(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return Ad(e[0].text)}async parse(e){return Ad(e,JSON.parse)}getFormatInstructions(){return""}}function yv(e,t){if(void 0===e.function)return;let n;if(t?.partial)try{n=Id(e.function.arguments??"{}")}catch(eb){return}else try{n=JSON.parse(e.function.arguments)}catch(eb){throw new Uy([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${eb.message}`].join("\n"))}const r={name:e.function.name,args:n,type:"tool_call"};return t?.returnId&&(r.id=e.id),r}function vv(e){if(void 0===e.id)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function bv(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t,type:"invalid_tool_call"}}class wv extends fv{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e[0].message;let r;if(Jd(n)&&n.tool_calls?.length)r=n.tool_calls.map((e=>{const{id:t,...n}=e;return this.returnId?{id:t,...n}:n}));else if(void 0!==n.additional_kwargs.tool_calls){r=JSON.parse(JSON.stringify(n.additional_kwargs.tool_calls)).map((e=>yv(e,{returnId:this.returnId,partial:t})))}if(!r)return[];const a=[];for(const i of r)if(void 0!==i){const e={type:i.name,args:i.args,id:i.id};a.push(e)}return a}}class xv extends wv{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(void 0===this.zodSchema)return e;const t=await this.zodSchema.safeParseAsync(e);if(t.success)return t.data;throw new Uy(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const t=(await super.parsePartialResult(e)).filter((e=>e.type===this.keyName));let n=t;if(t.length)return this.returnId||(n=t.map((e=>e.args))),this.returnSingle?n[0]:n}async parseResult(e){const t=(await super.parsePartialResult(e,!1)).filter((e=>e.type===this.keyName));let n=t;if(!t.length)return;if(this.returnId||(n=t.map((e=>e.args))),this.returnSingle)return this._validateResult(n[0]);const r=await Promise.all(n.map((e=>this._validateResult(e))));return r}}function _v(e,t){const n="number"===typeof t?void 0:t;return{name:e.name,description:e.description,parameters:Td(e.schema),...void 0!==n?.strict?{strict:n.strict}:{}}}function kv(e,t){const n="number"===typeof t?void 0:t;let r;return r=function(e){return function(e){return!!e&&"object"===typeof e&&"name"in e&&"schema"in e&&eg(e.schema)}(e)||function(e){return void 0!==e&&fm.isRunnable(e)&&"lc_name"in e.constructor&&"function"===typeof e.constructor.lc_name&&"RunnableToolLike"===e.constructor.lc_name()}(e)||function(e){return void 0!==e&&Array.isArray(e.lc_namespace)}(e)}(e)?{type:"function",function:_v(e)}:e,void 0!==n?.strict&&(r.function.strict=n.strict),r}function Sv(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${t}`)}}function Ev(e){return e.map((e=>{if("string"!==typeof e.content)throw new Error("Non string message content not supported");const t={role:Sv(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return Jd(e)&&e.tool_calls?.length?t.tool_calls=e.tool_calls.map(vv):(null!=e.additional_kwargs.tool_calls&&(t.tool_calls=e.additional_kwargs.tool_calls),null!=e.tool_call_id&&(t.tool_call_id=e.tool_call_id)),t}))}function Nv(e,t){const n=e.tool_calls;if("assistant"===e.role){const r=[],a=[];for(const e of n??[])try{r.push(yv(e,{returnId:!0}))}catch(eb){a.push(bv(e,eb.message))}return new Gd({content:e.content||"",additional_kwargs:{tool_calls:n},tool_calls:r,invalid_tool_calls:a,usage_metadata:t})}return new Qd(e.content||"",e.role??"unknown")}function Ov(e,t,n){const{role:r}=e,a=e.content??"";let i,o,s;if(i=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},n?.usage&&(o={input_tokens:n.usage.prompt_tokens,output_tokens:n.usage.completion_tokens,total_tokens:n.usage.total_tokens},s=n.id),"user"===r)return{message:new nh({content:a})};if("assistant"===r){const n=function(e,t){if(e?.length)return e.map((e=>({id:e.id,name:e.function?.name,args:e.function?.arguments,type:"tool_call_chunk",index:t})))}(e.tool_calls,t);return{message:new Xd({content:a,additional_kwargs:i,tool_call_chunks:n?n.map((e=>({type:e.type,args:e.args,index:e.index}))):void 0,usage_metadata:o,id:s}),toolCallData:n?n.map((e=>({id:e.id??"",name:e.name??"",index:e.index??t,type:"tool_call_chunk"}))):void 0}}return"system"===r?{message:new ah({content:a})}:{message:new Yd({content:a,role:r})}}class jv extends tg{static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}constructor(e){super(e??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});const t=e?.apiKey||Qh("GROQ_API_KEY");if(!t)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');this.client=new Dy({apiKey:t,dangerouslyAllowBrowser:!0}),this.apiKey=t,this.temperature=e?.temperature??this.temperature,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.streaming=e?.streaming??this.streaming,this.stop=e?.stopSequences??("string"===typeof e?.stop?[e.stop]:e?.stop)??[],this.stopSequences=this.stop,this.maxTokens=e?.maxTokens}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??this.temperature,ls_max_tokens:t.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,t){return this.caller.call((async()=>this.client.chat.completions.create(e,t)))}invocationParams(e){const t=super.invocationParams(e);return void 0!==e.tool_choice&&(t.tool_choice=e.tool_choice),void 0!==e.tools&&(t.tools=e.tools),void 0!==e.response_format&&(t.response_format=e.response_format),{...t,stop:e.stop??this.stopSequences,model:this.model,temperature:this.temperature,max_tokens:this.maxTokens}}bindTools(e,t){return this.bind({tools:e.map((e=>kv(e))),...t})}async*_streamResponseChunks(e,t,n){const r=this.invocationParams(t),a=Ev(e),i=await this.completionWithRetry({...r,messages:a,stream:!0},{signal:t?.signal,headers:t?.headers});let o="";const s=[];let l;for await(const c of i){l=c;const e=c?.choices[0];if(!e)continue;e.delta?.role&&(o=e.delta.role);const{message:t,toolCallData:r}=Ov({...e.delta,role:o}??{},e.index,c.x_groq);if(r){const e=r.filter((e=>s.every((t=>t.id!==e.id))));s.push(...e),yield new zf({message:new Xd({content:"",tool_call_chunks:e}),text:""})}const a=new zf({message:t,text:e.delta.content??"",generationInfo:{finishReason:e.finish_reason}});yield a,n?.handleLLMNewToken(a.text??"")}if(l&&("choices"in l&&delete l.choices,yield new zf({message:new Xd({content:"",response_metadata:l}),text:""})),t.signal?.aborted)throw new Error("AbortError")}async _generate(e,t,n){if(this.streaming){const r={},a=this._streamResponseChunks(e,t,n),i={};for await(const e of a){const t=e.generationInfo?.completion??0;void 0===i[t]?i[t]=e:i[t]=i[t].concat(e)}const o=Object.entries(i).sort(((e,t)=>{let[n]=e,[r]=t;return parseInt(n,10)-parseInt(r,10)})).map((e=>{let[t,n]=e;return n}));return{generations:o,llmOutput:{estimatedTokenUsage:r}}}return this._generateNonStreaming(e,t,n)}async _generateNonStreaming(e,t,n){const r={},a=this.invocationParams(t),i=Ev(e),o=await this.completionWithRetry({...a,stream:!1,messages:i},{signal:t?.signal,headers:t?.headers});if("usage"in o&&o.usage){const{completion_tokens:e,prompt_tokens:t,total_tokens:n}=o.usage;e&&(r.completionTokens=(r.completionTokens??0)+e),t&&(r.promptTokens=(r.promptTokens??0)+t),n&&(r.totalTokens=(r.totalTokens??0)+n)}const s=[];if("choices"in o&&o.choices)for(const l of o.choices){const e=l.message?.content??"";let t;void 0!==r.totalTokens&&(t={input_tokens:r.promptTokens??0,output_tokens:r.completionTokens??0,total_tokens:r.totalTokens});const n={text:e,message:Nv(l.message??{role:"assistant"},t)};n.generationInfo={...l.finish_reason?{finish_reason:l.finish_reason}:{},...l.logprobs?{logprobs:l.logprobs}:{}},s.push(n)}return{generations:s,llmOutput:{tokenUsage:r}}}withStructuredOutput(e,t){const n=e,r=t?.name,a=t?.method,i=t?.includeRaw;let o,s,l=r??"extract";if("jsonMode"===a)s=this.bind({response_format:{type:"json_object"}}),o=eg(n)?mv.fromZodSchema(n):new gv;else if(eg(n)){const e=Td(n);s=this.bind({tools:[{type:"function",function:{name:l,description:e.description,parameters:e}}],tool_choice:{type:"function",function:{name:l}}}),o=new xv({returnSingle:!0,keyName:l,zodSchema:n})}else{let e;"string"===typeof n.name&&"object"===typeof n.parameters&&null!=n.parameters?(e=n,l=n.name):(l=n.title??l,e={name:l,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:e}],tool_choice:{type:"function",function:{name:l}}}),o=new xv({returnSingle:!0,keyName:l})}if(!i)return s.pipe(o).withConfig({runName:"ChatGroqStructuredOutput"});const c=Ym.assign({parsed:(e,t)=>o.invoke(e.raw,t)}),u=Ym.assign({parsed:()=>null}),d=c.withFallbacks({fallbacks:[u]});return vm.from([{raw:s},d]).withConfig({runName:"ChatGroqStructuredOutput"})}}const Cv=new class{constructor(){this.config=null,this.loadingPromise=null}async getConfig(){return this.config?this.config:(this.loadingPromise||(this.loadingPromise=er.get("/config").then((e=>(this.config=e.data,this.loadingPromise=null,this.config))).catch((e=>{throw console.error("Failed to load config:",e),this.loadingPromise=null,e}))),this.loadingPromise)}async getGroqApiKey(){return(await this.getConfig()).GROQ_API_KEY}};const Pv=new class{constructor(){this.llm=null,this.initPromise=null}async initialize(){return this.initPromise||(this.initPromise=(async()=>{try{const e=await Cv.getGroqApiKey();if(!e)throw new Error("GROQ API key not found in configuration");return this.llm=new jv({apiKey:e,model:"llama3-70b-8192",temperature:.5,maxTokens:1024,topP:1,baseURL:"https://api.groq.com/openai/v1",defaultHeaders:{"Content-Type":"application/json",Origin:window.location.origin}}),this.llm}catch(e){throw console.error("Failed to initialize LLM:",e),this.initPromise=null,e}})()),this.initPromise}async getLLM(){return this.llm||await this.initialize(),this.llm}async invoke(e){return(await this.getLLM()).invoke(e)}},Tv=e=>{let{isOpen:t,onClose:n,sectionType:r,essayInfo:a,currentContent:i}=e;const[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),p=(0,s.useRef)(null),f=(0,s.useRef)(!0);(0,s.useEffect)((()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)}),[o]);const m=(0,s.useMemo)((()=>({role:"system",content:"\n      You are a friendly AI writing assistant. Your goal is to help students think critically and improve their essay writing by asking thoughtful questions. Don't provide direct examples or fully formed arguments. Instead, ask questions that encourage the student to reflect on their ideas, find connections, and develop their own arguments. Be encouraging and tailored to the specific section they're working on.\n  \n      Use the following formatting guidelines:\n      \n      - Use **bold** for key concepts or phrases to highlight important points.\n      - Use line breaks between questions and ideas for readability.\n      - Structure the response clearly, using bullet points or numbered lists to organize thoughts.\n      \n      When responding, always follow this approach:\n      \n      1. **Friendly greeting**: Start by making the student feel supported and confident.\n      2. **Understand the section**: Identify the part of the essay the student is working on (e.g., introduction, thesis, body, conclusion).\n      3. **Ask guiding questions**: Pose 3-5 thoughtful questions that guide the student to reflect deeply. Focus on helping them form their own arguments without giving direct answers.\n      4. **Offer general writing tips**: Suggest strategies (e.g., brainstorming or outlining) that can help develop their ideas.\n      5. **Encouragement**: Always end with a positive note to keep the student motivated.\n  \n      ### Examples:\n  \n      **Example 1: Introduction Section**\n      \n      _Hi there! Great job getting started on your essay. Let's focus on your introduction._\n  \n      **What is the main theme or argument** you want to introduce?  \n      **How can you grab your reader's attention** right from the beginning? Consider using a hook, like a surprising fact or a thought-provoking question.  \n      **Why is this topic important** in the broader context of your subject?  \n      **How will you structure the introduction** to flow naturally into the main points of your essay?\n  \n      You're on the right track\u2014reflecting on these questions will help make your introduction even stronger!\n  \n      **Example 2: Conclusion Section**\n  \n      _You're almost there! The conclusion is your final chance to leave a lasting impression on your reader._\n  \n      **What key points from your essay** do you want to emphasize?  \n      **How can you connect your argument back** to the introduction to create a sense of cohesion?  \n      **What final insight or call to action** can you leave with your reader that highlights the importance of your argument?  \n      **Are there any lingering questions** the reader might have that you can address briefly in your conclusion?\n  \n      You're so close\u2014thinking through these ideas will help make your conclusion really compelling!\n  \n      **Example 3: Body Paragraph**\n  \n      _Great work on developing the body of your essay! Let's dive deeper into this section._\n  \n      **What is the main point of this paragraph** and how does it connect to your thesis?  \n      **Do you have enough supporting evidence** for this point? Consider whether your examples are clear and persuasive.  \n      **How does this argument relate to your previous points**? Is there a logical flow?  \n      **Could you clarify any complex ideas** for the reader, or add more detail where needed?\n  \n      Keep refining, and your essay will be in excellent shape in no time!\n  \n      **Remember:** Your role is to guide students in developing their own thoughts without giving away the answers. Encourage critical thinking, avoid spoon-feeding, and focus on engaging questions and feedback.\n    "})),[]);(0,s.useEffect)((()=>{(async()=>{if(t&&f.current){h(!0);try{const e={role:"user",content:`I'm writing a ${(null===a||void 0===a?void 0:a.postType)||"essay"} ${null!==a&&void 0!==a&&a.title?`titled "${a.title}"`:""} ${null!==a&&void 0!==a&&a.prompt?`based on the prompt: "${a.prompt}"`:""}. I'm currently working on the ${r} section. Can you provide some guidance to help me improve this part of my essay?`},t=await Pv.invoke([m,e]);l([{role:"assistant",content:t.content}]),f.current=!1}catch(e){console.error("Error sending initial message:",e),l([{role:"assistant",content:"Hello! How can I assist you with your essay today?"}])}finally{h(!1)}}})()}),[t]);return t?(0,nr.jsx)("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-lg transform transition-transform duration-300 ease-in-out",children:(0,nr.jsxs)("div",{className:"flex flex-col h-full",children:[(0,nr.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,nr.jsx)("h2",{className:"text-lg font-semibold",children:"Writing Assistant"}),(0,nr.jsx)("button",{onClick:n,className:"w-auto text-white bg-red-500 hover:bg-black",children:(0,nr.jsx)(la,{className:"h-6 w-6"})})]}),(0,nr.jsxs)("div",{ref:p,className:"flex-grow overflow-y-auto p-4 space-y-4",children:[o.map(((e,t)=>(0,nr.jsx)("div",{className:""+("user"===e.role?"text-right":"text-left"),children:(0,nr.jsx)("div",{className:"inline-block p-2 rounded-lg "+("user"===e.role?"bg-purple-100":"bg-gray-100"),children:(0,nr.jsx)(Bl,{children:e.content})})},t))),d&&(0,nr.jsx)("div",{className:"text-center text-gray-500",children:(0,nr.jsx)("p",{children:"Thinking..."})})]}),(0,nr.jsx)("div",{className:"p-4 border-t",children:(0,nr.jsx)("div",{className:"flex items-center",children:(0,nr.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),(async()=>{if(""===c.trim()||d)return;const e={role:"user",content:c};l((t=>[...t,e])),u(""),h(!0);try{const t=await Pv.invoke([m,...o,e,{role:"user",content:`Remember, I'm working on the ${r} section of my essay.`}]);l((e=>[...e,{role:"assistant",content:t.content}]))}catch(t){console.error("Error calling Groq API:",t),l((e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}]))}finally{h(!1)}})()),className:"flex-grow px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Type your message...",rows:"3",disabled:d})})})]})}):null},Av={spelling:["typing_errors","unrecognizable_typing_errors","inflectional_noun_endings","syntactic","capital_letters","compounds"],punctuation:["comma","colon","semicolon","dot","triple_dot","constituents","clauses"],lexicoSemantic:["broken_meaningfulness","missing_words","incorrect_possessives","incorrect_lexical_choice"],stylistic:["incorrect_register","repeated_expressions","noun_cumulation","passive_usage","word_order","clumsy_expressions","sentence_length"],typographical:["local_formatting","document_layout","visualization"]},Iv=async e=>{try{const n={role:"system",content:`You are an advanced essay error detection system. Analyze the text and identify ALL errors without any limit, returning them ONLY as a JSON array. Check for these specific error types:\n    \n    1. Spelling Errors - Look for:\n       - Basic typing mistakes (e.g., "teh" instead of "the")\n       - Advanced spelling issues (i/y, s/z variations)\n       - Incorrect noun endings\n       - Agreement errors\n       - Capitalization mistakes\n       - Compound word errors\n    \n    2. Punctuation Errors - Check for:\n       - Missing or incorrect commas\n       - Colon and semicolon misuse\n       - Period/dot issues\n       - Missing punctuation between clauses\n       - Incorrect coordination punctuation\n    \n    3. Lexico-Semantic Errors - Identify:\n       - Phrases that lack clear meaning\n       - Missing necessary words\n       - Incorrect possessive forms (its/it's)\n       - Wrong word choices\n       - Semantic contradictions\n       - Improper word combinations\n    \n    4. Stylistic Errors - Look for:\n       - Informal language in formal context\n       - Word repetition\n       - Excessive passive voice\n       - Poor word order\n       - Overly complex sentences\n       - Awkward expressions\n    \n    5. Typographical Errors - Check:\n       - Spacing issues\n       - Document structure problems\n       - Layout inconsistencies\n       - Formatting errors\n    \n    For EACH error found, create an object:\n    {\n      "category": "exactly one of: spelling, punctuation, lexicoSemantic, stylistic, typographical",\n      "type": "specific subcategory from the error type list",\n      "message": "clear explanation of the error",\n      "suggestions": ["specific correction suggestions"],\n      "text": "the exact problematic text"\n    }\n    \n    IMPORTANT:\n    - Return ALL errors found, with no limit per category\n    - Do not skip any errors\n    - Include every instance of repeated errors\n    - Return ONLY the JSON array, with no additional text or explanations\n    - Check the entire text thoroughly.\n    \n    Here are examples to follow, showing both the format and reasoning:\n    \n    Example 1:\n    Text: "He go to the store but forgot his wallet"\n    Step-by-step:\n      - Spelling: "go" is incorrect verb form; should be "goes".\n      - Punctuation: Missing comma between clauses.\n    JSON:\n    [\n      {\n        "category": "spelling",\n        "type": "incorrect verb form",\n        "message": "The verb 'go' is incorrect; should be 'goes' to agree with subject.",\n        "suggestions": ["goes"],\n        "text": "go"\n      },\n      {\n        "category": "punctuation",\n        "type": "missing comma",\n        "message": "Missing comma between independent clauses.",\n        "suggestions": [", between 'store' and 'but'"],\n        "text": "He go to the store but forgot his wallet"\n      }\n    ]\n    \n    Example 2:\n    Text: "There going to be many people in a short period of time"\n    Step-by-step:\n      - Spelling: "There" is incorrect; should be "They're" for correct meaning.\n      - Lexico-Semantic: "short period of time" is vague and awkward; consider rephrasing.\n    JSON:\n    [\n      {\n        "category": "spelling",\n        "type": "incorrect word",\n        "message": "The word 'There' should be 'They're' to imply 'They are'.",\n        "suggestions": ["They're"],\n        "text": "There"\n      },\n      {\n        "category": "lexicoSemantic",\n        "type": "awkward phrase",\n        "message": "'short period of time' is unclear; consider a clearer time frame.",\n        "suggestions": ["a brief duration", "a few minutes"],\n        "text": "short period of time"\n      }\n    ]\n    \n    Now, analyze this new text step-by-step for all errors:\n    Text: "${e}"\n    JSON:\n    `},r={role:"user",content:`Analyze this text for ALL errors and return ONLY a JSON array. Find every single error: "${e}"`},a=await Pv.invoke([n,r]);let i=[];const o=a.content.trim();try{i=JSON.parse(o)}catch(eb){const n=o.match(/\[\s*\{[\s\S]*\}\s*\]/);if(n)try{i=JSON.parse(n[0])}catch(t){console.error("Failed to parse extracted JSON:",t)}}Array.isArray(i)||(console.error("AI response is not an array:",i),i=[]);const s=Object.keys(Av).reduce(((e,t)=>(e[t]=i.filter((e=>e.category===t)).map((e=>({...e,suggestions:Array.isArray(e.suggestions)?e.suggestions:[]}))),e)),{});return Object.keys(Av).forEach((e=>{s[e]||(s[e]=[])})),s}catch(n){return console.error("Error checking essay:",n),Object.keys(Av).reduce(((e,t)=>(e[t]=[],e)),{})}},Rv={introduction:"\n    - Clear thesis statement present\n    - Sufficient background context\n    - Main points clearly outlined\n    - Engaging opening\n  ",bodyParagraph:"\n    - Clear topic sentence that directly supports the thesis\n    - Strong supporting evidence and examples\n    - Thorough analysis explaining the evidence\n    - Clear connection back to thesis/main argument\n    - Smooth transitions between ideas\n    - Proper paragraph structure and organization\n  ",conclusion:"\n    - Effective restatement of thesis\n    - Comprehensive summary of main points\n    - Meaningful final insights or implications\n    - Strong closing statement\n    - Clear sense of closure\n    - No new arguments introduced\n  "},Lv=async e=>{const t={role:"system",content:'You are a JSON-only response analyzer. Analyze the thesis statement and extract main points for body paragraphs.\n\nIMPORTANT: Return ONLY a valid JSON object with NO additional text, following this EXACT structure:\n{\n  "mainPoints": [\n    {\n      "point": "string",\n      "keywords": ["keyword1", "keyword2"],\n      "suggestedEvidence": ["evidence1", "evidence2"]\n    }\n  ]\n}\n\nRules:\n1. The response must be ONLY the JSON object\n2. All property names must be in double quotes\n3. All string values must be in double quotes\n4. Arrays can be empty but must be present\n5. NO comments or extra text allowed'};try{let r=(await Pv.invoke([t,{role:"user",content:`Extract main points from this thesis: "${e}"`}])).content;r.includes("{")&&(r=r.substring(r.indexOf("{"),r.lastIndexOf("}")+1));try{const e=JSON.parse(r);if(!e.mainPoints||!Array.isArray(e.mainPoints))throw new Error("Invalid response structure");return e.mainPoints=e.mainPoints.map(((e,t)=>({point:e.point||`Main Point ${t+1}`,keywords:Array.isArray(e.keywords)?e.keywords:[],suggestedEvidence:Array.isArray(e.suggestedEvidence)?e.suggestedEvidence:[]}))),e}catch(n){return console.error("Failed to parse response:",n),Mv()}}catch(r){return console.error("Error parsing thesis points:",r),Mv()}},$v=e=>{if(!Array.isArray(e))throw new Error("Invalid main points structure");return e.map(((e,t)=>({id:`body-${Date.now()}-${t+1}`,title:`Body Paragraph ${t+1}: ${e.point}`,type:"body",percentage:0,keywords:e.keywords,suggestedEvidence:e.suggestedEvidence})))},Mv=()=>({mainPoints:[{point:"Main Argument",keywords:[],suggestedEvidence:[]}]}),Dv=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var r,a;const i=(e=>{const t=e.toLowerCase();if(t.includes("introduction"))return Rv.introduction;if(t.includes("body paragraph"))return Rv.bodyParagraph;if(t.includes("conclusion"))return Rv.conclusion;throw new Error("Invalid section type")})(t),o={role:"system",content:`You are a JSON-only response analyzer. Evaluate the given ${t} section against specific criteria.\n\nIMPORTANT: Return ONLY a valid JSON object with NO additional text, following this EXACT structure:\n{\n  "isComplete": false,\n  "completionStatus": {\n    "met": ["criteria met 1", "criteria met 2"],\n    "missing": ["missing criteria 1", "missing criteria 2"]\n  },\n  "feedbackItems": ["feedback 1", "feedback 2"],\n  "suggestedImprovements": ["improvement 1", "improvement 2"]\n}\n\nEvaluate against these criteria:\n${i}\n\nRules:\n1. The response must be ONLY the JSON object\n2. All property names must be in double quotes\n3. All string values must be in double quotes\n4. Arrays can be empty but must be present\n5. NO comments or extra text allowed`};let s=(await Pv.invoke([o,{role:"user",content:n?`Previous section: "${n}"\nCurrent section: "${e}"`:`Analyze this content: "${e}"`}])).content;s.includes("{")&&(s=s.substring(s.indexOf("{"),s.lastIndexOf("}")+1));const l=JSON.parse(s),c={isComplete:!1,completionStatus:{met:Array.isArray(null===l||void 0===l||null===(r=l.completionStatus)||void 0===r?void 0:r.met)?l.completionStatus.met:[],missing:Array.isArray(null===l||void 0===l||null===(a=l.completionStatus)||void 0===a?void 0:a.missing)?l.completionStatus.missing:["Requirements need to be reviewed"]},feedbackItems:Array.isArray(null===l||void 0===l?void 0:l.feedbackItems)?l.feedbackItems:[],suggestedImprovements:Array.isArray(null===l||void 0===l?void 0:l.suggestedImprovements)?l.suggestedImprovements:[]};return c.isComplete=Array.isArray(c.completionStatus.missing)&&0===c.completionStatus.missing.length,c}catch(i){return console.error("Error during section analysis:",i),function(){return{isComplete:!1,completionStatus:{met:[],missing:["Please review the section requirements"]},feedbackItems:[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Analysis could not be completed"],suggestedImprovements:["Please try analyzing the section again"]}}(i.message)}},Fv=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,nr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,nr.jsx)("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:r})}):null},zv=e=>{let{sections:t,essayInfo:n}=e;const[r,a]=(0,s.useState)(!1),[i,o]=(0,s.useState)("preview"),l=e=>localStorage.getItem(`essayContent_${e}`)||"",c=()=>(null===t||void 0===t?void 0:t.filter((e=>{const t=localStorage.getItem(`essayContent_${e.id}`);return t&&t.trim().length>0})))||[];return(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full hover:bg-purple-500",children:[(0,nr.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,nr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,nr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Full Essay"]}),(0,nr.jsxs)(Fv,{isOpen:r,onClose:()=>a(!1),children:[(0,nr.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,nr.jsx)("h2",{className:"text-xl font-semibold",children:"Full Essay Preview"}),(0,nr.jsxs)("div",{className:"flex gap-2",children:[(0,nr.jsx)("button",{onClick:()=>{const e=c().map((e=>`${e.title}\n\n${l(e.id)}`)).join("\n\n---\n\n"),t=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`${(null===n||void 0===n?void 0:n.title)||"essay"}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},className:"px-3 py-1 text-sm rounded-md bg-blue-50 text-blue-600 hover:bg-blue-100",children:"Download"}),(0,nr.jsx)("button",{onClick:()=>a(!1),className:"text-white bg-red-500 hover:bg-black",children:"\u2715"})]})]}),(0,nr.jsx)("div",{className:"flex flex-col items-center py-2 border-b",children:(0,nr.jsx)("div",{className:"flex gap-4",children:["preview","outline"].map((e=>(0,nr.jsx)("button",{onClick:()=>o(e),className:"w-auto px-4 py-2 border-b-2 transition-colors "+(i===e?"bg-gray-500 cursor-default border-blue-500 text-white-600":"border-transparent text-white-500 hover:bg-purple-500"),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})}),(0,nr.jsx)("div",{className:"flex-1 overflow-auto p-6",children:"preview"===i?(0,nr.jsxs)("div",{className:"space-y-8",children:[(0,nr.jsxs)("div",{className:"prose max-w-none",children:[(0,nr.jsx)("h1",{className:"text-2xl font-bold",children:null===n||void 0===n?void 0:n.title}),(0,nr.jsxs)("div",{className:"text-gray-600",children:[(0,nr.jsxs)("p",{children:[(0,nr.jsx)("strong",{children:"Prompt:"})," ",null===n||void 0===n?void 0:n.prompt]}),(0,nr.jsxs)("p",{children:[(0,nr.jsx)("strong",{children:"Type:"})," ",null===n||void 0===n?void 0:n.postType]})]})]}),c().map((e=>(0,nr.jsxs)("div",{className:"mb-8",children:[(0,nr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e.title}),(0,nr.jsx)("div",{className:"whitespace-pre-wrap font-serif",children:l(e.id)})]},e.id))),(0,nr.jsxs)("div",{className:"text-sm text-gray-500 text-right",children:["Word Count: ",c().map((e=>l(e.id).trim().split(/\s+/).length)).reduce(((e,t)=>e+t),0)]})]}):(0,nr.jsx)("div",{className:"space-y-4",children:c().map((e=>(0,nr.jsxs)("div",{className:"border-l-2 border-purple-200 pl-4",children:[(0,nr.jsx)("h3",{className:"font-semibold",children:e.title}),(0,nr.jsxs)("p",{className:"text-sm text-gray-600",children:[l(e.id).slice(0,150),"..."]})]},e.id)))})})]})]})},Uv=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,nr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,nr.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",children:r})}):null},Bv=e=>{let{sectionId:t,title:n}=e;const[r,a]=(0,s.useState)(!1),i=localStorage.getItem(`essayContent_${t}`);return i?(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsxs)("button",{onClick:()=>a(!0),className:"w-full flex items-center gap-2 px-3 py-1 text-left text-gray-600 hover:text-purple-600 text-sm",children:[(0,nr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,nr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View ",n]}),(0,nr.jsxs)(Uv,{isOpen:r,onClose:()=>a(!1),children:[(0,nr.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,nr.jsx)("h2",{className:"text-xl font-semibold",children:n}),(0,nr.jsx)("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,nr.jsx)("div",{className:"p-6 overflow-auto",children:(0,nr.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,nr.jsx)("div",{className:"whitespace-pre-wrap font-serif",children:i})})})]})]}):null},Hv=e=>{var t;let{isOpen:n,onClose:r,requirements:a,sectionTitle:i,isRevision:o=!1,hasBodyParagraphs:s=!1,onAcceptChanges:l,onAddBodyParagraph:c,onCompleteEssay:u,meetsRequirements:d=!1}=e;if(!n||!a)return null;const h=null===i||void 0===i?void 0:i.toLowerCase().includes("introduction"),p=null===i||void 0===i?void 0:i.toLowerCase().includes("body paragraph"),f=null===i||void 0===i?void 0:i.toLowerCase().includes("conclusion");return(0,nr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,nr.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[(0,nr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,nr.jsx)("h2",{className:"text-xl font-semibold",children:o?`Revise ${i}`:`Complete ${i}`})}),(0,nr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,nr.jsx)("p",{className:"text-gray-700",children:o?"Review your changes to this section:":a.isComplete?"Section requirements have been met:":"This section has missing requirements:"}),(0,nr.jsxs)("div",{className:"$'bg-blue-50' p-4 rounded-lg",children:[(0,nr.jsx)("h3",{className:`font-medium ${a.isComplete?"text-green-800":"text-red-800"} mb-2`,children:'"Requirements Overview:"'}),(0,nr.jsx)("ul",{className:"list-disc pl-5 space-y-2",children:a.missing&&a.missing.map(((e,t)=>(0,nr.jsx)("li",{className:a.isComplete?"text-green-700":"text-red-700",children:e},t)))})]}),h&&(null===a||void 0===a?void 0:a.isComplete)&&s&&(0,nr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg mt-4",children:[(0,nr.jsx)("h3",{className:"font-medium text-yellow-800 mb-2",children:"Existing Body Paragraphs Found"}),(0,nr.jsx)("p",{className:"text-yellow-700 mb-4",children:"You have revised your introduction successfully! You have existing body paragraphs. Would you like to:"}),(0,nr.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,nr.jsx)("button",{onClick:a.onKeepExisting,className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Continue with existing body paragraphs"}),(0,nr.jsx)("button",{onClick:a.onRegenerateBodyParagraphs,className:"w-full px-4 py-3 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors",children:"Generate new body paragraphs based on revised thesis"})]}),(0,nr.jsx)("p",{className:"text-sm text-yellow-600 mt-2",children:"Note: Generating new paragraphs will remove all existing body paragraphs."})]}),(null===(t=a.improvements)||void 0===t?void 0:t.length)>0&&(0,nr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,nr.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Suggested Improvements:"}),(0,nr.jsx)("ul",{className:"list-disc pl-5 space-y-2",children:a.improvements.map(((e,t)=>(0,nr.jsx)("li",{className:"text-blue-700",children:e},t)))})]})]}),(0,nr.jsx)("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-4",children:(()=>{const e=[];return e.push((0,nr.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Continue Writing"},"continue-writing")),o?(e.push((0,nr.jsx)("button",{onClick:l,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Accept Changes"},"accept-changes")),s||!h&&!p||e.push((0,nr.jsx)("button",{onClick:c,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Add Body Manual Paragraph"},"add-body"))):h?a.isComplete?s?(e.push((0,nr.jsx)("button",{onClick:a.onRegenerateBodyParagraphs,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Regenerate Paragraphs from New Thesis"},"generate-body")),e.push((0,nr.jsx)("button",{onClick:a.onKeepExisting,className:"px-4 py-2 border-2 border-purple-600 text-purple-600 rounded hover:bg-purple-50",children:"Keep Existing Paragraphs"},"keep-existing"))):e.push((0,nr.jsx)("button",{onClick:a.onRegenerateBodyParagraphs,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Generate Body Paragraphs from Thesis"},"generate-body")):e.push((0,nr.jsx)("button",{onClick:a.onAddBodyParagraph,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Add Manual Body Paragraph"},"add-body")):p?(a.onContinue&&e.push((0,nr.jsx)("button",{onClick:a.onContinue,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Next Body Paragraph"},"next-section")),a.onAddNewBodyParagraph&&e.push((0,nr.jsx)("button",{onClick:a.onAddNewBodyParagraph,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Add New Body Paragraph"},"add-body"))):f&&(d?e.push((0,nr.jsx)("button",{onClick:u,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Complete Essay"},"complete-essay")):e.push((0,nr.jsx)("button",{onClick:a.onCompleteEssay,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Complete Essay"},"complete-essay"))),e})()})]})})},qv=["spelling","punctuation","lexicoSemantic","stylistic","typographical"],Wv=30,Vv={spelling:"bg-red-200",punctuation:"bg-yellow-200",lexicoSemantic:"bg-orange-200",stylistic:"bg-blue-200",typographical:"bg-green-200"},Zv=e=>({spelling:"Spelling",punctuation:"Punctuation",lexicoSemantic:"Meaning & Word Choice",stylistic:"Style",typographical:"Typography"}[e]||e),Gv=e=>{var t;let{title:n,progress:r,isActive:a,isLast:i,id:o,onSelect:s,onDelete:l,setCompletionRequirements:c,setShowRequirementsModal:u,isFirst:d}=e;const h=null===(t=localStorage.getItem(`essayContent_${o}`))||void 0===t?void 0:t.trim(),p=JSON.parse(localStorage.getItem(`sectionRequirements_${o}`)||"null"),f=n.toLowerCase().includes("body paragraph"),m=n.toLowerCase().includes("conclusion");return(0,nr.jsxs)("div",{className:"relative cursor-pointer group",onClick:()=>s&&s(),children:[(0,nr.jsxs)("div",{className:"flex items-center py-2",children:[(0,nr.jsxs)("div",{className:"relative w-12 flex-shrink-0",children:[!d&&(0,nr.jsx)("div",{className:"absolute left-[1.375rem] -top-4 bottom-1/2 w-0.5 bg-[#F3E8FF]"}),(0,nr.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-10",children:(0,nr.jsx)("div",{className:`w-6 h-6 rounded-full ${a?"bg-purple-600":"bg-[#F3E8FF]"} \n              transition-colors duration-300\n              flex items-center justify-center`,children:(0,nr.jsx)("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})})}),!m&&(0,nr.jsx)("div",{className:"absolute left-[1.375rem] top-1/2 h-8 w-0.5 bg-[#F3E8FF]"})]}),(0,nr.jsxs)("div",{className:"flex-grow flex items-center justify-between",children:[(0,nr.jsxs)("span",{className:(n.toLowerCase().includes("introduction")?"text-purple-600":n.toLowerCase().includes("conclusion")?"text-gray-700":f?"text-blue-600":"text-gray-700")+" font-medium",children:[n,h&&!r&&(0,nr.jsxs)("span",{className:"ml-2 text-xs text-purple-400",children:["(draft",p?" - incomplete":"",")"]})]}),f&&(0,nr.jsx)("button",{onClick:e=>{e.stopPropagation(),window.confirm("Are you sure you want to delete this body paragraph?")&&l(o)},className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 \r hover:text-red-500 rounded-full hover:bg-red-50\r transition-all duration-200",children:(0,nr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),p&&!r&&(0,nr.jsx)("div",{className:"ml-12 text-xs mt-1",children:(0,nr.jsx)("button",{onClick:e=>{e.stopPropagation(),c({missing:p.missing,improvements:p.improvements,isComplete:!1}),u(!0)},className:"w-full text-left bg-red-50 p-2 rounded-md \r hover:bg-red-100 transition-colors\r border border-red-200",children:(0,nr.jsx)("div",{className:"font-medium text-red-800",children:"View Missing Requirements"})})})]})};function Jv(){const{sectionId:e}=oe(),t=re(),n=ie(),{section:r,allSections:a,essayInfo:i}=t.state||{},[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)({}),[m,g]=(0,s.useState)("spelling"),[y,v]=(0,s.useState)(0),[b,w]=(0,s.useState)(0),[x,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[E,N]=(0,s.useState)(!1),[O,j]=(0,s.useState)(!1),[C,P]=(0,s.useState)(null),[T,A]=(0,s.useState)(!1),[I]=(0,s.useState)(!1),[R,L]=(0,s.useState)(!1),[$,M]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(a){const e=a.filter((e=>e.title.toLowerCase().includes("body paragraph")));M(e)}}),[a]),(0,s.useEffect)((()=>{l(""),f({}),_(!1),S(!1),w(0),(()=>{const t=localStorage.getItem(`essayContent_${e}`);u(t||"")})()}),[e]),(0,s.useEffect)((()=>{if(x&&Object.keys(p).length>0){const e=z(c,p);l(e)}}),[p,c,x]),(0,s.useEffect)((()=>{if(a){const e=a.filter((e=>e.title.toLowerCase().includes("body paragraph")));L(e.length>0)}}),[a]),(0,s.useEffect)((()=>{const t=setInterval((()=>{e&&localStorage.setItem(`essayContent_${e}`,c)}),3e3);return()=>clearInterval(t)}),[c,e]);const D=()=>{const e=a.findIndex((e=>e.title.toLowerCase().includes("conclusion"))),t=a.filter((e=>e.title.toLowerCase().includes("body paragraph"))),r={id:`body-${Date.now()}`,title:`Body Paragraph ${t.length+1}`,type:"body",percentage:0};let o;o=-1!==e?[...a.slice(0,e),r,...a.slice(e)]:[...a,r],localStorage.setItem("essaySections",JSON.stringify(o)),j(!1),n(`/essayblock/${r.id}`,{state:{section:r,allSections:o,essayInfo:i}})},F=o=>{const s=a.filter((e=>e.id!==o)),l=s.map((e=>{if(e.title.toLowerCase().includes("body paragraph")){const t=s.filter((e=>e.title.toLowerCase().includes("body paragraph"))).findIndex((t=>t.id===e.id))+1;return{...e,title:`Body Paragraph ${t}`}}return e}));if(localStorage.removeItem(`essayContent_${o}`),localStorage.removeItem(`sectionRequirements_${o}`),o===e){const t=a.findIndex((t=>t.id===e)),r=l[Math.min(t,l.length-1)];n(`/essayblock/${r.id}`,{state:{section:r,allSections:l,essayInfo:i}})}else t.state&&(t.state.allSections=l),n(`/essayblock/${e}`,{state:{section:r,allSections:l,essayInfo:i}})},z=(e,t)=>{if(!e||!t)return"";let n=[];Object.entries(t).forEach((t=>{let[r,a]=t;a.forEach((t=>{const a=t.text;let i=0;for(;i<e.length;){const o=e.indexOf(a,i);if(-1===o)break;n.push({start:o,end:o+a.length,category:r,text:a,message:t.message,color:Vv[r]}),i=o+1}}))})),n.sort(((e,t)=>e.start-t.start));let r="\n      <style>\n        .error-overlap-2 {\n          background: repeating-linear-gradient(\n            45deg,\n            var(--color1),\n            var(--color1) 10px,\n            var(--color2) 10px,\n            var(--color2) 20px\n          );\n        }\n        .error-overlap-3 {\n          background: repeating-linear-gradient(\n            -45deg,\n            var(--color1),\n            var(--color1) 8px,\n            var(--color2) 8px,\n            var(--color2) 16px,\n            var(--color3) 16px,\n            var(--color3) 24px\n          );\n        }\n      </style>\n    ",a=[];const i=e=>({"red-200":"254, 202, 202","yellow-200":"255, 255, 0","orange-200":"254, 128, 0","blue-200":"191, 219, 254","green-200":"187, 247, 208"}[e]||"200, 200, 200"),o=t=>{if(a=n.filter((e=>e.start<=t&&e.end>t)),0===a.length)return e.charAt(t);if(t===a[0].start){const n=Math.min(...a.map((e=>e.end))),r=e.slice(t,n);if(1===a.length)return`<span class="${a[0].color} rounded px-1" title="${a[0].message}">${r}</span>`;{const e=a.map((e=>e.message)).join("\n"),t=a.map((e=>e.color.replace("bg-","")));return`<span class="rounded px-1 error-overlap-${a.length}" \n            style="--color1: rgb(${i(t[0])}); \n                   --color2: rgb(${i(t[1])}); \n                   ${t[2]?`--color3: rgb(${i(t[2])});`:""}"\n            title="${e}">${r}</span>`}}return""};for(let s=0;s<e.length;s++){let e=o(s);e&&(r+=e,e.includes("span")&&(s=Math.min(...a.map((e=>e.end)))-1))}return r},U=()=>h(!d);return(0,nr.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,nr.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[(0,nr.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,nr.jsxs)("div",{className:"flex items-center space-x-2 text-purple-600 cursor-pointer",onClick:()=>n("/essaybuilder",{state:{essayInfo:i}}),children:[(0,nr.jsx)(pa,{className:"h-6 w-6"}),(0,nr.jsx)("span",{children:"Return to Essay Builder"})]})}),(0,nr.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,nr.jsx)("h2",{className:"font-semibold",children:null===r||void 0===r?void 0:r.title})}),(0,nr.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,nr.jsx)("h3",{className:"font-semibold mb-2",children:"Essay Information"}),(0,nr.jsxs)("p",{className:"text-sm",children:[(0,nr.jsx)("strong",{children:"Prompt:"})," ",null===i||void 0===i?void 0:i.prompt]}),(0,nr.jsxs)("p",{className:"text-sm",children:[(0,nr.jsx)("strong",{children:"Title:"})," ",null===i||void 0===i?void 0:i.title]}),(0,nr.jsxs)("p",{className:"text-sm",children:[(0,nr.jsx)("strong",{children:"Post Type:"})," ",null===i||void 0===i?void 0:i.postType]})]}),(0,nr.jsxs)("div",{className:"p-4 flex-grow overflow-auto",children:[(0,nr.jsx)("h3",{className:"font-semibold mb-2",children:"Essay Progress"}),null===a||void 0===a?void 0:a.map(((t,o)=>{const l=t.title.toLowerCase().includes("introduction"),u=t.title.toLowerCase().includes("body paragraph");return(0,nr.jsxs)(s.Fragment,{children:[(0,nr.jsx)(Gv,{id:t.id,title:t.title,progress:100===t.percentage,isActive:t.id===e,isLast:u||l,onSelect:()=>{return r=t,localStorage.setItem(`essayContent_${e}`,c),void n(`/essayblock/${r.id}`,{state:{section:r,allSections:a,essayInfo:i}});var r},onDelete:F,setCompletionRequirements:P,setShowRequirementsModal:j}),100===t.percentage&&t.id!==e&&(0,nr.jsx)("div",{className:"ml-9 mt-1",children:(0,nr.jsx)(Bv,{sectionId:t.id,title:t.title})}),(l||u)&&o===a.findIndex((e=>e.title.toLowerCase().includes("conclusion")))-1&&a.filter((e=>e.title.toLowerCase().includes("body paragraph"))).length<5&&(0,nr.jsxs)("div",{className:"relative cursor-pointer group py-2",children:[(0,nr.jsx)("div",{className:"w-6 h-6 rounded-full bg-purple-200 \n                      flex items-center justify-center transition-colors\n                      hover:bg-purple-500 absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,nr.jsx)("div",{className:"w-4 h-4 rounded-full bg-purple-600",style:{opacity:.3}})}),(0,nr.jsxs)("button",{onClick:()=>{const t=a.findIndex((e=>e.title.toLowerCase().includes("conclusion"))),o=a.filter((e=>e.title.toLowerCase().includes("body paragraph"))).length,s={id:`body-${Date.now()}`,title:`Body Paragraph ${o+1}`,type:"body",percentage:0};let l;l=-1!==t?[...a.slice(0,t),s,...a.slice(t)]:[...a,s],n(`/essayblock/${e}`,{state:{section:r,allSections:l,essayInfo:i}})},className:"w-full flex-1 flex items-center space-x-3 bg-white text-purple-600 border-2 border-dashed border-purple-600 rounded-full py-1 pl-12 pr-4 hover:bg-purple-50 transition-colors ml-6 text-sm",children:[(0,nr.jsx)("span",{className:"font-medium",children:"Add Body Paragraph"}),(0,nr.jsx)(ca,{className:"h-4 w-4"})]})]})]},t.id)}))]})]}),(0,nr.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,nr.jsxs)("header",{className:"bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[(0,nr.jsx)("h1",{className:"text-2xl font-semibold",children:null===r||void 0===r?void 0:r.title}),(0,nr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,nr.jsx)(zv,{sections:a,essayInfo:i}),(0,nr.jsxs)("div",{className:"text-purple-600 font-bold",children:["Score: ",b]}),(0,nr.jsxs)("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-full flex items-center hover:bg-purple-500",onClick:U,children:[(0,nr.jsx)(fa,{className:"h-5 w-5 mr-2"}),"WRITING ASSISTANT"]})]})]}),(0,nr.jsx)("div",{className:"flex-grow p-6 overflow-hidden h-[calc(100vh-16rem)]",children:(0,nr.jsxs)("div",{className:"grid grid-cols-12 gap-6 h-[calc(100vh-20rem)]",children:[(0,nr.jsxs)("div",{className:(k&&x?"col-span-5":"col-span-12")+" bg-white rounded-lg shadow overflow-hidden flex flex-col h-[calc(100vh-20rem)]",children:[(0,nr.jsx)("div",{className:"flex-1 p-4 overflow-hidden",children:(0,nr.jsx)("textarea",{value:c,onChange:n=>{const r=n.target.value;u(r),localStorage.setItem(`essayContent_${e}`,r);const i=a.map((t=>t.id===e?{...t,percentage:r.trim()?t.percentage||50:0}:t));localStorage.setItem("essaySections",JSON.stringify(i)),t.state&&(t.state.allSections=i)},className:"w-full h-full resize-none focus:outline-none font-mono overflow-auto",placeholder:"Start writing your essay here..."})}),k&&(0,nr.jsx)("div",{className:"h-[60px] px-4 border-t border-gray-200 flex justify-center items-center",children:(0,nr.jsx)("button",{onClick:()=>_(!x),className:"flex items-center gap-2 px-4 py-1.5 rounded-full bg-purple-500 hover:bg-purple-200 transition-colors",children:x?(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)(ma,{className:"h-5 w-5 text-white"}),(0,nr.jsx)("span",{className:"text-white",children:"Hide Corrections"})]}):(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)(ga,{className:"h-5 w-5 text-white"}),(0,nr.jsx)("span",{className:"text-white",children:"Show Corrections"})]})})})]}),k&&x&&(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsxs)("div",{className:"col-span-4 bg-white rounded-lg shadow overflow-hidden flex flex-col h-[calc(100vh-20rem)]",children:[(0,nr.jsx)("div",{className:"flex-1 p-4 overflow-auto",children:(0,nr.jsx)("div",{className:"whitespace-pre-wrap font-mono",dangerouslySetInnerHTML:{__html:o}})}),(0,nr.jsx)("div",{className:"h-[60px] px-4 py-3 border-t border-gray-200 flex items-center",children:(0,nr.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(Vv).filter((e=>{var t;let[n]=e;return(null===(t=p[n])||void 0===t?void 0:t.length)>0})).map((e=>{let[t,n]=e;return(0,nr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,nr.jsx)("span",{className:`inline-block w-3 h-3 rounded ${n}`}),(0,nr.jsx)("span",{className:"text-xs text-gray-600",children:Zv(t)})]},t)}))})})]}),(0,nr.jsxs)("div",{className:"col-span-3 flex flex-col h-[calc(100vh-20rem)]",children:[(0,nr.jsx)("div",{className:"bg-white rounded-lg p-4 shadow mb-4 h-[72px]",children:(0,nr.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:qv.filter((e=>{var t;return(null===(t=p[e])||void 0===t?void 0:t.length)>0})).map((e=>{var t;return(0,nr.jsxs)("button",{onClick:()=>g(e),className:"px-3 py-1 rounded-full text-sm whitespace-nowrap "+(m===e?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"),children:[Zv(e)," (",null===(t=p[e])||void 0===t?void 0:t.length,")"]},e)}))})}),(0,nr.jsx)("div",{className:"bg-white rounded-lg shadow flex-1 overflow-y-auto",children:(0,nr.jsx)("div",{className:"p-4",children:(()=>{var e;return null!==(e=p[m])&&void 0!==e&&e.length?(0,nr.jsx)("div",{className:"space-y-4 overflow-y-auto",children:p[m].map(((e,t)=>{var n;return(0,nr.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,nr.jsx)("p",{className:"font-medium text-gray-800",children:e.message}),e.text&&(0,nr.jsxs)("p",{className:"mt-2 text-red-600 break-words",children:['Text: "',e.text,'"']}),(null===(n=e.suggestions)||void 0===n?void 0:n.length)>0&&(0,nr.jsxs)("div",{className:"mt-2",children:[(0,nr.jsx)("p",{className:"text-sm text-gray-600",children:"Suggestions:"}),(0,nr.jsx)("ul",{className:"list-disc list-inside",children:e.suggestions.map(((e,t)=>(0,nr.jsx)("li",{className:"text-green-600 break-words",children:e},t)))})]})]},t)}))}):(0,nr.jsx)("div",{className:"p-4 bg-green-50 rounded-lg",children:(0,nr.jsxs)("p",{className:"text-green-600",children:["Great work! No ",m.toLowerCase()," errors found."]})})})()})})]})]})]})}),(0,nr.jsxs)("footer",{className:"bg-white border-t border-gray-200 p-3 flex items-center justify-end space-x-3",children:[(0,nr.jsxs)("button",{onClick:async()=>{const e=Date.now();if(e-y<1e3*Wv){const t=Math.ceil((1e3*Wv-(e-y))/1e3);alert(`Please wait ${t} seconds before checking again.`)}else if(c.trim()){N(!0);try{const t=await Iv(c);f(t),l(z(c,t)),v(e),_(!0),S(!0);const n=qv.find((e=>{var n;return(null===(n=t[e])||void 0===n?void 0:n.length)>0}));n&&g(n);const r=Object.values(t).flat().length,a=Math.max(0,b+(10-r));w(a),0===r&&alert("Great job! No errors found in this section. \ud83c\udf89")}catch(t){console.error("Error checking essay:",t),alert("Sorry, there was a problem checking your essay. Please try again.")}finally{N(!1)}}else alert("Please write something before checking for errors.")},className:"bg-blue-500 text-white px-8 py-2.5 rounded-full flex items-center text-sm disabled:opacity-50",disabled:E,children:[(0,nr.jsx)(ya,{className:"h-5 w-5 mr-2"}),E?"Checking...":"Check"]}),(0,nr.jsx)("button",{onClick:async()=>{if(c.trim()){localStorage.setItem(`essayContent_${e}`,c),A(!0);try{var t;const s=a.findIndex((t=>t.id===e)),l=s+1,u=s>0?a[s-1].id:null,d=u?localStorage.getItem(`essayContent_${u}`):null,h=null===(t=localStorage.getItem(`essayContent_${e}`))||void 0===t?void 0:t.trim(),p=null===r||void 0===r?void 0:r.title.toLowerCase().includes("introduction"),f=null===r||void 0===r?void 0:r.title.toLowerCase().includes("body paragraph"),m=null===r||void 0===r?void 0:r.title.toLowerCase().includes("conclusion"),g=h&&I,y=await Dv(c,null===r||void 0===r?void 0:r.title,d);let v=a.map((t=>t.id===e?{...t,percentage:50}:t));if(f){const t=l<a.length&&a[l].title.toLowerCase().includes("body paragraph"),r=a.find((e=>e.title.toLowerCase().includes("conclusion")));if(y.isComplete){localStorage.removeItem(`sectionRequirements_${e}`);const o=a.map((t=>t.id===e?{...t,percentage:100}:t));return P({isComplete:!0,missing:[],improvements:[],hasBodyParagraphs:R,onAddNewBodyParagraph:D,onContinue:t?()=>{j(!1),n(`/essayblock/${o[l].id}`,{state:{section:o[l],allSections:o,essayInfo:i}})}:void 0,onMoveToConclusion:r?()=>{j(!1),n(`/essayblock/${r.id}`,{state:{section:r,allSections:o,essayInfo:i}})}:void 0}),j(!0),void A(!1)}return localStorage.setItem(`sectionRequirements_${e}`,JSON.stringify({missing:y.completionStatus.missing,improvements:y.suggestedImprovements})),P({missing:y.completionStatus.missing,improvements:y.suggestedImprovements,isComplete:!1,hasBodyParagraphs:R,onAddNewBodyParagraph:D,onMoveToConclusion:r?()=>{j(!1),n(`/essayblock/${r.id}`,{state:{section:r,allSections:v,essayInfo:i}})}:void 0,onContinue:t?()=>{j(!1),n(`/essayblock/${v[l].id}`,{state:{section:v[l],allSections:v,essayInfo:i}})}:void 0}),j(!0),void A(!1)}if(m){const t=a.map((t=>t.id===e?{...t,percentage:y.isComplete?100:50}:t));return y.isComplete||localStorage.setItem(`sectionRequirements_${e}`,JSON.stringify({missing:y.completionStatus.missing,improvements:y.suggestedImprovements})),P({missing:y.completionStatus.missing,improvements:y.suggestedImprovements,isComplete:y.isComplete,onCompleteEssay:()=>{j(!1),n("/essayreview",{state:{allSections:t,essayInfo:i}})}}),j(!0),void A(!1)}if(p&&!y.isComplete)return localStorage.setItem(`sectionRequirements_${e}`,JSON.stringify({missing:y.completionStatus.missing,improvements:y.suggestedImprovements})),P({missing:y.completionStatus.missing,improvements:y.suggestedImprovements,isRevision:g,hasBodyParagraphs:R,isComplete:!1,onAddBodyParagraph:()=>{const e=a.findIndex((e=>e.title.toLowerCase().includes("conclusion"))),t=a.filter((e=>e.title.toLowerCase().includes("body paragraph"))).sort(((e,t)=>parseInt(e.title.match(/\d+/)[0])-parseInt(t.title.match(/\d+/)[0]))),r={id:`body-${Date.now()}`,title:`Body Paragraph ${t.length+1}`,type:"body",percentage:0};let o;o=-1!==e?[...a.slice(0,e),r,...a.slice(e)]:[...a,r],j(!1),n(`/essayblock/${r.id}`,{state:{section:r,allSections:o,essayInfo:i}})}}),j(!0),void A(!1);if(p&&y.isComplete&&0===$.length){localStorage.removeItem(`sectionRequirements_${e}`);const t=a.map((t=>t.id===e?{...t,percentage:100}:t));try{const e=await Lv(c),r=await $v(e.mainPoints),a=t.findIndex((e=>e.title.toLowerCase().includes("conclusion")));let o;o=-1!==a?[...t.slice(0,a),...r,...t.slice(a)]:[...t,...r],P({isComplete:!0,missing:[],improvements:[],hasBodyParagraphs:!1,onRegenerateBodyParagraphs:()=>{j(!1),n(`/essayblock/${r[0].id}`,{state:{section:r[0],allSections:o,essayInfo:i}})},onAddBodyParagraph:D})}catch(o){console.error("Error during thesis parsing:",o),P({isComplete:!0,missing:[],improvements:[],hasBodyParagraphs:!1,onAddBodyParagraph:D})}return j(!0),void A(!1)}}catch(o){console.error("Error during completion:",o),alert("There was an error processing the section. Please try again.")}finally{A(!1)}}else alert("Please write some content before completing this section.")},disabled:T,className:"bg-green-500 text-white px-8 py-2.5 rounded-full flex items-center text-sm disabled:opacity-50",children:T?"Completing...":"Complete"})]}),(0,nr.jsx)(Hv,{isOpen:O,onClose:()=>j(!1),requirements:C,sectionTitle:null===r||void 0===r?void 0:r.title}),(0,nr.jsx)(Tv,{isOpen:d,onClose:U,sectionType:null===r||void 0===r?void 0:r.title,essayInfo:i,currentContent:c})]})]})}const Kv=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"}))})),Xv=()=>{const e=re(),t=ie(),{auth:n}=(0,s.useContext)(rr),{allSections:r,essayInfo:a}=e.state||{},[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),u=null===r||void 0===r?void 0:r.map((e=>localStorage.getItem(`essayContent_${e.id}`))).filter(Boolean).join("\n\n");return(0,nr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,nr.jsxs)("div",{className:"flex flex-col",children:[(0,nr.jsxs)("header",{className:"bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[(0,nr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,nr.jsx)("button",{onClick:()=>t("/essaybuilder"),className:"text-purple-600 hover:text-purple-700",children:(0,nr.jsx)(pa,{className:"h-6 w-6"})}),(0,nr.jsx)("h1",{className:"text-2xl font-semibold",children:null===a||void 0===a?void 0:a.title})]}),(0,nr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,nr.jsxs)("button",{onClick:()=>c(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-full flex items-center",children:[(0,nr.jsx)(fa,{className:"h-5 w-5 mr-2"}),"WRITING ASSISTANT"]}),(0,nr.jsxs)("button",{onClick:async()=>{if(null===n||void 0===n||!n.token)return alert("Please log in to post your essay"),void t("/login",{state:{from:e}});if(u)if(null!==a&&void 0!==a&&a.title&&null!==a&&void 0!==a&&a.postType)try{o(!0);const e={title:a.title,content:u,postType:a.postType,prompt:a.promptId||null};if((await er.post("/posts",e)).data){Object.keys(localStorage).forEach((e=>{e.startsWith("essayContent_")&&localStorage.removeItem(e),e.startsWith("sectionRequirements_")&&localStorage.removeItem(e),"essaySections"!==e&&"essayInfo"!==e||localStorage.removeItem(e),(e.startsWith("essay_")||e.includes("section"))&&localStorage.removeItem(e)})),t("/essaybuilder",{replace:!0,state:null}),t("/home",{replace:!0,state:{message:"Essay posted successfully!"}})}}catch(l){var r,i,s;401===(null===(r=l.response)||void 0===r?void 0:r.status)?(alert("Your session has expired. Please log in again."),t("/login",{state:{from:e}})):400===(null===(i=l.response)||void 0===i?void 0:i.status)?alert(l.response.data.message||"Invalid essay data. Please check all fields."):413===(null===(s=l.response)||void 0===s?void 0:s.status)?alert("Essay content is too large. Please try shortening it."):alert("Failed to post essay. Please try again later.")}finally{o(!1)}else alert("Missing required essay information");else alert("Cannot post empty essay")},disabled:i,className:"bg-green-600 text-white px-6 py-2 rounded-full flex items-center disabled:opacity-50",children:[(0,nr.jsx)(Kv,{className:"h-5 w-5 mr-2"}),i?"Posting...":"Post Essay"]})]})]}),(0,nr.jsx)("main",{className:"flex-1 p-6",children:(0,nr.jsx)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6",children:(0,nr.jsx)("div",{className:"space-y-4",children:(0,nr.jsx)("div",{className:"prose max-w-none",children:null===r||void 0===r?void 0:r.map(((e,t)=>(0,nr.jsxs)("div",{className:"mb-8",children:[(0,nr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e.title}),(0,nr.jsx)("div",{className:"whitespace-pre-wrap",children:localStorage.getItem(`essayContent_${e.id}`)})]},e.id)))})})})})]}),(0,nr.jsx)(Tv,{isOpen:l,onClose:()=>c(!1),content:u,essayInfo:a})]})};const Qv=function(){return(0,nr.jsx)(Ce,{children:(0,nr.jsx)("div",{className:"App",children:(0,nr.jsxs)(ke,{children:[(0,nr.jsx)(xe,{path:"/reset-password/:token",element:(0,nr.jsx)(ia,{})}),(0,nr.jsx)(xe,{path:"/reset-password",element:(0,nr.jsx)(aa,{})}),(0,nr.jsx)(xe,{path:"/",element:(0,nr.jsx)(ra,{children:(0,nr.jsx)(ir,{})})}),(0,nr.jsx)(xe,{path:"/login",element:(0,nr.jsx)(ra,{children:(0,nr.jsx)(ir,{})})}),(0,nr.jsx)(xe,{path:"/register",element:(0,nr.jsx)(ra,{children:(0,nr.jsx)(or,{})})}),(0,nr.jsx)(xe,{path:"/essayguidance",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(sa,{})})}),(0,nr.jsx)(xe,{path:"/essaybuilder",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(ha,{})})}),(0,nr.jsx)(xe,{path:"/essayblock/:sectionId",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(Jv,{})})}),(0,nr.jsx)(xe,{path:"/essayreview",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(Xv,{})})}),(0,nr.jsx)(xe,{path:"/home",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(Vr,{})})}),(0,nr.jsx)(xe,{path:"/profile",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(Gr,{})})}),(0,nr.jsx)(xe,{path:"/posts/:id",element:(0,nr.jsx)(na,{children:(0,nr.jsx)(ta,{})})})]})})})},Yv=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),r(e),a(e),i(e),o(e)}))};c.createRoot(document.getElementById("root")).render((0,nr.jsx)(s.StrictMode,{children:(0,nr.jsx)(ar,{children:(0,nr.jsx)(Qv,{})})})),Yv()})()})();